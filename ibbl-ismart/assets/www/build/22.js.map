{"version":3,"sources":["../../src/pages/settings/settings.module.ts","../../src/pages/settings/settings.ts"],"names":[],"mappings":"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","file":"22.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SettingsPage } from './settings';\n\n@NgModule({\n  declarations: [\n    SettingsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SettingsPage),\n  ],\n  entryComponents: [\n    SettingsPage,\n  ]\n})\nexport class SettingsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.module.ts","import {Component} from '@angular/core';\nimport {AlertController, IonicPage, NavController, NavParams} from 'ionic-angular';\nimport {GoogleAnalyticsProvider} from \"../../providers/google-analytics/google-analytics\";\nimport {CryptoParamUtilProvider} from \"../../providers/crypto-param-util/crypto-param-util\";\nimport {LocalStorageProvider} from \"../../providers/local-storage/local-storage\";\nimport {TokenServiceProvider} from \"../../providers/token-service/token-service\";\nimport {MaskTokenProvider} from \"../../providers/mask-token/mask-token\";\nimport {AuthenticationProvider} from \"../../providers/authentication/authentication\";\n\n@IonicPage()\n@Component({\n  selector: 'page-settings',\n  templateUrl: 'settings.html',\n})\nexport class SettingsPage {\n\n  settingsMenu: any = [];\n  transactional;\n  changePasswordMenu;\n  changeTPINMenu;\n  settingsError;\n\n  constructor(public navCtrl: NavController,\n              public navParams: NavParams,\n              public tokenService: TokenServiceProvider,\n              public storage: LocalStorageProvider,\n              public maskTokenUtil: MaskTokenProvider,\n              public cryptoUtil: CryptoParamUtilProvider,\n              public gaProvider: GoogleAnalyticsProvider,\n              public authService : AuthenticationProvider,\n              public alertCtrl : AlertController) {\n\n    let dWelCome = this.storage.retrieveFromStorage('welcomeVal');\n    if (dWelCome == null || dWelCome == \"\") {\n    }\n\n    else {\n      dWelCome = cryptoUtil.getDecryptVal(dWelCome);\n      dWelCome = JSON.parse(dWelCome);\n      this.transactional = dWelCome.transactional;\n    }\n\n    this.changePasswordMenu = {\n      \"menuTxt\": \"Change Password\",\n      \"menuLink\": \"#iCellular/ChangePassword01Page\",\n      \"imageUrl\": \"assets/imgs/appImage/password.jpg\"\n    };\n\n    if (this.transactional == 1) {\n      this.changeTPINMenu = {\n        \"menuTxt\": \"Change TPIN\",\n        \"menuLink\": \"#iCellular/ChangePin01Page\",\n        \"imageUrl\": \"assets/imgs/appImage/pinChange.jpg\"\n      };\n    }\n  }\n\n  goToChangePasswordPage = function () {\n    this.navCtrl.push('ChangePassword01Page');\n  };\n\n  goToChangeTPINPage = function () {\n    let radioAlert = this.alertCtrl.create();\n    radioAlert.setTitle('Confirm Change');\n    radioAlert.setCssClass(\"alertLogCss\");\n    radioAlert.setMessage(\"<center>Are you sure you want to change your TPIN</center>\");\n    radioAlert.addButton('Cancel');\n    radioAlert.addButton({\n      text: 'OK',\n      handler: data => {\n        let appData = this.storage.retrieveFromStorage(\"appData\");\n        let unMaskRefToken = this.maskTokenUtil.getUnMaskVal(appData.refreshToken);\n        this.tokenService.getNewToken(unMaskRefToken)\n          .then(data => {\n            this.onNewTokenGenCompleteForDelete(data);\n          });\n      }\n    });\n    radioAlert.present();\n    setTimeout(() => {\n      radioAlert.dismiss();\n    }, 20000);\n  };\n\n  onNewTokenGenCompleteForDelete = function (data) {\n\n    if (data.status == 0) {\n      this.navCtrl.push('ExpirePage');\n    }\n\n    else {\n      let appData = this.storage.retrieveFromStorage(\"appData\");\n      let unMaskToken = this.maskTokenUtil.getUnMaskVal(appData.token);\n      this.authService.initChangePin(unMaskToken, appData.userId, appData.appId)\n        .then(data => {\n          this.onInitChangePinComplete(data);\n        });\n    }\n  };\n\n  onInitChangePinComplete = function (data) {\n    if (data.statusCode == 1)\n    {\n      this.navCtrl.push('ChangePin01Page');\n    }\n\n    else if (data.statusCode == 0)\n    {\n      this.settingsError = data.note;\n    }\n\n    else\n    {\n      this.settingsError = \"System Error Contact with Administrator.\";\n    }\n  };\n\n\n\n  ionViewDidLoad() {\n    this.gaProvider.startTrackerWithId(\"Settings\");\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.ts"],"sourceRoot":""}