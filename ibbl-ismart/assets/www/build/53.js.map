{"version":3,"sources":["../../src/pages/i-recharge03/i-recharge03.module.ts","../../src/pages/i-recharge03/i-recharge03.ts"],"names":[],"mappings":"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","file":"53.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { IRecharge03Page } from './i-recharge03';\n\n@NgModule({\n  declarations: [\n    IRecharge03Page,\n  ],\n  imports: [\n    IonicPageModule.forChild(IRecharge03Page),\n  ],\n\n  entryComponents: [\n    IRecharge03Page\n  ]\n})\nexport class IRecharge03PageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/i-recharge03/i-recharge03.module.ts","import {Component} from '@angular/core';\nimport {AlertController, IonicPage, NavController, NavParams} from 'ionic-angular';\nimport {LocalStorageProvider} from \"../../providers/local-storage/local-storage\";\nimport {MaskTokenProvider} from \"../../providers/mask-token/mask-token\";\nimport {CryptoParamUtilProvider} from \"../../providers/crypto-param-util/crypto-param-util\";\nimport {RechargeServiceProvider} from \"../../providers/recharge-service/recharge-service\";\nimport {TokenServiceProvider} from \"../../providers/token-service/token-service\";\n\n\n\n@IonicPage()\n@Component({\n  selector: 'page-i-recharge03',\n  templateUrl: 'i-recharge03.html',\n})\nexport class IRecharge03Page {\n\n  accountNo;\n  mobileNo;\n  packageType;\n  amount;\n  shortTitle;\n  rechargeError03 = \"\";\n  tpin;\n  rTpin;\n  rechargeOperators;\n  distinctOperators = [];\n  selectedMNP;\n  mnpOperator;\n  encRechargeOp;\n  triggerAmounts;\n  twoFactor;\n  otp;\n\n  constructor(public navCtrl: NavController,\n              public navParams: NavParams,\n              public tokenService: TokenServiceProvider,\n              public storage: LocalStorageProvider,\n              public maskTokenUtil: MaskTokenProvider,\n              public cryptoUtil: CryptoParamUtilProvider,\n              public rechargeService: RechargeServiceProvider,\n              public alertCtrl: AlertController) {\n\n    this.accountNo = navParams.get('accountNo');\n    this.mobileNo = navParams.get('mobileNo');\n    this.packageType = navParams.get('packageType');\n    this.triggerAmounts = JSON.parse(navParams.get('triggerAmounts'));\n    this.twoFactor = JSON.parse(navParams.get('twoFactor'));\n    this.amount = navParams.get('amount');\n    this.shortTitle = navParams.get('shortTitle');\n    this.rechargeOperators = this.storage.retrieveFromStorage(\"rechargeOperator\");\n\n    this.otp = \"\";\n    // console.log(this.twoFactor);\n\n\n    this.FindIntValue(this.rechargeOperators, this.mobileNo.substring(0, 3));\n\n    let i = 0;\n    Object.keys(this.rechargeOperators).forEach(key => {\n      let value = this.rechargeOperators[key];\n      if (i == 0) {\n        this.distinctOperators.push(value);\n      }\n\n      else {\n        let count = this.CheckDuplicate(this.distinctOperators, value);\n        if (count == 0) {\n          this.distinctOperators.push(value);\n        }\n      }\n      i++;\n    });\n\n    // console.log(this.distinctOperators);\n  }\n\n  CheckDuplicate = function (operators, val) {\n    let count = 0;\n    Object.keys(operators).forEach(key => {\n      let value = operators[key];\n      if (value.intValue == val.intValue) {\n        count++;\n      }\n    });\n    return count;\n\n  };\n\n  FindIntValue = function (operators, val) {\n\n    Object.keys(operators).forEach(key => {\n      let value = operators[key];\n\n      if (value.ID.toString() == val.toString()) {\n        this.mnpOperator = value.intValue;\n        return;\n      }\n    });\n  };\n\n  RechargeMobile03Action = function (tpin, mnp, oneTimePass) {\n    this.rechargeError03 = \"\";\n    let validateTpinExp = new RegExp(\"[0-9]{4}$\");\n\n    this.otp = oneTimePass;\n    this.selectedMNP = mnp;\n    let flag = true;\n\n    if (tpin == \"\" || typeof(tpin) == \"undefined\") {\n      this.rechargeError03 = \"TPIN can not be blank.\";\n      flag = false;\n      return;\n    }\n    if (!validateTpinExp.test(tpin)) {\n      this.rechargeError03 = \"Invalid TPIN.\";\n      flag = false;\n      return;\n    }\n\n    if (this.twoFactor) {\n      if (this.otp == \"\" || typeof(this.otp) == \"undefined\") {\n        this.rechargeError03 = \"Please Enter OTP.\";\n        flag = false;\n        return;\n      }\n      let validateOtpExp = new RegExp(\"[0-9]{6}$\");\n      if (!validateOtpExp.test(this.otp)) {\n        this.rechargeError03 = \"Invalid OTP.\";\n        flag = false;\n        this.otp = \"\";\n        return;\n      }\n    }\n    this.rTpin = tpin;\n    this.encRechargeOp = this.cryptoUtil.getEncryptVal(mnp.toString());\n    let tgAmount = this.triggerAmounts[mnp.toString()];\n    let found = false;\n\n    if (flag) {\n      if (tgAmount == null) {\n        found = false;\n      }\n\n      else {\n        let index = tgAmount.indexOf(this.amount);\n        found = index >= 0;\n      }\n\n      if (found) {\n        this.showTriggerPopup();\n      }\n      else {\n        let appData = this.storage.retrieveFromStorage(\"appData\");\n        let unMaskRefToken = this.maskTokenUtil.getUnMaskVal(appData.refreshToken);\n        this.tokenService.getNewToken(unMaskRefToken)\n          .then(data => {\n            this.onNewTokenGenComplete(data);\n          });\n      }\n    }\n  };\n\n  showTriggerPopup() {\n\n    let nmpName = \"\";\n    if (this.selectedMNP == 1) {\n      nmpName = \"Grameen Phone\";\n    }\n    if (this.selectedMNP == 2) {\n      nmpName = \"Banglalink\";\n    }\n    if (this.selectedMNP == 3) {\n      nmpName = \"Robi\";\n    }\n    if (this.selectedMNP == 5) {\n      nmpName = \"Teletalk\";\n    }\n    if (this.selectedMNP == 6) {\n      nmpName = \"Airtel\";\n    }\n\n    let confirmAlert = this.alertCtrl.create({\n        title: \"Recharge Confirmation !\",\n        message: \"<center>This Recharge amount will activate \" + nmpName + \" special bundle pack. \" +\n        \" Visit \" + nmpName + \" website for detail.</br> <b>Do you want to continue ?</b></center>\",\n        cssClass: \"alertLogCss\",\n        enableBackdropDismiss: false,\n        buttons: [\n          {\n            text: 'No',\n            handler: () => {\n            }\n          },\n          {\n            text: 'Yes',\n            handler: () => {\n\n              let appData = this.storage.retrieveFromStorage(\"appData\");\n              let unMaskRefToken = this.maskTokenUtil.getUnMaskVal(appData.refreshToken);\n              this.tokenService.getNewToken(unMaskRefToken)\n                .then(data => {\n                  this.onNewTokenGenComplete(data);\n                });\n            }\n\n          }\n        ]\n      }\n    );\n    confirmAlert.present();\n    setTimeout(() => {\n      confirmAlert.dismiss();\n    }, 15000);\n  }\n\n  onNewTokenGenComplete = function (data) {\n\n    if (data.status == 0) {\n      this.navCtrl.setRoot('ExpirePage');\n    }\n\n    else {\n      let appData = this.storage.retrieveFromStorage(\"appData\");\n      let encAccNo = this.cryptoUtil.getEncryptVal(this.accountNo);\n      let encMobileNo = this.cryptoUtil.getEncryptVal(this.mobileNo);\n      let encPackage = this.cryptoUtil.getEncryptVal(this.packageType);\n      let encAmount = this.cryptoUtil.getEncryptVal(this.amount);\n      let encTPin = this.cryptoUtil.getEncryptVal(this.rTpin);\n      let encOTP = this.cryptoUtil.getEncryptVal(this.otp);\n      let unMaskToken = this.maskTokenUtil.getUnMaskVal(appData.token);\n      this.rechargeService.makeMobileRecharge(unMaskToken, appData.userId, appData.appId, encAccNo, encMobileNo, encPackage, encAmount, encTPin, encOTP, this.encRechargeOp)\n        .then(data => {\n          this.onMobileRechargeComplete(data);\n        });\n    }\n  };\n\n  onMobileRechargeComplete = function (data) {\n    if (data.statusCode == 1) {\n      this.navCtrl.push('IRecharge04Page', {\n        'mobileNo': this.mobileNo,\n        'amount': this.amount,\n        'package': this.packageType,\n        'shortTitle': this.shortTitle\n      });\n    }\n\n    else if (data.statusCode == 0) {\n      this.rechargeError03 = data.note;\n    }\n\n    else {\n      this.rechargeError03 = \"System Error Contact with Administrator.\";\n    }\n  };\n\n  ionViewDidLoad() {\n    // console.log('ionViewDidLoad IRecharge03Page');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/i-recharge03/i-recharge03.ts"],"sourceRoot":""}