{"version":3,"sources":["../../src/pages/location-inner04/location-inner04.module.ts","../../src/pages/location-inner04/location-inner04.ts"],"names":[],"mappings":"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","file":"36.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LocationInner04Page } from './location-inner04';\n\n@NgModule({\n  declarations: [\n    LocationInner04Page,\n  ],\n  imports: [\n    IonicPageModule.forChild(LocationInner04Page),\n  ],\n\n  entryComponents: [\n    LocationInner04Page\n  ]\n})\nexport class LocationInner04PageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/location-inner04/location-inner04.module.ts","import {Component} from '@angular/core';\nimport {IonicPage,  NavParams, ToastController} from 'ionic-angular';\nimport {\n  GoogleMap,\n  GoogleMapOptions,\n  GoogleMaps,\n  GoogleMapsEvent,\n  Marker,\n  HtmlInfoWindow\n} from \"@ionic-native/google-maps\";\nimport {GoogleAnalyticsProvider} from \"../../providers/google-analytics/google-analytics\";\n\n\n\n@IonicPage()\n@Component({\n  selector: 'page-location-inner04',\n  templateUrl: 'location-inner04.html',\n})\n\n\nexport class LocationInner04Page {\n  map: GoogleMap;\n  atmBooths;\n  zoomVal;\n  type;\n  searchingType;\n  currentLocLat = 23.7265562;//Islami Bank head office lat  value\n  currentLocLong = 90.4185879;//Islami Bank head office long value\n\n  constructor(public navParams: NavParams,\n              public gaProvider: GoogleAnalyticsProvider,\n              public toastCtrl : ToastController) {\n\n    this.atmBooths = JSON.parse(this.navParams.get(\"locationDetails\"));\n    this.zoomVal = JSON.parse(this.navParams.get(\"zoomVal\"));\n    this.type = this.navParams.get(\"type\");\n    this.searchingType = this.navParams.get(\"searchingType\");\n    this.currentLocLat = this.navParams.get(\"currentLocLat\");\n    this.currentLocLong = this.navParams.get(\"currentLocLong\");\n\n    if (this.searchingType == \"1\") {//Specific location\n      this.loadMap(Number.parseFloat(this.atmBooths[0].latitude), Number.parseFloat(this.atmBooths[0].longitude));\n    }\n    else {\n      this.loadMap(this.currentLocLat, this.currentLocLong);\n    }\n    this.showToastMessage();\n  }\n\n  loadMap(lat, long) {\n    let mapOptions: GoogleMapOptions = {\n      camera: {\n        target: {\n          lat: lat,\n          lng: long\n        },\n        zoom: this.zoomVal,\n        tilt: 30\n      }\n    };\n\n    this.map = GoogleMaps.create('map', mapOptions);\n    //2 means location nearest me\n    if (this.searchingType == \"2\") {\n      this.createSingleMarker(lat, long);\n      this.createMultipleMarker();\n    }\n    else {\n      this.createMultipleMarker();\n    }\n  }\n\n\n  createSingleMarker(lat, long) {\n    let title = \"<div style='padding : 7px;text-align: center' class='regular-font'><b>I am here</b>\";\n    let imageUrl = \"assets/imgs/pin33232.png\";\n    this.setMarketText(title, imageUrl, lat, long);\n  }\n\n  createMultipleMarker() {\n    for (let each of this.atmBooths) {\n      let title = \"<div style='padding : 7px' class='regular-font'><b>Name : </b>\" + each.name + \"</br><b> Address : </b>\" + each.address + \"</br> <b>Distance : </b>\" + each.dist + \" KM away from current position.</div>\";\n      let imageUrl = \"assets/imgs/blue4848.png\";\n      this.setMarketText(title, imageUrl, each.latitude, each.longitude);\n    }\n  }\n\n  setMarketText(title, image, lat, long) {\n    let htmlInfoWindow = new HtmlInfoWindow();\n    let frame: HTMLElement = document.createElement('div');\n    frame.innerHTML = [\n      title\n    ].join(\"\");\n\n    htmlInfoWindow.setContent(frame, {\n      width: \"220px\"\n    });\n\n    let marker: Marker = this.map.addMarkerSync({\n      icon: {\n        url: image\n      },\n      animation: 'DROP',\n      position: {\n        lat: lat,\n        lng: long,\n      },\n      draggable: true,\n      disableAutoPan: true\n    });\n\n    marker.on(GoogleMapsEvent.MARKER_CLICK).subscribe(() => {\n      htmlInfoWindow.open(marker);\n    });\n  }\n\n  showToastMessage=function () {\n    let toast = this.toastCtrl.create({\n      message: 'Please zoom in and zoom out map according to your requirement. Click on pin icon for details.',\n      duration: 7000,\n      showCloseButton: true,\n      closeButtonText: 'OK',\n      dismissOnPageChange: false\n    });\n    toast.present();\n  };\n\n  ionViewDidLoad() {\n    // console.log('ionViewDidLoad LocationInner01Page');\n    this.gaProvider.startTrackerWithId(\"Location access after login\");\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/location-inner04/location-inner04.ts"],"sourceRoot":""}