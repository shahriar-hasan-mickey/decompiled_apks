{"version":3,"sources":["../../src/pages/location-inner02/location-inner02.module.ts","../../src/pages/location-inner02/location-inner02.ts"],"names":[],"mappings":"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","file":"38.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LocationInner02Page } from './location-inner02';\n\n@NgModule({\n  declarations: [\n    LocationInner02Page,\n  ],\n  imports: [\n    IonicPageModule.forChild(LocationInner02Page),\n  ],\n\n  entryComponents: [\n    LocationInner02Page\n  ]\n})\nexport class LocationInner02PageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/location-inner02/location-inner02.module.ts","import {Component} from '@angular/core';\nimport {IonicPage, LoadingController, NavController, NavParams} from 'ionic-angular';\nimport {ConfigProvider} from \"../../providers/config/config\";\nimport {Geolocation} from \"@ionic-native/geolocation\";\nimport {LocationProvider} from \"../../providers/location/location\";\n\n\n\n@IonicPage()\n@Component({\n  selector: 'page-location-inner02',\n  templateUrl: 'location-inner02.html',\n})\nexport class LocationInner02Page {\n\n  locationServiceError02;\n  searchingType;\n  type;\n  locationDetails;\n  zoomVal;\n  currentLocLat = 23.7265562;//Islami Bank head office lat  value\n  currentLocLong = 90.4185879;//Islami Bank head office long value\n  sortedDistanceList = [];\n  noOfLocationNearestMe = 0;\n\n\n  constructor(public navCtrl: NavController,\n              public navParams: NavParams,\n              public config: ConfigProvider,\n              public geolocation: Geolocation,\n              public locationService : LocationProvider,\n              public loadingCtrl: LoadingController) {\n\n    this.type = this.navParams.get(\"type\");\n    this.locationDetails = this.navParams.get(\"locationDetails\");\n    this.zoomVal = this.config.mapZoomingMultiple;\n    this.noOfLocationNearestMe = this.config.noOfLocationNearestMe;\n    this.getMyCurrentPosition();\n  }\n\n  getMyCurrentPosition() {\n    this.geolocation.getCurrentPosition().then((resp) => {\n      this.currentLocLat = resp.coords.latitude;\n      this.currentLocLong = resp.coords.longitude;\n    }).catch((error) => {\n      console.log('Error getting location', error);\n    });\n  }\n\n  FindLocation02Action = function (searchingType) {\n    this.locationServiceError02 = \"\";\n\n    let flag = true;\n    this.searchingType=searchingType;\n\n    if (this.searchingType == \"\" || typeof(this.searchingType) == \"undefined\") {\n      this.locationServiceError02 = \"Please Select Searching Criteria.\";\n      flag = false;\n      return;\n    }\n\n    if (flag) {\n      if (this.searchingType == 1) {\n        this.navCtrl.push('LocationInner03Page', {\n          'type': this.type,\n          'searchingType': this.searchingType,\n          'currentLocLat': this.currentLocLat,\n          'currentLocLong': this.currentLocLong,\n          'locationDetails': this.locationDetails\n        });\n      }\n\n      if (this.searchingType == 2) {\n        let loading = this.loadingCtrl.create({\n          content: 'Please wait...',\n          spinner: this.config.getLoadingSpinner()\n        });\n\n        this.MakeSortedList(this.currentLocLat, this.currentLocLong, JSON.parse(this.locationDetails));\n\n        this.navCtrl.push('LocationInner04Page', {\n          'type': this.type,\n          'searchingType': this.searchingType,\n          'currentLocLat': this.currentLocLat,\n          'currentLocLong': this.currentLocLong,\n          'zoomVal': this.zoomVal,\n          'locationDetails': JSON.stringify(this.sortedDistanceList)\n        });\n        loading.dismiss();\n      }\n    }\n  };\n\n  MakeSortedList(curLat, curLong, locationList) {\n    let newDistanceList = [];\n    for (let result of locationList) {\n      let lat = result.latitude;\n      let long = result.longitude;\n      let distance=this.locationService.getDistanceFromLatLonInKm(curLat, curLong, lat, long);\n      result[\"dist\"] = distance;\n        newDistanceList.push(result)\n    }\n    newDistanceList.sort((a, b) => Number.parseFloat((a.dist )) - Number.parseFloat(b.dist));\n\n    let loopVal = 0;\n    for (let loc of newDistanceList) {\n      if (loopVal < this.noOfLocationNearestMe) {\n        this.sortedDistanceList.push(loc);\n      }\n      loopVal++;\n    }\n  }\n\n\n\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad LocationInner02Page');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/location-inner02/location-inner02.ts"],"sourceRoot":""}