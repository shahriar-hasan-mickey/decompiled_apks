{"version":3,"sources":["../../src/pages/account-statement02/account-statement02.module.ts","../../src/pages/account-statement02/account-statement02.ts"],"names":[],"mappings":"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","file":"101.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AccountStatement02Page } from './account-statement02';\nimport {DatePickerModule} from \"ion-datepicker\";\n\n@NgModule({\n  declarations: [\n    AccountStatement02Page,\n  ],\n  imports: [\n    IonicPageModule.forChild(AccountStatement02Page),\n    DatePickerModule\n  ],\n  entryComponents: [\n    AccountStatement02Page]\n})\nexport class AccountStatement02PageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/account-statement02/account-statement02.module.ts","import {Component} from '@angular/core';\nimport {IonicPage, NavController, NavParams, ToastController} from 'ionic-angular';\nimport {TokenServiceProvider} from \"../../providers/token-service/token-service\";\nimport {LocalStorageProvider} from \"../../providers/local-storage/local-storage\";\nimport {MaskTokenProvider} from \"../../providers/mask-token/mask-token\";\nimport {CryptoParamUtilProvider} from \"../../providers/crypto-param-util/crypto-param-util\";\nimport {DatePicker} from \"@ionic-native/date-picker\";\nimport {AccountServiceProvider} from \"../../providers/account-service/account-service\";\nimport {DocumentViewer} from '@ionic-native/document-viewer';\nimport {File} from \"@ionic-native/file\";\nimport {FileTransfer, FileTransferObject} from \"@ionic-native/file-transfer\";\nimport {FileOpener} from \"@ionic-native/file-opener\";\n\n\n@IonicPage()\n@Component({\n  selector: 'page-account-statement02',\n  templateUrl: 'account-statement02.html',\n})\nexport class AccountStatement02Page {\n  accStmntError02;\n  accountNo;\n  fdt;\n  tdt;\n  fromDate;\n  toDate;\n  minDate;\n  maxDate;\n  maxDateToDate;\n  fileTransfer: FileTransferObject;\n  isDownloadChecked;\n  downloadFlag;\n\n  constructor(public navCtrl: NavController,\n              public navParams: NavParams,\n              public tokenService: TokenServiceProvider,\n              public storage: LocalStorageProvider,\n              public maskTokenUtil: MaskTokenProvider,\n              public cryptoUtil: CryptoParamUtilProvider,\n              public accountService: AccountServiceProvider,\n              public datePicker: DatePicker,\n              public viewer: DocumentViewer,\n              public fileOpener: FileOpener,\n              public transfer: FileTransfer,\n              public file: File,\n              public toastCtrl: ToastController) {\n\n\n    this.accountNo = this.navParams.get(\"accountNo\");\n    this.isDownloadChecked = false;\n    this.toDate = new Date();\n    this.fromDate = new Date();\n\n    this.fromDate.setTime(this.toDate.getTime() - 7 * 24 * 60 * 60 * 1000);\n    this.fromDate.toISOString();\n\n    this.maxDate = new Date();\n    this.minDate = new Date();\n    this.maxDateToDate = new Date();\n\n    this.minDate.setFullYear(this.maxDate.getFullYear() - 10);\n    this.minDate.toISOString();\n\n    this.maxDateToDate.setTime(this.maxDate.getTime() + 30 * 24 * 60 * 60 * 1000);\n    this.maxDateToDate.toISOString();\n\n  }\n\n  viewStatement02Action = function (fromDate, toDate, downloadChecked) {\n\n    this.downloadFlag = downloadChecked;\n\n    let fDay = (fromDate.getDate() < 10 ? '0' : '') + fromDate.getDate();\n    let tDay = (toDate.getDate() < 10 ? '0' : '') + toDate.getDate();\n\n    let fMonth = fromDate.getMonth() + 1;\n    fMonth = (fMonth < 10 ? '0' : '') + fMonth;\n\n    let tMonth = toDate.getMonth() + 1;\n    tMonth = (tMonth < 10 ? '0' : '') + tMonth;\n\n    this.fdt = fDay.toString() + \"/\" + fMonth.toString() + \"/\" + fromDate.getFullYear().toString();\n    this.tdt = tDay.toString() + \"/\" + tMonth.toString() + \"/\" + toDate.getFullYear().toString();\n\n    let dateExp = new RegExp(\"(0?[1-9]|[12][0-9]|3[01])/(0?[1-9]|1[012])/((19|20|21)\\\\d\\\\d)\");\n    let flag = true;\n    if (!dateExp.test(this.fdt)) {\n      this.accStmntError02 = \"Invalid From Date. Please Enter Valid Date.\";\n      flag = false;\n      return;\n    }\n    if (!dateExp.test(this.tdt)) {\n      this.accStmntError02 = \"Invalid To Date. Please Enter Valid Date\";\n      flag = false;\n      return;\n    }\n\n    if (flag) {\n      let appData = this.storage.retrieveFromStorage(\"appData\");\n      let unMaskRefToken = this.maskTokenUtil.getUnMaskVal(appData.refreshToken);\n      this.tokenService.getNewToken(unMaskRefToken)\n        .then(data => {\n          this.onNewTokenGenComplete(data);\n        });\n    }\n  };\n\n  onNewTokenGenComplete = function (data) {\n\n    if (data.status == 0) {\n      this.navCtrl.setRoot('ExpirePage');\n    }\n\n    else {\n      let docType = null;\n      if (this.downloadFlag) {\n        docType = \"PDF\";\n      }\n\n      let appData = this.storage.retrieveFromStorage(\"appData\");\n      let encFromDate = this.cryptoUtil.getEncryptVal(this.fdt);\n      let encToDate = this.cryptoUtil.getEncryptVal(this.tdt);\n      let encAccountNo = this.cryptoUtil.getEncryptVal(this.accountNo);\n      let encDocType = this.cryptoUtil.getEncryptVal(docType);\n      let unMaskToken = this.maskTokenUtil.getUnMaskVal(appData.token);\n      this.accountService.getAccountStatement(unMaskToken, appData.userId, appData.appId, encAccountNo, encFromDate, encToDate, encDocType)\n        .then(data => {\n          this.onAccountStatementFetchComplete(data);\n        });\n    }\n  };\n\n  onAccountStatementFetchComplete = function (data) {\n    if (data.statusCode == 1) {\n\n      if (this.downloadFlag) {\n        this.downloadFromBase64(data.object.data, data.object.stmtFilename);//working\n      }\n      else {\n        this.navCtrl.push('AccountStatement03Page', {'stmntDetails': JSON.stringify(data.object)});\n      }\n    }\n\n    else if (data.statusCode == 0) {\n      this.accStmntError02 = data.note;\n    }\n\n    else {\n      this.accStmntError02 = \"System Error Contact with Administrator.\";\n    }\n  };\n\n  // viewPdfStatement = function () {\n  // const fileTransfer: FileTransferObject = this.transfer.create();\n  // const url = 'http://www.africau.edu/images/default/sample.pdf';\n  // fileTransfer.download(url, this.file.dataDirectory + 'statement.pdf').then((entry) => {\n  //   alert('download complete: ' + entry.toURL());\n  // }, (error) => {\n  //   // handle error\n  // });\n\n  // let downloadURL = 'http://www.africau.edu/images/default/sample.pdf';\n  // let filePath = this.file.dataDirectory;\n  // alert(filePath);\n  // const transfer = this.transfer.create();\n  // alert(\"transfer\");\n  // transfer.download(downloadURL, filePath+'statement.pdf').then(entry => {\n  //   alert(\"In download\");\n  //   let url = entry.toURL();\n  //   this.viewer.viewDocument(url, 'application/pdf',{});\n  //   alert(\"complete\");\n  // });\n\n  // this.downloadFile(encodeURI('https://www.africau.edu/images/default/sample.pdf'), 'Account Statement');//not working\n  // this.downloadFile(encodeURI('https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf'), 'Account Statement');//working\n  // this.downloadFile(encodeURI('https://www.adobe.com/support/products/enterprise/knowledgecenter/media/c4611_sample_explain.pdf'), 'Account Statement');//working\n  // this.downloadFile(encodeURI('https://www.pdfpdf.com/samples/Sample1.PDF'), 'Account Statement');//working\n\n  // };\n\n  // downloadFile = function (url: string, title: string) {\n  //   const headers = {\n  //     \"Access-Control-Allow-Origin\": \"*\",\n  //     \"Access-Control-Allow-Methods\": \"POST, GET, OPTIONS, PUT, DELETE, HEAD\",\n  //     \"Access-Control-Allow-Headers\": \"X-PINGOTHER, Origin, X-Requested-With, Content-Type, Accept\",\n  //     \"Access-Control-Max-Age\": \"300\"\n  //   };\n  //\n  //   let toast = this.toastCtrl.create({\n  //     message: 'Your account statement is generating. Please wait until finish.',\n  //     duration: 5000,\n  //     showCloseButton: true,\n  //     closeButtonText: 'OK',\n  //     dismissOnPageChange: true\n  //     //position : 'middle'\n  //\n  //   });\n  //   toast.present();\n  //\n  //   this.fileTransfer = this.transfer.create();\n  //   this.fileTransfer.download(url, this.file.dataDirectory + title + \".pdf\", true, headers)\n  //     .then(entry => {\n  //       console.log(\"download complete: \" + entry.toURL());\n  //       this.fileOpener.open(entry.toURL(), \"application/pdf\")\n  //         .then(() => console.log(\"File is opened\"))\n  //         .catch(e => console.log(\"Error opening file\", e));\n  //     });\n  //\n  // };\n\n  downloadFromBase64 = function (data: string, title: string) {\n\n    //Showing toast\n    let toast = this.toastCtrl.create({\n      message: 'Your account statement is generating. Please wait until finish.',\n      duration: 5000,\n      showCloseButton: true,\n      closeButtonText: 'OK',\n      dismissOnPageChange: true\n      //position : 'middle'\n\n    });\n    toast.present();\n\n\n    let downloadPDF: any = data;\n    fetch('data:application/pdf;base64,' + downloadPDF,\n      {\n        method: \"GET\"\n      }).then(res => res.blob()).then(blob => {\n      this.file.writeFile(this.file.externalApplicationStorageDirectory, title + '.pdf', blob, {replace: true}).then(res => {\n        this.fileOpener.open(\n          res.toInternalURL(),\n          'application/pdf'\n        ).then((res) => {\n\n        }).catch(err => {\n          // console.log(\"open error\")\n        });\n      }).catch(err => {\n        // console.log(\"save error\")\n      });\n    }).catch(err => {\n      // console.log(\"error\")\n    });\n  };\n\n  // createAndDownload=function (link: string, title: string) {\n  //   let path = '';\n  //   let dir_name = 'Download'; // directory to download - you can also create new directory\n  //   let file_name = title+'.pdf'; //any file name you like\n  //\n  //   const fTransfer: FileTransferObject = this.transfer.create();\n  //   let result = this.file.createDir(this.file.externalRootDirectory, dir_name, true);\n  //   result.then((resp) => {\n  //     path = resp.toURL();\n  //     console.log(path);\n  //     fTransfer.download(link, path + file_name).then((entry) => {\n  //       console.log('download complete: ' + entry.toURL());\n  //     }, (error) => {\n  //       console.log(error)\n  //     });\n  //   }, (err) => {\n  //     console.log('error on creating path : ' + err);\n  //   });\n  // };\n\n  ionViewDidLoad() {\n    // console.log('ionViewDidLoad AccountStatement02Page');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/account-statement02/account-statement02.ts"],"sourceRoot":""}