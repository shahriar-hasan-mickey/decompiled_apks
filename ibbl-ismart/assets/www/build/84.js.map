{"version":3,"sources":["../../src/pages/cash-by-code-manage-beneficiary01/cash-by-code-manage-beneficiary01.module.ts","../../src/pages/cash-by-code-manage-beneficiary01/cash-by-code-manage-beneficiary01.ts"],"names":[],"mappings":"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","file":"84.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CashByCodeManageBeneficiary01Page } from './cash-by-code-manage-beneficiary01';\n\n@NgModule({\n  declarations: [\n    CashByCodeManageBeneficiary01Page,\n  ],\n  imports: [\n    IonicPageModule.forChild(CashByCodeManageBeneficiary01Page),\n  ],\n  entryComponents: [\n    CashByCodeManageBeneficiary01Page\n  ]\n})\nexport class CashByCodeManageBeneficiary01PageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cash-by-code-manage-beneficiary01/cash-by-code-manage-beneficiary01.module.ts","import {Component} from '@angular/core';\nimport {AlertController, IonicPage, NavController, NavParams} from 'ionic-angular';\nimport {TokenServiceProvider} from \"../../providers/token-service/token-service\";\nimport {LocalStorageProvider} from \"../../providers/local-storage/local-storage\";\nimport {MaskTokenProvider} from \"../../providers/mask-token/mask-token\";\nimport {CryptoParamUtilProvider} from \"../../providers/crypto-param-util/crypto-param-util\";\nimport {GoogleAnalyticsProvider} from \"../../providers/google-analytics/google-analytics\";\nimport {CashByCodeServiceProvider} from \"../../providers/cash-by-code-service/cash-by-code-service\";\n\n\n@IonicPage()\n@Component({\n  selector: 'page-cash-by-code-manage-beneficiary01',\n  templateUrl: 'cash-by-code-manage-beneficiary01.html',\n})\nexport class CashByCodeManageBeneficiary01Page {\n\n  manageICashRemitCreditAccError = \"\";\n  mobileNo = \"\";\n  listSize=0;\n\n  constructor(public navCtrl: NavController,\n              public navParams: NavParams,\n              public tokenService: TokenServiceProvider,\n              public storage: LocalStorageProvider,\n              public maskTokenUtil: MaskTokenProvider,\n              public cryptoUtil: CryptoParamUtilProvider,\n              public cashByCodeService: CashByCodeServiceProvider,\n              public alertCtrl : AlertController,\n              public gaProvider : GoogleAnalyticsProvider) {\n\n    this.initCashByCodeBeneficiary();\n  }\n\n  initCashByCodeBeneficiary= function () {\n    let appData = this.storage.retrieveFromStorage(\"appData\");\n    let unMaskRefToken = this.maskTokenUtil.getUnMaskVal(appData.refreshToken);\n    this.tokenService.getNewToken(unMaskRefToken)\n      .then(data => {\n        this.onNewTokenGenComplete(data);\n      });\n\n  };\n\n  onNewTokenGenComplete = function (data) {\n\n    if (data.status == 0) {\n      this.navCtrl.setRoot('ExpirePage');\n    }\n\n    else {\n      let appData = this.storage.retrieveFromStorage(\"appData\");\n      let unMaskToken = this.maskTokenUtil.getUnMaskVal(appData.token);\n      this.cashByCodeService.fetchCashByCodeBeneficiary(unMaskToken, appData.userId, appData.appId)\n        .then(data => {\n          this.onFetchCashByCodeAccountsListComplete(data);\n        });\n    }\n  };\n\n  onFetchCashByCodeAccountsListComplete = function (data) {\n    if (data.statusCode == 1)\n    {\n      this.creditAccDetails = data.object;\n      this.destAccList = this.creditAccDetails.beans;\n      this.maxSubscriptions = this.creditAccDetails.maxSubscriptions;\n      this.listSize=this.destAccList.length;\n\n    }\n\n    else if (data.statusCode == 0)\n    {\n      this.manageICashRemitCreditAccError = data.note;\n    }\n\n    else\n    {\n      this.manageICashRemitCreditAccError = \"System Error Contact with Administrator.\";\n    }\n  };\n\n  goToAddCashByCodeBeneficiaryAction = function () {\n\n    let currentSubs = this.destAccList.length;\n    let maxSubs = this.maxSubscriptions;\n    if (currentSubs >= maxSubs) {\n      this.manageICashRemitCreditAccError = \"You have no more subscription left.\";\n    }\n    else {\n      this.navCtrl.push('CashByCodeAddBeneficiary01Page');\n    }\n  };\n\n  deleteCashByCodeBeneficiary = function (listItem) {\n    this.mobileNo = listItem.subscriptionValue;\n    this.manageICashRemitCreditAccError=\"\";\n\n    let radioAlert = this.alertCtrl.create();\n    radioAlert.setTitle('Confirm Delete');\n    radioAlert.setCssClass(\"alertLogCss\");\n    radioAlert.setMessage(\"<center>Are you sure you want to delete beneficiary mobile no :  <strong>\" + listItem.subscriptionValue)+'</strong></center>';\n    radioAlert.addButton('Cancel');\n    radioAlert.addButton({\n      text: 'OK',\n      handler: data => {\n        let appData = this.storage.retrieveFromStorage(\"appData\");\n        let unMaskRefToken = this.maskTokenUtil.getUnMaskVal(appData.refreshToken);\n        this.tokenService.getNewToken(unMaskRefToken)\n          .then(data => {\n            this.onNewTokenGenCompleteForDelete(data);\n          });\n      }\n    });\n    radioAlert.present();\n    setTimeout(() => {\n      radioAlert.dismiss();\n    }, 30000);\n  };\n\n  onNewTokenGenCompleteForDelete = function (data) {\n\n    if (data.status == 0) {\n      this.navCtrl.push('ExpirePage');\n    }\n\n    else {\n      let appData = this.storage.retrieveFromStorage(\"appData\");\n      let unMaskToken = this.maskTokenUtil.getUnMaskVal(appData.token);\n      let encMobileNo = this.cryptoUtil.getEncryptVal(this.mobileNo);\n      this.cashByCodeService.removeCashByCodeBeneficiary(unMaskToken, appData.userId, appData.appId, encMobileNo)\n        .then(data => {\n          this.onDeleteBeneficiaryComplete(data);\n        });\n    }\n  };\n\n  onDeleteBeneficiaryComplete = function (data) {\n    if (data.statusCode == 1)\n    {\n      let radioAlert = this.alertCtrl.create();\n      radioAlert.setTitle('Success');\n      radioAlert.setCssClass(\"alertLogCss\");\n      radioAlert.setMessage(\"<center>Beneficiary successfully Deleted.</center>\");\n      radioAlert.addButton({\n        text: 'OK',\n        handler: data => {\n          this.initCashByCodeBeneficiary();\n        }\n      });\n      radioAlert.present();\n      setTimeout(() => {\n        radioAlert.dismiss();\n      }, 20000);\n\n    }\n\n    else if (data.statusCode == 0)\n    {\n      this.manageICashRemitCreditAccError = data.note;\n    }\n\n    else\n    {\n      this.manageICashRemitCreditAccError = \"System Error Contact with Administrator.\";\n    }\n  };\n\n  ionViewDidLoad() {\n    this.gaProvider.startTrackerWithId(\"Manage iCashRemit Credit Account\");\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cash-by-code-manage-beneficiary01/cash-by-code-manage-beneficiary01.ts"],"sourceRoot":""}