!function(t){t.jqplot.PointLabels=function(e){this.show=t.jqplot.config.enablePlugins,this.location="n",this.labelsFromSeries=!1,this.seriesLabelIndex=null,this.labels=[],this._labels=[],this.stackedValue=!1,this.ypadding=6,this.xpadding=6,this.escapeHTML=!0,this.edgeTolerance=-5,this.formatter=t.jqplot.DefaultTickFormatter,this.formatString="",this.hideZeros=!1,this._elems=[],t.extend(!0,this,e)};var e={nw:0,n:1,ne:2,e:3,se:4,s:5,sw:6,w:7},s=["se","s","sw","w","nw","n","ne","e"];t.jqplot.PointLabels.init=function(e,s,i,a,l){var r=t.extend(!0,{},i,a);r.pointLabels=r.pointLabels||{},this.renderer.constructor!==t.jqplot.BarRenderer||"horizontal"!==this.barDirection||r.pointLabels.location||(r.pointLabels.location="e"),this.plugins.pointLabels=new t.jqplot.PointLabels(r.pointLabels),this.plugins.pointLabels.setLabels.call(this)},t.jqplot.PointLabels.prototype.setLabels=function(){var e,s=this.plugins.pointLabels;if(e=null!=s.seriesLabelIndex?s.seriesLabelIndex:this.renderer.constructor===t.jqplot.BarRenderer&&"horizontal"===this.barDirection?0:0===this._plotData.length?0:this._plotData[0].length-1,s._labels=[],0===s.labels.length||s.labelsFromSeries)if(s.stackedValue){if(this._plotData.length&&this._plotData[0].length)for(var i=0;i<this._plotData.length;i++)s._labels.push(this._plotData[i][e])}else{var a=this._plotData;if(this.renderer.constructor===t.jqplot.BarRenderer&&this.waterfall&&(a=this._data),a.length&&a[0].length)for(var i=0;i<a.length;i++)s._labels.push(a[i][e]);a=null}else s.labels.length&&(s._labels=s.labels)},t.jqplot.PointLabels.prototype.xOffset=function(t,e,s){e=e||this.location,s=s||this.xpadding;var i;switch(e){case"nw":i=-t.outerWidth(!0)-this.xpadding;break;case"n":i=-t.outerWidth(!0)/2;break;case"ne":i=this.xpadding;break;case"e":i=this.xpadding;break;case"se":i=this.xpadding;break;case"s":i=-t.outerWidth(!0)/2;break;case"sw":i=-t.outerWidth(!0)-this.xpadding;break;case"w":i=-t.outerWidth(!0)-this.xpadding;break;default:i=-t.outerWidth(!0)-this.xpadding}return i},t.jqplot.PointLabels.prototype.yOffset=function(t,e,s){e=e||this.location,s=s||this.xpadding;var i;switch(e){case"nw":i=-t.outerHeight(!0)-this.ypadding;break;case"n":i=-t.outerHeight(!0)-this.ypadding;break;case"ne":i=-t.outerHeight(!0)-this.ypadding;break;case"e":i=-t.outerHeight(!0)/2;break;case"se":i=this.ypadding;break;case"s":i=this.ypadding;break;case"sw":i=this.ypadding;break;case"w":i=-t.outerHeight(!0)/2;break;default:i=-t.outerHeight(!0)-this.ypadding}return i},t.jqplot.PointLabels.draw=function(i,a,l){var r=this.plugins.pointLabels;r.setLabels.call(this);for(var n=0;n<r._elems.length;n++)r._elems[n].emptyForce();if(r._elems.splice(0,r._elems.length),r.show){var o="_"+this._stackAxis+"axis";r.formatString||(r.formatString=this[o]._ticks[0].formatString,r.formatter=this[o]._ticks[0].formatter);for(var h,p,d=this._plotData,c=this._xaxis,b=this._yaxis,n=0,g=r._labels.length;g>n;n++){var u=r._labels[n];r.hideZeros&&0==parseInt(r._labels[n],10)&&(u=""),null!=u&&(u=r.formatter(r.formatString,u)),p=document.createElement("div"),r._elems[n]=t(p),h=r._elems[n],h.addClass("jqplot-point-label jqplot-series-"+this.index+" jqplot-point-"+n),h.css("position","absolute"),h.insertAfter(i.canvas),r.escapeHTML?h.text(u):h.html(u);var f=r.location;(this.fillToZero&&d[n][1]<0||this.fillToZero&&"bar"===this._type&&"horizontal"===this.barDirection&&d[n][0]<0||(this.waterfall&&parseInt(u,10))<0)&&(f=s[e[f]]);var _=c.u2p(d[n][0])+r.xOffset(h,f),L=b.u2p(d[n][1])+r.yOffset(h,f);this.renderer.constructor==t.jqplot.BarRenderer&&("vertical"==this.barDirection?_+=this._barNudge:L-=this._barNudge),h.css("left",_),h.css("top",L);var k=_+h.width(),m=L+h.height(),v=r.edgeTolerance,w=t(i.canvas).position().left,x=t(i.canvas).position().top,j=i.canvas.width+w,q=i.canvas.height+x;(w>_-v||x>L-v||k+v>j||m+v>q)&&h.remove(),h=null,p=null}}},t.jqplot.postSeriesInitHooks.push(t.jqplot.PointLabels.init),t.jqplot.postDrawSeriesHooks.push(t.jqplot.PointLabels.draw)}(jQuery);