!function(e){e.jqplot.CategoryAxisRenderer=function(t){e.jqplot.LinearAxisRenderer.call(this),this.sortMergedLabels=!1},e.jqplot.CategoryAxisRenderer.prototype=new e.jqplot.LinearAxisRenderer,e.jqplot.CategoryAxisRenderer.prototype.constructor=e.jqplot.CategoryAxisRenderer,e.jqplot.CategoryAxisRenderer.prototype.init=function(t){this.groups=1,this.groupLabels=[],this._groupLabels=[],this._grouped=!1,this._barsPerGroup=null,e.extend(!0,this,{tickOptions:{formatString:"%d"}},t);for(var s=this._dataBounds,i=0;i<this._series.length;i++){var h=this._series[i];h.groups&&(this.groups=h.groups);for(var r=h.data,a=0;a<r.length;a++)"xaxis"==this.name||"x2axis"==this.name?((r[a][0]<s.min||null==s.min)&&(s.min=r[a][0]),(r[a][0]>s.max||null==s.max)&&(s.max=r[a][0])):((r[a][1]<s.min||null==s.min)&&(s.min=r[a][1]),(r[a][1]>s.max||null==s.max)&&(s.max=r[a][1]))}this.groupLabels.length&&(this.groups=this.groupLabels.length)},e.jqplot.CategoryAxisRenderer.prototype.createTicks=function(){var t,s,i,h,r,a=(this._ticks,this.ticks),l=this.name;this._dataBounds;if(a.length){if(this.groups>1&&!this._grouped){for(var n=a.length,o=parseInt(n/this.groups,10),p=0,r=o;n>r;r+=o)a.splice(r+p,0," "),p++;this._grouped=!0}this.min=.5,this.max=a.length+.5;var _=this.max-this.min;for(this.numberTicks=2*a.length+1,r=0;r<a.length;r++){h=this.min+2*r*_/(this.numberTicks-1);var g=new this.tickRenderer(this.tickOptions);g.showLabel=!1,g.setTick(h,this.name),this._ticks.push(g);var g=new this.tickRenderer(this.tickOptions);g.label=a[r],g.showMark=!1,g.showGridline=!1,g.setTick(h+.5,this.name),this._ticks.push(g)}var g=new this.tickRenderer(this.tickOptions);g.showLabel=!1,g.setTick(h+1,this.name),this._ticks.push(g)}else{t="xaxis"==l||"x2axis"==l?this._plotDimensions.width:this._plotDimensions.height,null!=this.min&&null!=this.max&&null!=this.numberTicks&&(this.tickInterval=null),null!=this.min&&null!=this.max&&null!=this.tickInterval&&parseInt((this.max-this.min)/this.tickInterval,10)!=(this.max-this.min)/this.tickInterval&&(this.tickInterval=null);for(var i,u,m=[],x=0,s=.5,c=!1,r=0;r<this._series.length;r++)for(var d=this._series[r],b=0;b<d.data.length;b++)u="xaxis"==this.name||"x2axis"==this.name?d.data[b][0]:d.data[b][1],-1==e.inArray(u,m)&&(c=!0,x+=1,m.push(u));c&&this.sortMergedLabels&&m.sort(function(e,t){return e-t}),this.ticks=m;for(var r=0;r<this._series.length;r++)for(var d=this._series[r],b=0;b<d.data.length;b++){u="xaxis"==this.name||"x2axis"==this.name?d.data[b][0]:d.data[b][1];var f=e.inArray(u,m)+1;"xaxis"==this.name||"x2axis"==this.name?d.data[b][0]=f:d.data[b][1]=f}if(this.groups>1&&!this._grouped){for(var n=m.length,o=parseInt(n/this.groups,10),p=0,r=o;n>r;r+=o+1)m[r]=" ";this._grouped=!0}i=x+.5,null==this.numberTicks&&(this.numberTicks=2*x+1);var _=i-s;this.min=s,this.max=i;var k=0,v=parseInt(3+t/10,10),o=parseInt(x/v,10);null==this.tickInterval&&(this.tickInterval=_/(this.numberTicks-1));for(var r=0;r<this.numberTicks;r++){h=this.min+r*this.tickInterval;var g=new this.tickRenderer(this.tickOptions);r/2==parseInt(r/2,10)?(g.showLabel=!1,g.showMark=!0):(o>0&&o>k?(g.showLabel=!1,k+=1):(g.showLabel=!0,k=0),g.label=g.formatter(g.formatString,m[(r-1)/2]),g.showMark=!1,g.showGridline=!1),g.setTick(h,this.name),this._ticks.push(g)}}},e.jqplot.CategoryAxisRenderer.prototype.draw=function(t,s){if(this.show){this.renderer.createTicks.call(this);if(this._elem&&this._elem.emptyForce(),this._elem=this._elem||e('<div class="jqplot-axis jqplot-'+this.name+'" style="position:absolute;"></div>'),"xaxis"==this.name||"x2axis"==this.name?this._elem.width(this._plotDimensions.width):this._elem.height(this._plotDimensions.height),this.labelOptions.axis=this.name,this._label=new this.labelRenderer(this.labelOptions),this._label.show){var i=this._label.draw(t,s);i.appendTo(this._elem)}for(var h=this._ticks,r=0;r<h.length;r++){var a=h[r];if(a.showLabel&&(!a.isMinorTick||this.showMinorTicks)){var i=a.draw(t,s);i.appendTo(this._elem)}}this._groupLabels=[];for(var r=0;r<this.groupLabels.length;r++){var i=e('<div style="position:absolute;" class="jqplot-'+this.name+'-groupLabel"></div>');i.html(this.groupLabels[r]),this._groupLabels.push(i),i.appendTo(this._elem)}}return this._elem},e.jqplot.CategoryAxisRenderer.prototype.set=function(){var t,s=0,i=0,h=0,r=null==this._label?!1:this._label.show;if(this.show){for(var a=this._ticks,l=0;l<a.length;l++){var n=a[l];!n.showLabel||n.isMinorTick&&!this.showMinorTicks||(t="xaxis"==this.name||"x2axis"==this.name?n._elem.outerHeight(!0):n._elem.outerWidth(!0),t>s&&(s=t))}for(var o=0,l=0;l<this._groupLabels.length;l++){var p=this._groupLabels[l];t="xaxis"==this.name||"x2axis"==this.name?p.outerHeight(!0):p.outerWidth(!0),t>o&&(o=t)}r&&(i=this._label._elem.outerWidth(!0),h=this._label._elem.outerHeight(!0)),"xaxis"==this.name?(s+=o+h,this._elem.css({height:s+"px",left:"0px",bottom:"0px"})):"x2axis"==this.name?(s+=o+h,this._elem.css({height:s+"px",left:"0px",top:"0px"})):"yaxis"==this.name?(s+=o+i,this._elem.css({width:s+"px",left:"0px",top:"0px"}),r&&this._label.constructor==e.jqplot.AxisLabelRenderer&&this._label._elem.css("width",i+"px")):(s+=o+i,this._elem.css({width:s+"px",right:"0px",top:"0px"}),r&&this._label.constructor==e.jqplot.AxisLabelRenderer&&this._label._elem.css("width",i+"px"))}},e.jqplot.CategoryAxisRenderer.prototype.pack=function(t,s){var i,h=this._ticks,r=this.max,a=this.min,l=s.max,n=s.min,o=null==this._label?!1:this._label.show;for(var p in t)this._elem.css(p,t[p]);this._offsets=s;var _=l-n,g=r-a;if(this.p2u=function(e){return(e-n)*g/_+a},this.u2p=function(e){return(e-a)*_/g+n},"xaxis"==this.name||"x2axis"==this.name?(this.series_u2p=function(e){return(e-a)*_/g},this.series_p2u=function(e){return e*g/_+a}):(this.series_u2p=function(e){return(e-r)*_/g},this.series_p2u=function(e){return e*g/_+r}),this.show)if("xaxis"==this.name||"x2axis"==this.name){for(i=0;i<h.length;i++){var u=h[i];if(u.show&&u.showLabel){var m;if(u.constructor==e.jqplot.CanvasAxisTickRenderer&&u.angle){var x="xaxis"==this.name?1:-1;switch(u.labelPosition){case"auto":m=x*u.angle<0?-u.getWidth()+u._textRenderer.height*Math.sin(-u._textRenderer.angle)/2:-u._textRenderer.height*Math.sin(u._textRenderer.angle)/2;break;case"end":m=-u.getWidth()+u._textRenderer.height*Math.sin(-u._textRenderer.angle)/2;break;case"start":m=-u._textRenderer.height*Math.sin(u._textRenderer.angle)/2;break;case"middle":m=-u.getWidth()/2+u._textRenderer.height*Math.sin(-u._textRenderer.angle)/2;break;default:m=-u.getWidth()/2+u._textRenderer.height*Math.sin(-u._textRenderer.angle)/2}}else m=-u.getWidth()/2;var c=this.u2p(u.value)+m+"px";u._elem.css("left",c),u.pack()}}var d=["bottom",0];if(o){var b=this._label._elem.outerWidth(!0);this._label._elem.css("left",n+_/2-b/2+"px"),"xaxis"==this.name?(this._label._elem.css("bottom","0px"),d=["bottom",this._label._elem.outerHeight(!0)]):(this._label._elem.css("top","0px"),d=["top",this._label._elem.outerHeight(!0)]),this._label.pack()}var f=parseInt(this._ticks.length/this.groups,10);for(i=0;i<this._groupLabels.length;i++){for(var k=0,v=0,w=i*f;(i+1)*f>=w;w++)if(this._ticks[w]._elem&&" "!=this._ticks[w].label){var u=this._ticks[w]._elem,p=u.position();k+=p.left+u.outerWidth(!0)/2,v++}k/=v,this._groupLabels[i].css({left:k-this._groupLabels[i].outerWidth(!0)/2}),this._groupLabels[i].css(d[0],d[1])}}else{for(i=0;i<h.length;i++){var u=h[i];if(u.show&&u.showLabel){var m;if(u.constructor==e.jqplot.CanvasAxisTickRenderer&&u.angle){var x="yaxis"==this.name?1:-1;switch(u.labelPosition){case"auto":case"end":m=x*u.angle<0?-u._textRenderer.height*Math.cos(-u._textRenderer.angle)/2:-u.getHeight()+u._textRenderer.height*Math.cos(u._textRenderer.angle)/2;break;case"start":m=u.angle>0?-u._textRenderer.height*Math.cos(-u._textRenderer.angle)/2:-u.getHeight()+u._textRenderer.height*Math.cos(u._textRenderer.angle)/2;break;case"middle":m=-u.getHeight()/2;break;default:m=-u.getHeight()/2}}else m=-u.getHeight()/2;var c=this.u2p(u.value)+m+"px";u._elem.css("top",c),u.pack()}}var d=["left",0];if(o){var R=this._label._elem.outerHeight(!0);this._label._elem.css("top",l-_/2-R/2+"px"),"yaxis"==this.name?(this._label._elem.css("left","0px"),d=["left",this._label._elem.outerWidth(!0)]):(this._label._elem.css("right","0px"),d=["right",this._label._elem.outerWidth(!0)]),this._label.pack()}var f=parseInt(this._ticks.length/this.groups,10);for(i=0;i<this._groupLabels.length;i++){for(var k=0,v=0,w=i*f;(i+1)*f>=w;w++)if(this._ticks[w]._elem&&" "!=this._ticks[w].label){var u=this._ticks[w]._elem,p=u.position();k+=p.top+u.outerHeight()/2,v++}k/=v,this._groupLabels[i].css({top:k-this._groupLabels[i].outerHeight()/2}),this._groupLabels[i].css(d[0],d[1])}}}}(jQuery);