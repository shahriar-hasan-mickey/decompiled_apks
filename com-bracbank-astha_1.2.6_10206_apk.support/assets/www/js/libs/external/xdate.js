var XDate=function(t,e,n,r){function s(){var e,n=this instanceof s?this:new s,r=arguments,i=r.length;if("boolean"==typeof r[i-1]&&(e=r[--i],r=w(r,0,i)),i)if(1==i){if(i=r[0],i instanceof t||"number"==typeof i)n[0]=new t(+i);else if(i instanceof s){var r=n,a=new t(+i[0]);u(i)&&(a.toString=W),r[0]=a}else if("string"==typeof i){n[0]=new t(0);t:{for(var c,r=i,i=e||!1,a=s.parsers,f=0;f<a.length;f++)if(c=a[f](r,i,n)){n=c;break t}n[0]=new t(r)}}}else n[0]=new t(O.apply(t,r)),e||(n[0]=C(n[0]));else n[0]=new t;return"boolean"==typeof e&&o(n,e),n}function u(t){return t[0].toString===W}function o(e,n,r){return n?u(e)||(r&&(e[0]=new t(O(e[0].getFullYear(),e[0].getMonth(),e[0].getDate(),e[0].getHours(),e[0].getMinutes(),e[0].getSeconds(),e[0].getMilliseconds()))),e[0].toString=W):u(e)&&(e[0]=r?C(e[0]):new t(+e[0])),e}function i(t,e,n,r,s){var u=b(p,t[0],s),t=b(M,t[0],s),s=1==e?n%12:u(1),o=!1;2==r.length&&"boolean"==typeof r[1]&&(o=r[1],r=[n]),t(e,r),o&&u(1)!=s&&(t(1,[u(1)-1]),t(2,[S(u(0),u(1))]))}function a(t,n,r,s){var r=Number(r),u=e.floor(r);t["set"+z[n]](t["get"+z[n]]()+u,s||!1),u!=r&&6>n&&a(t,n+1,(r-u)*H[n],s)}function c(t,n,r){var t=t.clone().setUTCMode(!0,!0),n=s(n).setUTCMode(!0,!0),u=0;if(0==r||1==r){for(var o=6;o>=r;o--)u/=H[o],u+=p(n,!1,o)-p(t,!1,o);1==r&&(u+=12*(n.getFullYear()-t.getFullYear()))}else 2==r?(r=t.toDate().setUTCHours(0,0,0,0),u=n.toDate().setUTCHours(0,0,0,0),u=e.round((u-r)/864e5)+(n-u-(t-r))/864e5):u=(n-t)/[36e5,6e4,1e3,1][r-3];return u}function f(n){var r=n(0),s=n(1),n=n(2),s=new t(O(r,s,n)),u=l(r),n=u;return u>s?n=l(r-1):(r=l(r+1),s>=r&&(n=r)),e.floor(e.round((s-n)/864e5)/7)+1}function l(e){return e=new t(O(e,0,4)),e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+6)%7),e}function g(t,e,n,s){var u=b(p,t,s),o=b(M,t,s),n=l(n===r?u(0):n);s||(n=C(n)),t.setTime(+n),o(2,[u(2)+7*(e-1)])}function h(t,e,n,r,u){var o=s.locales,i=o[s.defaultLocale]||{},a=b(p,t,u),n=("string"==typeof n?o[n]:n)||{};return d(t,e,function(t){if(r)for(var e=(7==t?2:t)-1;e>=0;e--)r.push(a(e));return a(t)},function(t){return n[t]||i[t]},u)}function d(t,e,n,s,u){for(var o,i,a="";o=e.match(F);){if(a+=e.substr(0,o.index),o[1]){i=a;for(var a=t,c=o[1],f=n,l=s,g=u,h=c.length,y=void 0,T="";h>0;)y=m(a,c.substr(0,h),f,l,g),y!==r?(T+=y,c=c.substr(h),h=c.length):h--;a=i+(T+c)}else o[3]?(i=d(t,o[4],n,s,u),parseInt(i.replace(/\D/g,""),10)&&(a+=i)):a+=o[7]||"'";e=e.substr(o.index+o[0].length)}return a+e}function m(t,n,r,u,o){var i=s.formatters[n];if("string"==typeof i)return d(t,i,r,u,o);if("function"==typeof i)return i(t,o||!1,u);switch(n){case"fff":return v(r(6),3);case"s":return r(5);case"ss":return v(r(5));case"m":return r(4);case"mm":return v(r(4));case"h":return r(3)%12||12;case"hh":return v(r(3)%12||12);case"H":return r(3);case"HH":return v(r(3));case"d":return r(2);case"dd":return v(r(2));case"ddd":return u("dayNamesShort")[r(7)]||"";case"dddd":return u("dayNames")[r(7)]||"";case"M":return r(1)+1;case"MM":return v(r(1)+1);case"MMM":return u("monthNamesShort")[r(1)]||"";case"MMMM":return u("monthNames")[r(1)]||"";case"yy":return(r(0)+"").substring(2);case"yyyy":return r(0);case"t":return y(r,u).substr(0,1).toLowerCase();case"tt":return y(r,u).toLowerCase();case"T":return y(r,u).substr(0,1);case"TT":return y(r,u);case"z":case"zz":case"zzz":return o?n="Z":(u=t.getTimezoneOffset(),t=0>u?"+":"-",r=e.floor(e.abs(u)/60),u=e.abs(u)%60,o=r,"zz"==n?o=v(r):"zzz"==n&&(o=v(r)+":"+v(u)),n=t+o),n;case"w":return f(r);case"ww":return v(f(r));case"S":return n=r(2),n>10&&20>n?"th":["st","nd","rd"][n%10-1]||"th"}}function y(t,e){return e(t(3)<12?"amDesignator":"pmDesignator")}function T(t){return!isNaN(+t[0])}function p(t,e,n){return t["get"+(e?"UTC":"")+z[n]]()}function M(t,e,n,r){t["set"+(e?"UTC":"")+z[n]].apply(t,r)}function C(e){return new t(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())}function S(e,n){return 32-new t(O(e,n,32)).getUTCDate()}function U(t){return function(){return t.apply(r,[this].concat(w(arguments)))}}function b(t){var e=w(arguments,1);return function(){return t.apply(r,e.concat(w(arguments)))}}function w(t,e,s){return n.prototype.slice.call(t,e||0,s===r?t.length:s)}function D(t,e){for(var n=0;n<t.length;n++)e(t[n],n)}function v(t,e){for(e=e||2,t+="";t.length<e;)t="0"+t;return t}var z="FullYear,Month,Date,Hours,Minutes,Seconds,Milliseconds,Day,Year".split(","),N=["Years","Months","Days"],H=[12,31,24,60,60,1e3,1],F=/(([a-zA-Z])\2*)|(\((('.*?'|\(.*?\)|.)*?)\))|('(.*?)')/,O=t.UTC,W=t.prototype.toUTCString,k=s.prototype;return k.length=1,k.splice=n.prototype.splice,k.getUTCMode=U(u),k.setUTCMode=U(o),k.getTimezoneOffset=function(){return u(this)?0:this[0].getTimezoneOffset()},D(z,function(t,e){k["get"+t]=function(){return p(this[0],u(this),e)},8!=e&&(k["getUTC"+t]=function(){return p(this[0],!0,e)}),7!=e&&(k["set"+t]=function(t){return i(this,e,t,arguments,u(this)),this},8!=e&&(k["setUTC"+t]=function(t){return i(this,e,t,arguments,!0),this},k["add"+(N[e]||t)]=function(t,n){return a(this,e,t,n),this},k["diff"+(N[e]||t)]=function(t){return c(this,t,e)}))}),k.getWeek=function(){return f(b(p,this,!1))},k.getUTCWeek=function(){return f(b(p,this,!0))},k.setWeek=function(t,e){return g(this,t,e,!1),this},k.setUTCWeek=function(t,e){return g(this,t,e,!0),this},k.addWeeks=function(t){return this.addDays(7*Number(t))},k.diffWeeks=function(t){return c(this,t,2)/7},s.parsers=[function(e,n,r){if(e=e.match(/^(\d{4})(-(\d{2})(-(\d{2})([T ](\d{2}):(\d{2})(:(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/)){var s=new t(O(e[1],e[3]?e[3]-1:0,e[5]||1,e[7]||0,e[8]||0,e[10]||0,e[12]?1e3*Number("0."+e[12]):0));return e[13]?e[14]&&s.setUTCMinutes(s.getUTCMinutes()+("-"==e[15]?1:-1)*(60*Number(e[16])+(e[18]?Number(e[18]):0))):n||(s=C(s)),r.setTime(+s)}}],s.parse=function(t){return+s(""+t)},k.toString=function(t,e,n){return t!==r&&T(this)?h(this,t,e,n,u(this)):this[0].toString()},k.toUTCString=k.toGMTString=function(t,e,n){return t!==r&&T(this)?h(this,t,e,n,!0):this[0].toUTCString()},k.toISOString=function(){return this.toUTCString("dd/MM/yyyy'T'HH:mm:ss(.fff)zzz")},s.defaultLocale="",s.locales={"":{monthNames:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthNamesShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),dayNames:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),dayNamesShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),amDesignator:"AM",pmDesignator:"PM"}},s.formatters={i:"dd/MM/yyyy'T'HH:mm:ss(.fff)",u:"dd/MM/yyyy'T'HH:mm:ss(.fff)zzz"},D("getTime,valueOf,toDateString,toTimeString,toLocaleString,toLocaleDateString,toLocaleTimeString,toJSON".split(","),function(t){k[t]=function(){return this[0][t]()}}),k.setTime=function(t){return this[0].setTime(t),this},k.valid=U(T),k.clone=function(){return new s(this)},k.clearTime=function(){return this.setHours(0,0,0,0)},k.toDate=function(){return new t(+this[0])},s.now=function(){return+new t},s.today=function(){return(new s).clearTime()},s.UTC=O,s.getDaysInMonth=S,"undefined"!=typeof module&&module.exports&&(module.exports=s),s}(Date,Math,Array);