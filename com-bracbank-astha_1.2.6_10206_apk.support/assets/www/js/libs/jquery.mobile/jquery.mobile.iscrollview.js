!function(t,e,i,l){"use strict";function o(t){t.preventDefault()}function s(t,e){function i(){}i.prototype=e.prototype;var l=new i;l.constructor=t,t.prototype=l}function n(e,i,l){this.iscrollview=e,this._emulateBottomOffset=function(t){this.iscrollview.options.emulateBottomOffset&&(this.maxScrollY=this.wrapperH-this.scrollerH+this.minScrollY+this.iscrollview.options.bottomOffset)},this._fixInput=function(t){if(this.iscrollview.options.fixInput){for(var e,i=t.target;1!==i.nodeType;)i=i.parentNode;if(e=i.tagName.toLowerCase(),"select"===e||"input"===e||"textarea"===e)return}this.iscrollview.options.preventTouchHover?t.stopImmediatePropagation():t.preventDefault()},this._doCallback=function(t,e,i){var l=this.iscrollview,o=l._logCallback(t,e);i&&i.call(this,e),l._trigger(t.toLowerCase(),e,{iscrollview:l}),l._logCallback(t,e,o)},this._bind=function(e,i,l){var o=this.iscrollview.options.bindIscrollUsingJqueryEvents,s=o&&"mouseout"===e?"mouseleave":e;return"orientationchange"===e||"resize"===e?void this.iscrollview._logIscrollEvent("iScroll bind (ignored)",e):(this.iscrollview._logIscrollEvent("iScroll bind",e),void(o?(i?t(i):this.iscrollview.$scroller).bind(s,t.proxy(this.handleEvent,this)):(i||this.scroller).addEventListener(s,this,!!l)))},this._unbind=function(e,i,l){var o=this.iscrollview.options.bindIscrollUsingJqueryEvents,s=o&&"mouseout"===e?"mouseleave":e;return"orientationchange"===e||"resize"===e?void this.iscrollview._logIscrollEvent("iScroll unbind (ignored)"):(this.iscrollview._logIscrollEvent("iScroll unbind",e),void(o?t(i||this.iscrollview.$scroller).unbind(s,this.handleEvent):(i||this.scroller).removeEventListener(s,this,!!l)))},this._origHandleEvent=iScroll.prototype.handleEvent,this.handleEvent=function(t){var e,i=this.iscrollview.options.bindIscrollUsingJqueryEvents;e=this.iscrollview._logIscrollEvent("iScroll.handleEvent",t),i&&"mouseleave"===t.type?(t.type="mouseout",this._origHandleEvent(t),t.type="mouseleave"):this._origHandleEvent(t),this.iscrollview._logIscrollEvent("iScroll.handleEvent",t,e)},this._resize=function(){},iScroll.call(this,i,l)}var r=i.ontouchend!==l,a=/webkit/i.test(navigator.appVersion),p=/android/gi.test(navigator.appVersion),h=/firefox/i.test(navigator.userAgent),c=(/hp-tablet/gi.test(navigator.appVersion),/(iPhone|iPad|iPod).*AppleWebKit/.test(navigator.appVersion)),u=/iPad.*AppleWebKit/.test(navigator.appVersion),d=/(iPhone|iPad|iPod).*AppleWebKit.*Safari/.test(navigator.appVersion),g=(/(iPhone|iPad|iPod).*AppleWebKit.(?!.*Safari)/.test(navigator.appVersion),c&&e.navigator.Standalone!==l,t.mobile.ignoreContentEnabled===l),_=1;s(n,iScroll),t.widget("mobile.iscrollview",t.mobile.widget,{widgetEventPrefix:"iscroll_",iscroll:null,$window:t(e),$wrapper:[],$scroller:[],$scrollerContent:[],$pullDown:[],$pullUp:[],$pullUpSpacer:[],$page:[],_wrapperHeightAdjustForBoxModel:0,_firstScrollerExpand:!0,createdAt:null,pageID:null,instanceID:null,_dirty:!1,_dirtyCallbackBefore:null,_dirtyCallbackAfter:null,_sizeDirty:!1,options:{hScroll:!1,hScrollbar:!1,debug:!1,traceResizeWrapper:!1,traceRefresh:!1,traceCreateDestroy:!1,traceIscrollEvents:!1,tracedIscrollEvents:[],traceWidgetEvents:!1,tracedWidgetEvents:[],traceIscrollCallbacks:!1,tracedIscrollCallbacks:[],traceWidgetCallbacks:!1,tracedWidgetCallbacks:[],bottomOffset:0,emulateBottomOffset:!0,pageClass:"iscroll-page",wrapperClass:"iscroll-wrapper",scrollerClass:"iscroll-scroller",pullDownClass:"iscroll-pulldown",pullUpClass:"iscroll-pullup",pullLabelClass:"iscroll-pull-label",pullUpSpacerClass:"iscroll-pullup-spacer",scrollerContentClass:"iscroll-content",fixedHeightClass:"iscroll-fixed",fixedHeightSelector:":jqmData(role='header'), :jqmData(role='footer'), :jqmData(iscroll-fixed)",resizeWrapper:!0,resizeEvents:"resize"+(t.support.orientation?" orientationchange":""),refreshOnPageBeforeShow:!1,fixInput:!0,wrapperAdd:0,refreshDelay:p?200:0,scrollShortContent:!0,removeWrapperPadding:!0,addScrollerPadding:!0,scrollTopOnResize:!0,scrollTopOnOrientatationChange:!0,createScroller:!0,deferNonActiveRefresh:!0,deferNonActiveResize:!0,preventTouchHover:g&&r,bindIscrollUsingJqueryEvents:!1,fastDestroy:!1,preventPageScroll:!0,pullDownResetText:"Pull down to refresh...",pullDownPulledText:"Release to refresh...",pullDownLoadingText:"Loading...",pullUpResetText:"Pull up to refresh...",pullUpPulledText:"Release to refresh...",pullUpLoadingText:"Loading...",pullPulledClass:"iscroll-pull-pulled",pullLoadingClass:"iscroll-pull-loading",onrefresh:null,onbeforescrollstart:null,onscrollstart:null,onbeforescrollmove:null,onscrollmove:null,onbeforescrollend:null,onscrollend:null,ontouchend:null,ondestroy:null,onzoomstart:null,onzoom:null,onzoomend:null,onpulldownreset:null,onpulldownpulled:null,onpulldown:null,onpullupreset:null,onpulluppulled:null,onpullup:null,onbeforerefresh:null,onafterrefresh:null},_widgetOnlyOptions:["debug","traceIscrollEvents","tracedIscrollEvents","traceIscrollCallbacks","tracedIscrollCallbacks","traceWidgetEvents","tracedWidgetEvents","traceWidgetCallbacks","tracedWidgetCallbacks","traceResizeWrapper","traceRefresh","traceCreateDestroy","bottomOffset","emulateBottomOffset","pageClass","wrapperClass","scrollerClass","pullDownClass","pullUpClass","scrollerContentClass","pullLabelClass","pullUpSpacerClass","fixedHeightSelector","resizeWrapper","resizeEvents","refreshOnPageBeforeShow","fixInput","wrapperAdd","refreshDelay","scrollShortContent","removeWrapperPadding","addScrollerPadding","createScroller","deferNonActiveRefresh","preventTouchHover","deferNonActiveResize","bindIscrollUsingJqueryEvents","scrollTopOnResize","scrollTopOnOrientationChange","pullDownResetText","pullDownPulledText","pullDownLoadingText","pullUpResetText","pullUpPulledText","pullUpLoadingText","pullPulledClass","pullLoadingClass","onpulldownreset","onpulldownpulled","onpulldown","onpullupreset","onpulluppulled","onpullup","onbeforerefresh","onafterrefresh","fastDestroy"],_event_map:{onrefresh:"onRefresh",onbeforescrollstart:"onBeforeScrollStart",onscrollstart:"onScrollStart",onbeforescrollmove:"onBeforeScrollMove",onscrollmove:"onScrollMove",onbeforescrollend:"onBeforeScrollEnd",onscrollend:"onScrollEnd",ontouchend:"onTouchEnd",ondestroy:"onDetroy",onzoomstart:"onZoomStart",onzoom:"onZoom",onzoomend:"onZoomEnd"},_proxy_event_funcs:{onRefresh:function(t){this._doCallback("onRefresh",t,function(t){this._emulateBottomOffset(),this.iscrollview._pullOnRefresh.call(this.iscrollview,t)})},onBeforeScrollStart:function(t){this._doCallback("onBeforeScrollStart",t,function(t){this._fixInput(t)})},onScrollStart:function(t){this._doCallback("onScrollStart",t)},onBeforeScrollMove:function(t){this._doCallback("onBeforeScrollMove",t),t.preventDefault()},onScrollMove:function(t){this._doCallback("onScrollMove",t,function(t){this.iscrollview._pullOnScrollMove.call(this.iscrollview,t)})},onBeforeScrollEnd:function(t){this._doCallback("onBeforeScrollEnd",t)},onScrollEnd:function(t){this._doCallback("onScrollEnd",t,function(t){this.iscrollview._pullOnScrollEnd.call(this.iscrollview,t)})},onTouchEnd:function(t){this._doCallback("onTouchEnd",t)},onDestroy:function(t){this._doCallback("onDestroy",t)},onZoomStart:function(t){this._doCallback("onZoomStart",t)},onZoom:function(t){this._doCallback("onZoom",t)},onZoomEnd:function(t){this._doCallback("onZoomEnd",t)}},_merge_from_iscroll_options:function(){var e=t.extend(!0,{},this.iscroll.options);t.each(this._proxy_event_funcs,function(t,i){delete e[t]}),this.options.emulateBottomOffset&&delete e.bottomOffset,t.extend(this.options,e)},_create_iscroll_options:function(){var e=t.extend(!0,{},this.options);return t.each(this._widgetOnlyOptions,function(t,i){delete e[i]}),t.each(this._event_map,function(t,i){delete e[t]}),this.options.emulateBottomOffset&&delete e.bottomOffset,t.extend(e,this._proxy_event_funcs)},_pad:function(t,e,i){for(var l=t.toString(),o=i||"0";l.length<e;)l=o+l;return l},_toTime:function(t){return this._pad(t.getHours(),2)+":"+this._pad(t.getMinutes(),2)+":"+this._pad(t.getSeconds(),2)+"."+this._pad(t.getMilliseconds(),3)},_log:function(t,e){var i,l,o;return this.options.debug?(i=e||new Date,l=this.$wrapper.attr("id"),o=l?"#"+l:"",i):null},_logInterval:function(t,e){var i;return this.options.debug?(i=new Date,this._log(t+" "+(i-e)+"mS from "+this._toTime(e),i)):null},_logEvent:function(t,e,i){var l,o,s=e&&e instanceof Object,n=s?e.type:e,r=n+" "+t;return this.options.debug?(l=new Date,i?r+=" end "+ +(l-i)+"mS from "+this._toTime(i):s&&(r+=" begin"),s&&(o=new Date(e.timeStamp),r+=" ("+(l-o)+"mS from "+e.type+" @ "+this._toTime(o)+")"),this._log(r,l)):null},_logCallback:function(e,i,l){return!this.options.debug||!this.options.traceIscrollCallbacks||0!==this.options.tracedIscrollCallbacks.length&&-1===t.inArray(e,this.options.tracedIscrollCallbacks)?null:i?this._logEvent(e,i,l):l?this._logInterval(e+" end",l):this._log(e+" begin")},_logIscrollEvent:function(e,i,l){var o=i instanceof Event,s=o?i.type:i;return!this.options.debug||!this.options.traceIscrollEvents||0!==this.options.tracedIscrollEvents.length&&-1===t.inArray(s,this.options.tracedIscrollEvents)?null:this._logEvent(e,i,l)},_logWidgetEvent:function(e,i,l){var o=i instanceof Object,s=o?i.type:i;return!this.options.debug||!this.options.traceWidgetEvents||0!==this.options.tracedWidgetEvents.length&&-1===t.inArray(s,this.options.tracedWidgetEvents)?null:this._logEvent(e,i,l)},_logWidgetCallback:function(e,i,l){return!this.options.debug||!this.options.traceWidgetCallbacks||0!==this.options.tracedWidgetCallbacks.length&&-1===t.inArray(e,this.options.tracedWidgetCallbacks)?null:i?this._logEvent(e,i,l):l?this._logInterval(e+" end",l):this._log(e+" begin")},_logInterval2:function(t,e,i){var l;this.options.debug&&(l=new Date,this._log(t+" "+(l-i)+"mS from "+this._toTime(i)+" ("+(l-e)+"mS from "+this._toTime(e)+")"))},_startTiming:function(){return this.options.debug?new Date:null},_pageEventNamespace:function(){return".iscroll_"+this.pageID},_instanceEventNamespace:function(){return this._pageEventNamespace()+"_"+this.instanceID},_addEventsNamespace:function(e,i){var l=e.split(" ");return t.each(l,function(t,e){l[t]+=i}),l.join(" ")},_isvBind:function(e,i,l,o){var s=this._addEventsNamespace(i,this._instanceEventNamespace());this._logWidgetEvent("bind "+o,s),e.bind(s,t.proxy(l,this))},_bindPage:function(e,i){var l=this._addEventsNamespace(e,this._pageEventNamespace());this._logWidgetEvent("bind $page",l),this.$page.bind(l,t.proxy(i,this))},_isvUnbind:function(t,e,i){var l=this._addEventsNamespace(e,this._instanceEventNamespace());this._logWidgetEvent("unbind "+i,l),t.unbind(l)},_unbindPage:function(t){var e=this._addEventsNamespace(t,this._instanceEventNamespace());this._logWidgetEvent("unbind  $page",e),this.$page.unbind(e)},_delegate:function(e,i,l,o,s){this._logWidgetEvent("delegate "+s+" "+i,l),e.delegate(i,l,t.proxy(o,this))},_triggerWidget:function(t,e){var i=this._logWidgetCallback(t);this._trigger(t,e,{iscrollview:this}),this._logWidgetCallback(t,e,i)},isDirty:function(){return this._dirty},_restoreStyle:function(t,e){e!==l&&(null===e?t.removeAttr("style"):t.attr("style",e))},_pageBeforeShowFunc:function(e){var i=this._logWidgetEvent("_pageBeforeShowFunc",e);this._dirty?(this.resizeWrapper(!0),this.refresh(null,this._dirtyCallbackBefore,this._dirtyCallbackAfter,!0),this._dirty=!1,this._dirtyCallbackBefore=null,this._dirtyCallbackAfter=null):(this.options.refreshOnPageBeforeShow||this._sizeDirty)&&this.refresh(null,t.proxy(this._resizeWrapper,this),null,!0),this._sizeDirty=!1,this._logWidgetEvent("_pageBeforeShowFunc",e,i)},_windowResizeFunc:function(e){var i=this._logWidgetEvent("_windowResizeFunc",e);this.options.deferNonActiveResize&&!this.$page.is(t.mobile.activePage)?(this._sizeDirty=!0,this.options.traceResizeWrapper&&this._log("resizeWrapper() (deferred)")):(this.resizeWrapper(!0),this.refresh(null,null,null,!0)),this._logWidgetEvent("_windowResizeFunc",e,i)},_orientationChangeFunc:function(e){var i=this._logWidgetEvent("_orientationChangeFunc",e);this.options.scrollTopOnOrientationChange&&t.mobile.silentScroll(0),this._logWidgetEvent("_orientationChangeFunc",e,i)},_updateLayoutFunc:function(t){this.refresh()},_instanceCount:function(t){var e="iscroll-private",i=0,o=this.$page.jqmData(e)||{};return t!==l?(i=t,o.instanceCount=i,this.$page.jqmData(e,o)):o.instanceCount!==l&&(i=o.instanceCount),i},_nextInstanceID:function(t){var e="iscroll-private",i=1,o=this.$page.jqmData(e)||{};return t!==l?(i=t,o.nextInstanceID=i,this.$page.jqmData(e,o)):o.nextInstanceID!==l&&(i=o.nextInstanceID),i},_pageID:function(t){var e="iscroll-private",i=1,o=this.$page.jqmData(e)||{};return t!==l?(i=t,o.pageID=i,this.$page.jqmData(e,o)):o.pageID!==l&&(i=o.pageID),i},_adaptPage:function(){var e=this;1===this._instanceCount()&&(this.$page.addClass(this.options.pageClass),this.$page.find(this.options.fixedHeightSelector).each(function(){var i=t(this),l=0!==i.closest(".ui-popup").length,o=0!==i.closest(".ui-panel").length;l||o||i.addClass(e.options.fixedHeightClass)}),r&&this.options.preventPageScroll&&this._bindPage("touchmove",o))},_undoAdaptPage:function(){var e=this;1===this._instanceCount()&&(this.$page.find(this.options.fixedHeightSelector).each(function(){t(this).removeClass(e.options.fixedHeightClass)}),this.$page.removeClass(this.options.pageClass))},_calculateBarsHeight:function(){var e=0,i="."+this.options.fixedHeightClass,l=this.$page.find(i),o=t(".ui-mobile-viewport").children(i);return l.each(function(){e+=t(this).outerHeight(!0)}),o.each(function(){var i=t(this).jqmData("id");""!==i&&l.is(":jqmData(id='"+i+"')")||(e+=t(this).outerHeight(!0))}),e},_getBoxSizing:function(e){var i,l="";return h?l="-moz-":a&&(l="-webkit-"),i=e.css(l+"box-sizing"),!i&&l&&(i=e.css("box-sizing")),i||(i=t.boxModel?"content-box":"border-box"),i},_getHeightAdjustForBoxModel:function(t){var e;switch(this._getBoxSizing(t)){case"border-box":e=t.outerHeight(!0)-t.outerHeight();break;case"padding-box":e=t.outerHeight()-t.height();break;case"content-box":default:e=t.outerHeight(!0)-t.height()}return e},_setTopOffsetForPullDown:function(){this.$pullDown.length&&!this.options.topOffset&&(this.options.topOffset=this.$pullDown.outerHeight(!0))},_setBottomOffsetForPullUp:function(){this.$pullUp.length&&!this.options.bottomOffset&&(this.options.bottomOffset=this.$pullUp.outerHeight(!0))},_removeWrapperPadding:function(){var t=this.$wrapper;this.options.removeWrapperPadding&&(this._origWrapperPaddingLeft=t.css("padding-left"),this._origWrapperPaddingRight=t.css("padding-right"),this._origWrapperPaddingTop=t.css("padding-top"),this._origWrapperPaddingBottom=t.css("padding-bottom"),this.$wrapper.css("padding",0))},_modifyWrapperCSS:function(){this._origWrapperStyle=this.$wrapper.attr("style")||null,this._removeWrapperPadding()},_undoModifyWrapperCSS:function(){this._restoreStyle(this.$wrapper,this._origWrapperStyle)},_addScrollerPadding:function(){if(this.options.removeWrapperPadding&&this.options.addScrollerPadding){var t,e=this.$scroller.children(),i=e.not(this.$pullDown).not(this.$pullUp).not(this.$pullUpSpacer);i.wrapAll("<div/>"),t=i.parent().addClass(this.options.scrollerContentClass),t.css({"padding-left":this._origWrapperPaddingLeft,"padding-right":this._origWrapperPaddingRight,"padding-top":this._origWrapperPaddingTop,"padding-bottom":this._origWrapperPaddingBottom})}},_undoAddScrollerPadding:function(){this.options.removeWrapperPadding&&this.options.addScrollerPadding&&t("."+this.options.scrollerContentClass,this.$scroller).children().unwrap()},_addWrapperClasses:function(){this.$wrapper.addClass(this.options.wrapperClass),this.$scroller.addClass(this.options.scrollerClass)},_undoAddWrapperClasses:function(){this.$scroller.removeClass(this.options.scrollerClass),this.$wrapper.removeClass(this.options.wrapperClass)},_expandScrollerToFillWrapper:function(){(this.options.scrollShortContent||this.$pullDown.length||this.$pullUp.length)&&(this._firstScrollerExpand&&(this._origScrollerStyle=this.$scroller.attr("style")||null,this._firstScrollerExpand=!1),this.$scroller.css("min-height",this.$wrapper.height()+(this.$pullDown.length?this.$pullDown.outerHeight(!0):0)+(this.$pullUp.length?this.$pullUp.outerHeight(!0):0)))},_undoExpandScrollerToFillWrapper:function(){this._restoreStyle(this.$scroller,this._origScrollerStyle)},_resizeWrapper:function(t){var e,l,o,s=null;(t||this.options.resizeWrapper)&&(this.options.traceResizeWrapper&&(s=this._log("resizeWrapper() start")),this.$wrapper.trigger("updatelayout"),e=i.documentElement.clientHeight,l=this._calculateBarsHeight(),o=e-l-this._wrapperHeightAdjustForBoxModel+(d&&!u?60:0)+this.options.wrapperAdd,this.$wrapper.css("height",o),this._expandScrollerToFillWrapper(),this.options.traceResizeWrapper&&this._logInterval("resizeWrapper() end"+(this._sizeDirty?" (dirty)":""),s))},resizeWrapper:function(t){var e=this._setPageVisible();this._resizeWrapper(t!==l),this._restorePageVisibility(e)},_undoResizeWrapper:function(){},_modifyWrapper:function(){this._addWrapperClasses(),this._modifyWrapperCSS(),this._wrapperHeightAdjustForBoxModel=this._getHeightAdjustForBoxModel(this.$wrapper)},_undoModifyWrapper:function(){this._undoResizeWrapper(),this._undoModifyWrapperCSS(),this._undoAddWrapperClasses()},_modifyPullDown:function(){var e,i,l;0!==this.$pullDown.length&&(e=t("."+this.options.pullLabelClass,this.$pullDown),e.length&&(this._origPullDownLabelText=e.text(),this._origPullDownLabelText?this.options.pullDownResetText=this._origPullDownLabelText:e.text(this.options.pullDownResetText),i=e.jqmData("iscroll-pulled-text"),i&&(this.options.pullDownPulledText=i),l=e.jqmData("iscroll-loading-text"),l&&(this.options.pullDownLoadingText=l)))},_undoModifyPullDown:function(){if(0!==this.$pullDown.length){var e=t("."+this.options.pullLabelClass,this.$pullDown);0!==e.length&&e.text(this._origPullDownLabelText)}},_modifyPullUp:function(){var e,i,l;0!==this.$pullUp.length&&(t("<div></div>").insertBefore(this.$pullUp).css("height",this.$pullUp.outerHeight(!0)),this.$pullUpSpacer=this.$pullUp.prev(),this.$pullUpSpacer.addClass(this.options.pullUpSpacerClass),e=t("."+this.options.pullLabelClass,this.$pullUp),e.length&&(this._origPullUpLabelText=e.text(),this._origPullUpLabelText?this.options.pullUpResetText=this._origPullUpLabelText:e.text(this.options.pullUpResetText),i=e.jqmData("iscroll-pulled-text"),i&&(this.options.pullUpPulledText=i),l=e.jqmData("iscroll-loading-text"),l&&(this.options.pullUpLoadingText=l)))},_undoModifyPullUp:function(){0!==this.$pullUp.length&&(this.$pullUp.prev().remove(),this._origPullUpLabelText&&t("."+this.options.pullLabelClass,this.$pullUp).text(this._origPullUpLabelText))},_correctPushedDownPage:function(){this.options.resizeWrapper&&this.options.scrollTopOnResize&&t.mobile.silentScroll(0)},refresh:function(e,i,o,s){var n,r,a,p,h,c;return s||!this.options.deferNonActiveRefresh||this.$page.is(t.mobile.activePage)?(n=this,r=e,a=i,p=o,h=s,c=this._startTiming(),(r===l||null===r)&&(r=this.options.refreshDelay),setTimeout(function(){var t,e=null;n.options.traceRefresh&&(e=n._logInterval("refresh() start",c)),t=n._setPageVisible(),a&&a(),n._triggerWidget("onbeforerefresh"),n.iscroll.refresh(),n._triggerWidget("onafterrefresh"),p&&p(),n._restorePageVisibility(t),t||n._correctPushedDownPage(),n.options.traceRefresh&&n._logInterval2("refresh() end"+(h?" (dirty)":""),c,e)},r),void(this.options.traceRefresh&&this._log("refresh() will occur after >= "+r+"mS"))):(this._dirty=!0,this._dirtyCallbackBefore=i,this._dirtyCallbackAfter=o,void(this.options.traceRefresh&&this._log("refresh() (deferred)")))},_create_iscroll_object:function(){this.iscroll=new n(this,this.$wrapper.get(0),this._create_iscroll_options())},_createScroller:function(){this.options.createScroller&&(this.$wrapper.children().length?this.$wrapper.children().wrapAll("<div/>"):this.$wrapper.append("<div><div></div></div>"))},_undoCreateScroller:function(){this.options.createScroller&&this.$scroller.children().unwrap()},_setPageVisible:function(){var t=this.$page.is(":hidden");return t&&this.$page.css("display","block"),t},_restorePageVisibility:function(t){t&&this.$page.css("display","")},_create:function(){var e,i=new Date;this.$wrapper=this.element,this.$page=this.$wrapper.parents(":jqmData(role='page')"),this.options.debug&&this.options.traceCreateDestroy&&this._log("_create() start",i),this.createdAt=i,this._instanceCount(this._instanceCount()+1),this.instanceID=this._nextInstanceID(),this._nextInstanceID(this._instanceID+1),1===this.instanceID&&(this._pageID(_),_+=1),this.pageID=this._pageID(),e=this._setPageVisible(),this._adaptPage(),this._createScroller(),this.$scroller=this.$wrapper.children(":first"),0!==this.$scroller.length&&(this.$pullDown=t("."+this.options.pullDownClass,this.$scroller),this._modifyPullDown(),this.$pullUp=t("."+this.options.pullUpClass,this.$scroller),this._modifyPullUp(),t.extend(!0,this.options,this.$wrapper.jqmData("iscroll")),this._modifyWrapper(),this._bindPage("pagebeforeshow",this._pageBeforeShowFunc),this._setTopOffsetForPullDown(),this._setBottomOffsetForPullUp(),this._resizeWrapper(),this._addScrollerPadding(),this._create_iscroll_object(),this._merge_from_iscroll_options(),this._restorePageVisibility(e),this.options.resizeWrapper&&(this._isvBind(this.$window,this.options.resizeEvents,this._windowResizeFunc,"$window"),this.options.scrollTopOnOrientationChange&&this._isvBind(this.$window,"orientationchange",this._orientationChangeFunc,"$window")),this.$scrollerContent=this.$scroller.find("."+this.options.scrollerContentClass),this._isvBind(this.$scrollerContent,"updatelayout",this._updateLayoutFunc,"$scrollerContent"),this.options.debug&&this.options.traceCreateDestroy&&this._logInterval("_create() end",i))},destroy:function(){var e=null;this.options.debug&&this.options.traceCreateDestroy&&(e=this._log("destroy() start")),this._isvUnbind(this.$scrollerContent,"updatelayout","$scrollerContent"),this._isvUnbind(this.$window,this.options.resizeEvents,"$window"),this._isvUnbind(this.$window,"orientationchange","$window"),1===this._instanceCount()&&(this._unbindPage("pagebeforeshow"),r&&this._unbindPage("touchmove")),this.options.fastDestroy||(this.iscroll.destroy(),this.iscroll=null,this._undoExpandScrollerToFillWrapper(),this._undoModifyPullDown(),this._undoModifyPullUp(),this._undoAddScrollerPadding(),this._undoModifyWrapper(),this.$wrapper.removeClass(this.options.wrapperClass),this.$scroller.removeClass(this.options.scrollerClass),this._undoCreateScroller()),this._instanceCount(this._instanceCount()-1),0===this._instanceCount()&&this._undoAdaptPage(),t.Widget.prototype.destroy.call(this),this.options.debug&&this.options.traceCreateDestroy&&this._logInterval("destroy() end",e)},enable:function(){this.iscroll.enable(),t.Widget.prototype.enable.call(this)},disable:function(){this.iscroll.disable(),t.Widget.prototype.disable.call(this)},_setOption:function(e,i){var l;this.options[e]=i,this.iscroll.destroy(),l=this._setPageVisible(),this._create_iscroll_object(),this._restorePageVisibility(l),t.Widget.prototype._setOption.apply(this,arguments)},scrollTo:function(t,e,i,l){this.iscroll.scrollTo(t,e,i,l)},scrollToElement:function(t,e){this.iscroll.scrollToElement(t,e)},scrollToPage:function(t,e,i){this.iscroll.scrollToPage(t,e,i)},stop:function(){this.iscroll.stop()},zoom:function(t,e,i,l){this.iscroll.zoom(t,e,i,l)},isReady:function(){return this.iscroll.isReady()},x:function(){return this.iscroll.x},y:function(){return this.iscroll.y},wrapperW:function(){return this.iscroll.wrapperW},wrapperH:function(){return this.iscroll.wrapperH},scrollerW:function(){return this.iscroll.scrollerW},scrollerH:function(){return this.iscroll.scrollerH},minScrollX:function(t){return t!==l&&(this.iscroll.minScrollX=t),this.iscroll.minScrollX},minScrollY:function(t){return t!==l&&(this.iscroll.minScrollY=t),this.iscroll.minScrollY},maxScrollX:function(t){return t!==l&&(this.iscroll.maxScrollX=t),this.iscroll.maxScrollX},maxScrollY:function(t){return t!==l&&(this.iscroll.maxScrollY=t),this.iscroll.maxScrollY},_pullDownIsPulled:function(){return this.$pullDown.length&&this.$pullDown.hasClass(this.options.pullPulledClass)},_pullUpIsPulled:function(){return this.$pullUp.length&&this.$pullUp.hasClass(this.options.pullPulledClass)},_replacePullText:function(e,i){var l;i&&(l=t("."+this.options.pullLabelClass,e),l&&l.text(i))},_pullSetStateReset:function(t,e){t.is("."+this.options.pullLoadingClass+", ."+this.options.pullPulledClass)&&(t.removeClass(this.options.pullPulledClass+" "+this.options.pullLoadingClass),this._replacePullText(t,e))},_pullDownSetStateReset:function(t){this._pullSetStateReset(this.$pullDown,this.options.pullDownResetText),this._triggerWidget("onpulldownreset",t)},_pullUpSetStateReset:function(t){this._pullSetStateReset(this.$pullUp,this.options.pullUpResetText),this._triggerWidget("onpullupreset",t)},_pullSetStatePulled:function(t,e){t.removeClass(this.options.pullLoadingClass).addClass(this.options.pullPulledClass),this._replacePullText(t,e)},_pullDownSetStatePulled:function(t){this._pullSetStatePulled(this.$pullDown,this.options.pullDownPulledText),this._triggerWidget("onpulldownpulled",t)},_pullUpSetStatePulled:function(t){this._pullSetStatePulled(this.$pullUp,this.options.pullUpPulledText),this._triggerWidget("onpulluppulled",t)},_pullSetStateLoading:function(t,e){t.removeClass(this.options.pullPulledClass).addClass(this.options.pullLoadingClass),this._replacePullText(t,e)},_pullDownSetStateLoading:function(t){this._pullSetStateLoading(this.$pullDown,this.options.pullDownLoadingText),this._triggerWidget("onpulldownloading",t)},_pullUpSetStateLoading:function(t){this._pullSetStateLoading(this.$pullUp,this.options.pullUpLoadingText),this._triggerWidget("onpulluploading",t)},_pullOnRefresh:function(t){this.$pullDown.length&&this._pullDownSetStateReset(t),this.$pullUp.length&&this._pullUpSetStateReset(t)},_pullOnScrollMove:function(t){var e,i,l,o,s,n,r=this.y();this.$pullDown.length&&(e=this._pullDownIsPulled(),l=this.options.topOffset,o=l/2,!e&&r>o?(this._pullDownSetStatePulled(t),this.minScrollY(0)):e&&0>=r&&(this._pullDownSetStateReset(t),this.minScrollY(-l))),this.$pullUp.length&&(i=this._pullUpIsPulled(),s=this.options.bottomOffset,n=s/2,!i&&r<this.maxScrollY()-s-n?(this._pullUpSetStatePulled(t),this.maxScrollY(this.wrapperH()-this.scrollerH()+this.minScrollY())):i&&r>=this.maxScrollY()&&(this._pullUpSetStateReset(t),this.maxScrollY(this.wrapperH()-this.scrollerH()+this.minScrollY()+s)))},_pullOnScrollEnd:function(t){this._pullDownIsPulled(t)?(this._pullDownSetStateLoading(t),this._triggerWidget("onpulldown",t)):this._pullUpIsPulled(t)&&(this._pullUpSetStateLoading(t),this._triggerWidget("onpullup",t))}})}(jQuery,window,document),jQuery(document).trigger("iscroll_init"),jQuery(document).bind("pagecreate",function(t){"use strict";var e=jQuery(t.target).find(":jqmData(iscroll)");e.iscrollview()});