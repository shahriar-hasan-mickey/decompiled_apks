define(["underscore","Backbone"],function(e,i){var r=new EncryptedLocalStorage("secret"),o=i.Model.extend({errordet:[],menuList:[],initialize:function(){if(this.get("ackStatus")&&(ackStatus=this.get("ackStatus")),this.get("error")){r.set("isTouchLogError",!0);var e=this.get("error");r.set("errordesc",e.errorDescription)}else r.set("errordesc","FAILURE"),r.set("isTouchLogError",!1);this.get("access_token")&&(accesstoken=this.get("access_token"),r.set("access_token",accesstoken),ackStatus="0000");var i=new Array;if(this.get("userLoginProfile")){userLoginProfile=this.get("userLoginProfile"),i[0]=userLoginProfile.userProfile.firstName,i[1]=userLoginProfile.userProfile.lastName,i[2]=userLoginProfile.userProfile.middleName,i[3]=userLoginProfile.lastSuccessLogin,i[4]=userLoginProfile.lastFailureLogin,i[5]=userLoginProfile.userProfile.mobileNoMasked,i[6]=userLoginProfile.userProfile.emailid,i[7]=userLoginProfile.userProfile.mobile,i[8]=userLoginProfile.userProfile.birthdate,i[9]=userLoginProfile.id_type,i[10]=userLoginProfile.iqama_number,i[11]=userLoginProfile.isStaff,i[12]=userLoginProfile.segment,i[13]=userLoginProfile.userProfile.loyaltypoints,i[14]=userLoginProfile.userProfile.residence,i[15]=userLoginProfile.userProfile.statuscode,i[16]=userLoginProfile.userProfile.stopmailflag,i[17]=userLoginProfile.userProfile.occupation,i[18]=userLoginProfile.userProfile.nationality,i[19]=userLoginProfile.userProfile.idexpdate,i[20]=userLoginProfile.userProfile.gender,i[21]=userLoginProfile.userProfile.segment,i[22]=userLoginProfile.userProfile.idtype,i[23]=userLoginProfile.userProfile.birthdatehijira,i[24]=userLoginProfile.userProfile.hijiraidexpdate;var o=null!=userLoginProfile.userProfile.firstName&&""!=userLoginProfile.userProfile.firstName&&"null"!=userLoginProfile.userProfile.firstName?userLoginProfile.userProfile.firstName:"",s=null!=userLoginProfile.userProfile.lastName&&""!=userLoginProfile.userProfile.lastName&&"null"!=userLoginProfile.userProfile.lastName?userLoginProfile.userProfile.lastName:"",t=null!=userLoginProfile.userProfile.poboxnumber&&""!=userLoginProfile.userProfile.poboxnumber&&"null"!=userLoginProfile.userProfile.poboxnumber?userLoginProfile.userProfile.poboxnumber:"",n=null!=userLoginProfile.userProfile.street&&""!=userLoginProfile.userProfile.street&&"null"!=userLoginProfile.userProfile.street?userLoginProfile.userProfile.street:"",a=null!=userLoginProfile.userProfile.town&&""!=userLoginProfile.userProfile.town&&"null"!=userLoginProfile.userProfile.town?userLoginProfile.userProfile.town:"",u=null!=userLoginProfile.userProfile.statuscode&&""!=userLoginProfile.userProfile.statuscode&&"null"!=userLoginProfile.userProfile.statuscode?userLoginProfile.userProfile.statuscode:"";r.set("customerAddress",o+" "+s+"  "+t+"  "+n+"  "+a+"  "+u),r.set("LoginProfile",i),r.set("MaskMobile",i[5]),r.set("birthdate",i[8]);var l,c,m,f=i[23];m=f.substring(0,4),c=f.substring(5,7),l=f.substring(8,10),f=l+"-"+c+"-"+m,birthdatee=m+"-"+c+"-"+l,birthdatehij=c+"-"+m,r.set("dateChanged",f),r.set("dateChangedd",birthdatee),r.set("dateChangedhijri",birthdatehij);var P=i[8],d=i[8],g=i[8];P=P.substring(6,10),d=d.substring(3,5),g=g.substring(0,2),birthdatechanges=P+"-"+d+"-"+g,r.set("birthdatechanges",birthdatechanges);var _=d+"-"+P;r.set("birthmonthyear",_),r.set("birthdateyear",P),r.set("birthdatemonth",d),r.set("birthdateday",g);var p=i[23],L=i[23],T=i[23];p=P.substring(0,4),L=d.substring(5,7),T=g.substring(8,10),r.set("birthdateyearhijrinat",p),r.set("birthdatemonthhijrinat",L),r.set("birthdatedayhijrinat",T),r.set("emailid",i[6]),r.set("usermobile",userLoginProfile.userProfile.mobile),r.set("loyaltypoints",i[13]),r.set("residence",i[14]),r.set("statuscode",i[15]),r.set("stopmailflag",i[16]),r.set("occupation",i[17]),r.set("nationality",i[18]),r.set("idexpdate",i[19]);var O=i[24],y=O.substring(0,4),h=O.substring(5,7),D=O.substring(8,10);O=y+""+h+D,r.set("idexpdatekycc",O),r.set("gender",i[20]),r.set("upsegment",i[21]),r.set("idtypelogin",i[22]),r.set("id_type",i[9]),r.set("iqama_number",i[10]);var b=i[10];b=b.substring(0,1),r.set("iqnumid",b),r.set("isStaff",i[11]),r.set("segment",i[12]),r.set("iqama_id",i[22]),r.set("birthdatehijira",i[23]);var S=userLoginProfile.segment;r.set("segmentvalue",S);var I=userLoginProfile.userProfile.customernumber,v=r.get("shamd5flagreqcheck");"E"==v?r.set("custno",I):r.set("custno",""),r.set("custnoenc",I);var k="";try{null!=userLoginProfile.userProfile.timeStamp&&(k=userLoginProfile.userProfile.timeStamp),k=""!=userLoginProfile.userProfile.timeStamp?userLoginProfile.userProfile.timeStamp:""}catch(A){k=""}r.set("timeStampharse",k);var w=userLoginProfile.userProfile.firstName;r.set("custname",w);var N=userLoginProfile.userProfile.branchcode;if(r.set("branchcode",N),r.set("actual_mob_no",i[7]),r.set("is_mobilenumber_confirmed",userLoginProfile.isMobileNumberConfirmed),null!=userLoginProfile.dyanamicOTPDTO&&(r.set("soft_token",userLoginProfile.dyanamicOTPDTO.soft_token),r.set("token_serno",userLoginProfile.dyanamicOTPDTO.token_serno),r.set("user_login",userLoginProfile.dyanamicOTPDTO.user_login),r.set("touch_login",userLoginProfile.dyanamicOTPDTO.biometric_otp),r.set("touch_id_login",userLoginProfile.dyanamicOTPDTO.touch_id_login_otp),r.set("face_id_login",userLoginProfile.dyanamicOTPDTO.face_id_login_otp),r.set("touch_reg_login",userLoginProfile.dyanamicOTPDTO.touch_id_reg_otp),r.set("face_reg_login",userLoginProfile.dyanamicOTPDTO.face_id_reg_otp),r.set("login_management",userLoginProfile.dyanamicOTPDTO.login_management),window.localStorage.setItem("mpin_login_otp",userLoginProfile.mpin_login_otp),r.set("mpin_login_otp",userLoginProfile.mpin_login_otp),r.set("forgot_mpin",userLoginProfile.dyanamicOTPDTO.forgot_mpin),r.set("new_registration",userLoginProfile.dyanamicOTPDTO.new_registration),r.set("personalfinanceprocess",userLoginProfile.dyanamicOTPDTO.loanbookingprocess),r.set("KYCprocess",userLoginProfile.dyanamicOTPDTO.kyc_otp),r.set("moi_payments",userLoginProfile.dyanamicOTPDTO.moi_payments),r.set("one_time_payment",userLoginProfile.dyanamicOTPDTO.one_time_payment),r.set("sadad_manage_profile",userLoginProfile.dyanamicOTPDTO.sadad_manage_profile),r.set("bill_inquiry_and_payment",userLoginProfile.dyanamicOTPDTO.bill_inquiry_and_payment),r.set("own_accounts",userLoginProfile.dyanamicOTPDTO.own_accounts),r.set("within_shb_transfer",userLoginProfile.dyanamicOTPDTO.within_shb_transfer),r.set("sarie_payments",userLoginProfile.dyanamicOTPDTO.sarie_payments),r.set("external_payments",userLoginProfile.dyanamicOTPDTO.external_payments),r.set("charity_payments",userLoginProfile.dyanamicOTPDTO.charity_payments),r.set("card_payment",userLoginProfile.dyanamicOTPDTO.card_payment),r.set("activate_new_credit_card",userLoginProfile.dyanamicOTPDTO.activate_new_credit_card),r.set("reset_and_create_new_pin_credit_card",userLoginProfile.dyanamicOTPDTO.reset_and_create_new_pin_credit_card),r.set("cash_on_demand",userLoginProfile.dyanamicOTPDTO.cash_on_demand),r.set("card_increaselimit",userLoginProfile.dyanamicOTPDTO.card_increaselimit),r.set("block_credit_card",userLoginProfile.dyanamicOTPDTO.block_credit_card),r.set("reissue_credit_card_pin",userLoginProfile.dyanamicOTPDTO.reissue_credit_card_pin),r.set("epp_merchant_plan",userLoginProfile.dyanamicOTPDTO.epp_merchant_plan),r.set("card_increasetemplimit",userLoginProfile.dyanamicOTPDTO.card_increasetemplimit),r.set("cc_control",userLoginProfile.dyanamicOTPDTO.cc_control),r.set("vcc_otp",userLoginProfile.dyanamicOTPDTO.vcc_otp),r.set("update_personal_information",userLoginProfile.dyanamicOTPDTO.update_personal_information),r.set("debit_card_blocking",userLoginProfile.dyanamicOTPDTO.debit_card_blocking),r.set("debit_card_activation",userLoginProfile.dyanamicOTPDTO.debit_card_activation),r.set("chequebook_activation",userLoginProfile.dyanamicOTPDTO.cheque_book_request),r.set("addaccopening",userLoginProfile.dyanamicOTPDTO.add_acct_opening),r.set("debitcardpos",userLoginProfile.dyanamicOTPDTO.debit_card_limit),r.set("dc_usage_control",userLoginProfile.dyanamicOTPDTO.dc_usage_control),r.set("iban_inquiry",userLoginProfile.dyanamicOTPDTO.iban_inquiry),r.set("opening_sub_account",userLoginProfile.dyanamicOTPDTO.opening_sub_account),r.set("redemption_of_points",userLoginProfile.dyanamicOTPDTO.redemption_of_points),r.set("order_basket",userLoginProfile.dyanamicOTPDTO.order_basket),r.set("redeem_tadallal_reward_points",userLoginProfile.dyanamicOTPDTO.redeem_tadallal_reward_points),r.set("previous_statement",userLoginProfile.dyanamicOTPDTO.previous_statement),r.set("forgot_transaction_password",userLoginProfile.dyanamicOTPDTO.forgot_transaction_password),r.set("soft_token_renewal",userLoginProfile.dyanamicOTPDTO.soft_token_renewal),r.set("ipo_information",userLoginProfile.dyanamicOTPDTO.ipo_information),r.set("lmsreqid",userLoginProfile.dyanamicOTPDTO.lmsreqid),r.set("queueMode",userLoginProfile.dyanamicOTPDTO.queuemode)),r.set("isAccountHolder",userLoginProfile.isAccountHolder),null!=userLoginProfile.userMenuSettingsListDTO){var C={};menuList=userLoginProfile.userMenuSettingsListDTO;var M=[],q=[];$.each(menuList,function(e){C[menuList[e].mtc_programid]={menu_status:menuList[e].menu_status,menu_status_at_admin:menuList[e].menu_status_at_admin},M.push(menuList[e].mtc_programid),""!=menuList[e].menu_order&&"-1"!=menuList[e].menu_order&&q.push({menu_order:menuList[e].menu_order,mtc_programid:menuList[e].mtc_programid})}),r.set("menuKeyList",M),$.each(M,function(e){M[e],C[M[e]].menu_status}),q.sort(function(e,i){return e=e.menu_order,i=i.menu_order,e-i});var E=q;r.set("mainMenuOrder",E),r.set("menuVisibilityList",C)}null!=userLoginProfile.userProfile.bioMetricDetailsDTO?r.set("bioMetricDetailsDTO",userLoginProfile.userProfile.bioMetricDetailsDTO):r.set("bioMetricDetailsDTO",""),null!=userLoginProfile.userProfile.touchID_master_flag&&""!=userLoginProfile.userProfile.touchID_master_flag&&"TID"==r.get("BiometricType")&&r.set("touchAllowedForApp",userLoginProfile.userProfile.touchID_master_flag),null!=userLoginProfile.userProfile.faceID_master_flag&&""!=userLoginProfile.userProfile.faceID_master_flag&&"FID"==r.get("BiometricType")&&r.set("touchAllowedForApp",userLoginProfile.userProfile.faceID_master_flag)}if(null!=this.get("commonParamListDTO")){var x=this.get("commonParamListDTO");$.each(x,function(e){"EXTERNAL"==x[e].paramCode?r.set("ExternalPaymentMinAmount",x[e].paramDescription):"OWNACCOUNTS"==x[e].paramCode?r.set("OwnAccountsMinAmount",x[e].paramDescription):"SARIE"==x[e].paramCode?r.set("SarieMinAmount",x[e].paramDescription):"WITHINSHB"==x[e].paramCode?r.set("WithinShbMinAmount",x[e].paramDescription):"SIOWNACCOUNTS"==x[e].paramCode?r.set("SIOwnAccountsMinAmount",x[e].paramDescription):"SIWITHINSHB"==x[e].paramCode?r.set("SIWithinShbMinAmount",x[e].paramDescription):"SISARIE"==x[e].paramCode?r.set("SISarieMinAmount",x[e].paramDescription):"SIEXTERNAL"==x[e].paramCode?r.set("SIExternalMinAmount",x[e].paramDescription):"CHARITY"==x[e].paramCode?r.set("CharityMinAmount",x[e].paramDescription):"SICHARITY"==x[e].paramCode&&r.set("SICharityMinAmount",x[e].paramDescription)})}if(this.get("usermpinflag"),this.get("appSessionId")&&(appSessionId=this.get("appSessionId"),r.set("appSessionId",appSessionId)),this.get("appDeviceId")?(appDeviceId=this.get("appDeviceId"),r.set("appDeviceId",appDeviceId)):r.set("appDeviceId",""),userName=$("#userName").val(),this.get("ackStatus")&&(ackStatus=this.get("ackStatus")),this.get("mpinStatus")?(mpinStatus=this.get("mpinStatus"),r.set("mpinStatus",mpinStatus)):mpinStatus="","0"==mpinStatus||"00"==mpinStatus?r.set("MPINFLAG","Y"):r.set("MPINFLAG","N"),this.get("error")){var e=this.get("error");r.set("errordesc",e.errorDescription),r.set("errorCode",e.errorCode)}else r.set("errordesc","FAILURE"),r.set("errorCode","")}});return o});