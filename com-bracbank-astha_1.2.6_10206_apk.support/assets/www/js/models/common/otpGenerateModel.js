define(["underscore","Backbone"],function(e,t){var s,a=new EncryptedLocalStorage("secret"),r=t.Model.extend({errordet:[],initialize:function(){this.get("access_token")&&(accesstoken=this.get("access_token"),a.set("access_token",accesstoken)),this.get("passphrase")&&(s=this.get("passphrase")),this.get("status")?(status=this.get("status"),a.set("status",status)):(status="",a.set("status",status));var e="";if(this.get("userLoginProfile")&&(e=this.get("userLoginProfile")),""!=e&&"undefined"!=e){var t=new Array;t[0]=e.userProfile.firstName,t[1]=e.userProfile.lastName,t[2]=e.userProfile.middleName,t[3]=e.lastSuccessLogin,t[4]=e.lastFailureLogin,a.set("LoginProfile",t)}if(userName=$("#userName").val(),this.get("ackMessage")&&(ackMessage=this.get("ackMessage"),ackMessage=DEcryptWithDynamicSalt(ackMessage,s)),this.get("ackStatus")&&(ackStatus=this.get("ackStatus"),ackStatus=DEcryptWithDynamicSalt(ackStatus,s),"0000"==ackStatus)){var r=/iPad|iPhone|iPod/.test(navigator.userAgent);if(!r)try{OTPAutoVerification.startOTPListener({},function(e){a.set("isOtpReceived","false");var t=e.msg.trim(),s=e.msg.trim();t.substr(7,t.length);t=t.substr(0,6);var r=e.sender,i=$.i18n.t("app.login.oneTimeText");-1!=r.toLowerCase().indexOf("burganbank")&&-1!=s.indexOf(i)&&/^\d+$/.test(t)&&(a.set("isOtpReceived","true"),$("#otp").val(t),OTPAutoVerification.stopOTPListener())},function(){})}catch(i){}}if(this.get("error")){var o=this.get("error");a.set("errordesc",o.errorDescription),a.set("errorcod",o.errorCode)}else a.set("errordesc"," ")}});return r});