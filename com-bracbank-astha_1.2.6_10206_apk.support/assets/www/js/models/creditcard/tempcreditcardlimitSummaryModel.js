define(["underscore","Backbone"],function(e,t){var c=new EncryptedLocalStorage("secret"),r=t.Model.extend({myaccounts:[],tempcreditcards:[],mycreditcards:[],creditcardsize:[],myloans:[],mydeposit:[],errordet:[],initialize:function(){if(this.get("casaAccountList")?myaccounts=this.get("casaAccountList"):myaccounts="",this.get("creditCardAccountList")){if(tempcreditcards=this.get("creditCardAccountList"),mycreditcards=[],c.set("tempcreditcards",tempcreditcards),void 0!=tempcreditcards&&null!=tempcreditcards&&""!=tempcreditcards){var e=!1;tempcreditcards.forEach(function(t,r){"PRIMARY"==t.cardType&&mycreditcards.push(t),"PRIMARY"==t.cardType&&0==e&&(e=!0,c.set("cccardacctno",tempcreditcards[r].accountNumber),c.set("acctno",tempcreditcards[r].creditCardNoMasked),c.set("ecurrencylimit",tempcreditcards[r].currencyCode),c.set("expirydate",tempcreditcards[r].expiryDate),c.set("billingCycleDate",tempcreditcards[r].billingCycleDate),c.set("cctypecode",tempcreditcards.cctypecode),c.set("shortNamesummary",tempcreditcards[r].shortName),c.set("creditCardActNo",tempcreditcards[r].creditCardActNo))})}}else mycreditcards="",creditcardsize="empty";this.get("loanAccountList")?myloans=this.get("loanAccountList"):myloans="",this.get("depositAccountList")?mydeposit=this.get("depositAccountList"):mydeposit="",this.get("currency")?currency=this.get("currency"):currency=null,this.get("ackStatus")&&(ackStatus=this.get("ackStatus")),this.get("error")?(errordet=this.get("error"),c.set("errordesc",errordet.errorDescription),c.set("errorcode",errordet.errorCode)):(c.set("errordesc",""),c.set("errorcode","")),c.set("errback","creditcard")}});return r});