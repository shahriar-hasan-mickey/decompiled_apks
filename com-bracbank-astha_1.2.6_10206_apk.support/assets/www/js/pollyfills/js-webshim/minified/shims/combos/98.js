webshims.register("jmebase",function(e,t,a,i,s){"use strict";var r={},n={},o=Array.prototype.slice,l=0,d=e.extend({selector:".mediaplayer"},t.cfg.mediaelement.jme),c=d.selector;t.cfg.mediaelement.jme=d,e.jme||(e.jme={}),e.extend(e.jme,{pluginsClasses:[],pluginsSel:"",plugins:{},props:r,fns:n,data:function(t,a,i){var r=e(t).data("jme")||e.data(t,"jme",{});return i===s?a?r[a]:r:void(r[a]=i)},runPlugin:function(t){l&&e(document.querySelectorAll(c)).each(function(){var a=this.querySelectorAll(t);a.length&&e(this).jmeFn("addControls",a)})},registerPlugin:function(t,a){this.plugins[t]=a,a.nodeName||(a.nodeName=""),a.className||(a.className=t),this.pluginsClasses.push("."+a.className),this.pluginsSel=this.pluginsClasses.join(", "),d[t]=e.extend(a.options||{},d[t]),d[t]&&d[t].text?a.text=d[t].text:d.i18n&&d.i18n[t]&&(a.text=d.i18n[t]),this.runPlugin("."+a.className)},configmenuPlugins:{},addToConfigmenu:function(e,t){this.configmenuPlugins[e]=t},defineMethod:function(e,t){n[e]=t},defineProp:function(t,a){a||(a={}),a.set||(a.set=a.readonly?function(){throw t+" is readonly"}:e.noop),a.get||(a.get=function(a){return e.jme.data(a,t)}),r[t]=a},prop:function(t,a,i){if(!r[a])return e.prop(t,a,i);if(i===s)return r[a].get(t);var n=r[a].set(t,i);n===s&&(n=i),"noDataSet"!=n&&e.jme.data(t,a,n)}}),e.fn.jmeProp=function(t,a){return e.access(this,e.jme.prop,t,a,arguments.length>1)},e.fn.jmeFn=function(a){var i,r=o.call(arguments,1);return this.each(function(){return e.jme.data(this).media||(e(this).closest(c).jmePlayer(),t.warn("jmeFn called to early or on wrong element!")),i=(n[a]||e.prop(this,a)).apply(this,r),i!==s?!1:void 0}),i!==s?i:this};var u={emptied:1,pause:1},p={canplay:1,canplaythrough:1};e.jme.initJME=function(t,a){l+=e(t.querySelectorAll(c)).add(a.filter(c)).jmePlayer().length},e.jme.getDOMList=function(t){var a=[];return t||(t=[]),"string"==typeof t&&(t=t.split(" ")),e.each(t,function(e,t){t&&(t=document.getElementById(t),t&&a.push(t))}),a},e.jme.getButtonText=function(t,a){var i,s,r=function(r){s!==r&&(s=r,t.removeClass(a[r?0:1]).addClass(a[r]),i&&(t.prop("checked",!!r),(t.data("checkboxradio")||{refresh:e.noop}).refresh()))};return t.is('[type="checkbox"], [type="radio"]')?(t.prop("checked",function(){return this.defaultChecked}),i=!0):t.is("a")&&t.on("click",function(e){e.preventDefault()}),r},e.fn.jmePlayer=function(){return this.each(function(){var t,a,i,s,r,n,o,l=e("audio, video",this).eq(0),d=e(this),c=e.jme.data(this),m=e.jme.data(l[0]);d.addClass(l.prop("nodeName").toLowerCase()+"player"),m.player=d,m.media=l,c.media||(o=function(){d[0].className=d[0].className},i=function(){l.off("canplay",a),clearTimeout(s)},a=function(){var e=l.prop("paused")?"idle":"playing";d.attr("data-state",e)},t=function(t){var c,m,h=t.type;i(),p[h]&&"waiting"!=r||n&&"emptied"==h||("ended"==h||e.prop(this,"ended")?h="ended":"waiting"==h?e.prop(this,"readyState")>2?h="":(s=setTimeout(function(){l.prop("readyState")>2&&a()},9),l.on("canPlay",a)):u[h]?h="idle":(c=e.prop(this,"readyState"),m=e.prop(this,"paused"),h=!m&&3>c?"waiting":!m&&c>2?"playing":"idle"),"idle"==h&&d._seekpause&&(h=!1),h&&(r=h,d.attr("data-state",h),setTimeout(o)))},c.media=l,c.player=d,l.on("emptied waiting canplay canplaythrough playing ended pause mediaerror",t).on("volumechange updateJMEState",function(){var t=e.prop(this,"volume");d[!t||e.prop(this,"muted")?"addClass":"removeClass"]("state-muted"),t=.01>t?"no":.36>t?"low":.7>t?"medium":"high",d.attr("data-volume",t)}),e.jme.pluginsSel&&d.jmeFn("addControls",e(d[0].querySelectorAll(e.jme.pluginsSel))),t&&l.on("updateJMEState",t).triggerHandler("updateJMEState"))})},e.jme.defineProp("isPlaying",{get:function(t){return!e.prop(t,"ended")&&!e.prop(t,"paused")&&e.prop(t,"readyState")>1&&!e.data(t,"mediaerror")},readonly:!0}),e.jme.defineProp("player",{readonly:!0}),e.jme.defineProp("media",{readonly:!0}),e.jme.defineProp("srces",{get:function(t){var a,i=e.jme.data(t),s=i.media.prop("src");return s?[{src:s}]:a=e.map(e("source",i.media).get(),function(t){var a,i,s={src:e.prop(t,"src")},r=t.attributes;for(a=0,i=r.length;i>a;a++)"specified"in r[a]&&!r[a].specified||(s[r[a].nodeName]=r[a].nodeValue);return s})},set:function(t,a){var i=e.jme.data(t),s=function(t,a){"string"==typeof a&&(a={src:a}),e(document.createElement("source")).attr(a).appendTo(i.media)};return i.media.removeAttr("src").find("source").remove(),e.isArray(a)?e.each(a,s):s(0,a),i.media.jmeFn("load"),"noDataSet"}}),e.jme.defineMethod("togglePlay",function(){e(this).jmeFn(r.isPlaying.get(this)?"pause":"play")}),e.jme.defineMethod("addControls",function(t){var a=e.jme.data(this)||{};if(a.media){var i=e.jme.data(a.player[0],"controlElements")||e([]);t=e(t),e.jme.pluginsSel&&(t=t.find(e.jme.pluginsSel).add(t.filter(e.jme.pluginsSel))),t.length&&(e.each(e.jme.plugins,function(i,s){var r,n,o,l,d=t.filter("."+s.className);for(o=0;o<d.length;o++)if(r=e(d[o]),n=e.jme.data(d[o]),n.player=a.player,n.media=a.media,!n._rendered){if(n._rendered=!0,s.options)for(l in s.options)l in n||(n[l]=s.options[l]);s._create(r,a.media,a.player,n)}}),e.jme.data(a.player[0],"controlElements",i.add(t)),a.player.triggerHandler("controlsadded"))}}),t.ready("DOM mediaelement",function(){t.isReady("jme",!0),t.addReady(e.jme.initJME),t.isReady("jme-base",!0),t.cfg.debug!==!1&&document.getElementsByTagName("video").length&&!document.querySelector(c)&&t.warn("found video element but video wasn't wrapped inside a ."+c+" element. Will not add control UI")})}),webshims.register("mediacontrols",function(e,t,a){"use strict";var i=t.cfg.mediaelement.jme,s=i.selector,r=e.jme,n='<div class="{%class%}"></div>',o='<button class="{%class%}" type="button" aria-label="{%text%}"></button>',l='<div class="{%class%} media-range" aria-label="{%text%}"></div>',d='<div  class="{%class%}">00:00</div>',c=function(){var e,t="";if(a.Audio)try{e=new Audio,e.volume=.55,t=Math.round(100*e.volume)/100==.55?"":" no-volume-api"}catch(i){}return t}(),u=function(){var e={},a=/\{\{(.+?)\}\}/gim;return function(s,o){return s||(s=i.barTemplate),(!e[s]||o)&&(e[s]=s.replace(a,function(e,a){var i=r.plugins[a];return i?(i.structure||(t.warn("no structure option provided for plugin: "+a+". Fallback to standard div"),i.structure=n),i.structure.replace("{%class%}",a).replace("{%text%}",i.text||"")):e})),e[s]||""}}(),p=/iP(hone|od|ad)/i.test(navigator.platform),m=p&&parseInt((navigator.appVersion.match(/OS (\d+)_\d+/)||["","8"])[1],10)<7,h=a.Modernizr,f=!(h&&h.videoautoplay||!p&&!/android/i.test(navigator.userAgent)),y=function(){y.loaded||(y.loaded=!0,t.loader.loadList(["mediacontrols-lazy","range-ui"]))},g=function(a){a||(a="_create");var i=function(s,r){var n=this,o=arguments;y(),t.ready("mediacontrols-lazy",function(){return i!=n[a]&&e.data(r[0])?n[a].apply(n,o):void t.error("stop too much recursion")})};return i};t.loader.addModule("mediacontrols-lazy",{src:"jme/mediacontrols-lazy",d:["dom-support"]});var v={_create:g()};r.plugins.useractivity=v,r.defineProp("controlbar",{set:function(s,n){n=!!n;var o,l,d=r.data(s),c=e("div.jme-mediaoverlay, div.jme-controlbar",d.player),p="";if(n&&!c[0])if(d._controlbar)d._controlbar.appendTo(d.player);else{m&&(d.media.removeAttr("controls"),d.media.mediaLoad()),f&&d.player.addClass("has-yt-bug"),d.media.prop("controls",!1),p=u(),d._controlbar=e(i.barStructure),c=d._controlbar.find("div.jme-cb-box").addClass("media-controls"),o=d._controlbar.filter(".jme-media-overlay"),o=o.add(c),e(p).appendTo(c),d._controlbar.appendTo(d.player),d.player.jmeFn("addControls",o),l=function(){var e={},t=[{size:290,name:"xx-small",names:"s xs xxs"},{size:380,name:"x-small",names:"s xs"},{size:478,name:"small",names:"s"},{size:756,name:"medium",names:"m"},{size:1024,name:"large",names:"l"},{size:Number.MAX_VALUE,name:"x-large",names:"l xl"}],a=t.length;return function(){var i,s=0,r=d.player.outerWidth(),n=Math.max(parseInt(d.player.css("fontSize"),10)||16,13);for(r*=16/n;a>s;s++)if(t[s].size>=r){i=t[s];break}e.name!=i.name&&(e=i,d.player.attr("data-playersize",i.name),d.player.attr("data-playersizes",i.names))}}();var h=e('<div class="ws-poster" />').insertAfter(d.media),y=function(){var e,t,i,s,r=a.swfmini&&swfmini.hasFlashPlayerVersion("10.0.3"),n=/youtube\.com\/[watch\?|v\/]+/i,o=d.media.prop("paused"),l=d.media.prop("ended");return o&&d.player.addClass("initial-state"),l&&d.player.addClass("ended-state"),"backgroundSize"in h[0].style||d.player.addClass("no-backgroundsize"),d.media.on("play playing waiting seeked seeking",function(e){e||(e.type="playing"),!o||s&&f&&"playing"!=e.type&&!d.media.prop("readyState")&&!d.media.prop("networkState")||(o=!1,d.player.removeClass("initial-state")),l&&(l=!1,d.player.removeClass("ended-state"))}),d.media.on("ended",function(){l||d.media.prop("loop")||!d.media.prop("ended")||(l=!0,d.player.addClass("ended-state"))}),function(){var a,c=d.media.attr("poster"),u=!!c,p=d.media.prop("currentSrc")||"";s=n.test(p),a=r&&u?!1:s,!u&&s&&(c=p.match(/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/i)||"",c&&(c="",u=!!c)),i!==c&&(i=c,h[0].style.backgroundImage=c?"url("+c+")":""),e!==u&&(e=u,d.player[u?"removeClass":"addClass"]("no-poster")),d.media.prop("paused")&&(d.player.addClass("initial-state"),o=!0),l&&(l=!1,d.player.removeClass("ended-state")),d.player[s?"addClass":"removeClass"]("yt-video"),t!==a&&(t=a,d.player[a?"addClass":"removeClass"]("has-ytposter"))}}();v._create(d.player,d.media,d.player),d.media.on("emptied loadstart",function(){setTimeout(y)}),l(),y(),t.ready("dom-support",function(){d.player.onWSOff("updateshadowdom",l),o.add(d._controlbar).add(h).addClass(t.shadowClass),t.addShadowDom()})}else n||c.detach();return n}}),r.registerPlugin("play-pause",{structure:o,text:"play / pause",_create:g()}),r.registerPlugin("mute-unmute",{structure:o,text:"mute / unmute",_create:g()}),r.registerPlugin("jme-media-overlay",{_create:g()}),r.registerPlugin("volume-slider",{structure:l,text:"volume level",_create:g()}),r.registerPlugin("time-slider",{structure:l,options:{format:["mm","ss"]},text:"time position",_create:g()}),r.defineProp("format",{set:function(t,a){e.isArray(a)||(a=a.split(":"));var i=r.data(t);return i.format=a,e(t).triggerHandler("updatetimeformat"),i.player.triggerHandler("updatetimeformat"),"noDataSet"}}),r.registerPlugin("duration-display",{structure:d,options:{format:"mm:ss"},_create:g()}),r.defineProp("countdown",{set:function(t,a){var i=r.data(t);return i.countdown=!!a,e(t).triggerHandler("updatetimeformat"),i.player.triggerHandler("updatetimeformat"),"noDataSet"}}),r.registerPlugin("currenttime-display",{structure:d,options:{format:"mm:ss",countdown:!1},_create:g()}),r.registerPlugin("poster-display",{structure:"<div />",options:{},_create:g()}),r.registerPlugin("fullscreen",{options:{fullscreen:!0,autoplayfs:!1},structure:o,text:"enter fullscreen / exit fullscreen",_create:g()}),r.registerPlugin("mediaconfigmenu",{structure:o,text:"configuration",_create:g()}),r.registerPlugin("captions",{structure:o,text:"subtitles",_create:function(t,a,i){var s=a.find("track").filter(':not([kind]), [kind="subtitles"], [data-kind="subtitles"], [kind="captions"], [data-kind="captions"]');t.wsclonedcheckbox=e(t).clone().attr({role:"checkbox"}).insertBefore(t),i.attr("data-tracks",s.length>1?"many":s.length),t.attr("aria-haspopup","true"),g().apply(this,arguments)}}),r.registerPlugin("chapters",{structure:o,text:"chapters",_create:function(e,a,i){var s=a.find("track").filter('[kind="chapters"], [data-kind="chapters"]');e.attr("aria-haspopup","true"),s.length&&(t._polyfill(["track"]),i.addClass("has-chapter-tracks")),g().apply(this,arguments)}}),t.ready(t.cfg.mediaelement.plugins.concat(["mediaelement","jme-base"]),function(){i.barTemplate||(i.barTemplate='<div class="play-pause-container">{{play-pause}}</div><div class="playlist-container"><div class="playlist-box"><div class="playlist-button-container">{{playlist-prev}}</div><div class="playlist-button-container">{{playlist-next}}</div></div></div><div class="currenttime-container">{{currenttime-display}}</div><div class="progress-container">{{time-slider}}</div><div class="duration-container">{{duration-display}}</div><div class="mute-container">{{mute-unmute}}</div><div class="volume-container">{{volume-slider}}</div><div class="chapters-container"><div class="chapters-controls mediamenu-wrapper">{{chapters}}</div></div><div class="subtitle-container mediamenu-wrapper"><div class="subtitle-controls">{{captions}}</div></div><div class="mediaconfig-container"><div class="mediaconfig-controls mediamenu-wrapper">{{mediaconfigmenu}}</div></div><div class="fullscreen-container">{{fullscreen}}</div>'),i.barStructure||(i.barStructure='<div class="jme-media-overlay"></div><div class="jme-controlbar'+c+'" tabindex="-1"><div class="jme-cb-box"></div></div>'),t.addReady(function(t,a){e(s,t).add(a.filter(s)).jmeProp("controlbar",!0)})}),t.ready("WINDOWLOAD",y)}),webshims.ready("jme-base DOM",function(){"use strict";function e(e){this._data=e,this.lists={},this.on("showcontrolschange",this._updateControlsClass)}function t(e,a,i){this.list=e||[],this.playlists=a,this.media=a._data.media,this.player=a._data.player,this.options=o.extend(!0,{},t.defaults,i),this.options.itemTmpl=this.options.itemTmpl.trim(),this.deferred=o.Deferred(),this._selectedIndex=-1,this._selectedItem=null,this.$rendered=null,this._detectListType(),this.autoplay(this.options.autoplay),this.deferred.done(function(){this._addEvents(this),"auto"!=this.options.defaultSelected||this.media.jmeProp("srces").length||(this.options.defaultSelected=0),this.list[this.options.defaultSelected]&&this.selectedIndex(this.options.defaultSelected),this._fire("addlist")})}function a(e){return e.description=e.description||e.content,e.srces=[],(e.mediaGroups||[]).forEach(function(t){(t.contents||[]).forEach(function(t){t.src=t.src||t.url,e.srces.push(t)})}),e}function i(){return{src:o.attr(this,"href"),srclang:o.attr(this,"lang"),label:o.attr(this,"data-label")}}function s(){return{src:o.attr(this,"url")||o.attr(this,"href"),type:o.attr(this,"type")}}function r(){return 1==this.nodeType}var n=window.webshims,o=n.$,l=o.jme,d=0,c='<button class="{%class%}" type="button" aria-label="{%text%}"></button>';o.extend(e.prototype,{on:function(){o.fn.on.apply(o(this),arguments)},off:function(){o.fn.off.apply(o(this),arguments)},_getListId:function(e){var t;return t="string"==typeof e?e:e.id},_updateControlsClass:function(){this._data.player[this.getShowcontrolsList()?"addClass":"removeClass"]("has-playlist")},add:function(e,a){return e=new t(e,this,a),e.id||(d++,e.id="list-"+d),this.lists[e.id]=e,e.options.showcontrols&&this._data.player.addClass("has-playlist"),e},remove:function(e){var t=this._getListId(e);this.lists[t]&&(this.lists[t]._remove(),delete this.lists[t]),this.getShowcontrolsList()||this._data.player.removeClass("has-playlist")},getAutoplayList:function(){var e=null;return o.each(this.lists,function(t,a){return a.options.autoplay?(e=a,!1):void 0}),e},getShowcontrolsList:function(){var e=null;return o.each(this.lists,function(t,a){return a.options.showcontrols?(e=a,!1):void 0}),e}}),t.getText=function(e){return e.attr("content")||(e.text()||"").trim()},t.getUrl=function(e){return e.attr("content")||e.attr("url")||e.attr("href")||e.attr("src")||(e.text()||"").trim()},t.defaults={loop:!1,autoplay:!1,defaultSelected:"auto",addItemEvents:!0,showcontrols:!0,ajax:{},itemTmpl:'<li class="list-item"><% if(typeof poster == "string" && poster) {%><img src="<%=poster%>" /><% }%><h3><%=title%></h3><% if(typeof description == "string" && description) {%><div class="item-description"><%=description%></div><% }%></li>',renderer:function(e,t){return o.jme.tmpl(t,e)},mapDom:function(e){return{title:t.getText(o('[itemprop="name"], h1, h2, h3, h4, h5, h6, a',e)),srces:o('[itemprop="contentUrl"], a[type^="video"], a[type^="audio"]',e).map(function(){var a,i={src:t.getUrl(o(this))};return a="a"==this.nodeName.toLowerCase()?o.prop(this,"type"):t.getText(o('[itemprop="encodingFormat"]',e)),a&&(i.type=a),a=o.attr(this,"data-media"),a&&(i.media=a),i}).get(),tracks:o('a[type="text/vtt"]').map(i).get(),poster:t.getUrl(o('[itemprop="thumbnailUrl"], a[type^="image"], img',e))||null,description:t.getText(o('[itemprop="description"], .item-description, p',e))||null}},mapUrl:function(e,r){o.ajax(o.extend(e,{success:function(e){var n;o.isArray(e)?n=e:e.responseData&&e.responseData.feed?(e=e.responseData.feed,n=(e.entries||[]).map(a)):(n=[],o("item",e).each(function(){var e=o("enclosure, media\\:content",this).filter('[type^="video"], [type^="audio"]').map(s).get();e.length&&n.push({title:o("title",this).html(),srces:e,publishedDate:o("pubDate",this).html()||null,description:o("description",this).text()||null,poster:t.getUrl(o('itunes\\:image, media\\:thumbnail, enclosure[type^="image"], media\\:content[type^="image"]',this))||null,author:o("itunes\\:author",this).html()||null,duration:o("itunes\\:duration",this).html()||null,tracks:o("media\\:subTitle",this).map(i).get()||null})})),n!=e&&(n.fullData=e),r(n)}}))}},o.extend(t.prototype,{on:function(){o.fn.on.apply(o(this),arguments)},off:function(){o.fn.off.apply(o(this),arguments)},_detectListType:function(){var e;return"string"==typeof this.list?void this._createListFromUrl():(this.list.nodeName||this.list.length>0&&this.list[0].nodeName?this._createListFromDom():this.list.responseData&&this.list.responseData.feed&&(e=this.list.responseData.feed,this.list=(e.entries||[]).map(a),this.list.fullData=e),void this.deferred.resolveWith(this))},_createListFromUrl:function(){var e=this;this.options.ajax.url=this.list,this.options.mapUrl(this.options.ajax,function(t){e.list=t,e.deferred.resolveWith(e)})},_createListFromDom:function(){var e=this;this.$rendered=o(this.list).eq(0),this.list=[],this.$rendered&&(this._addDomList(),this.list=this.$rendered.children().map(function(){return e._createItemFromDom(this)}).get())},_createItemFromDom:function(e){var t=this.options.mapDom(e);return this._addItemData(t,e),t},_fire:function(e,t){var e=o.Event(e);o(this).triggerHandler(e,t),o(this.playlists).triggerHandler(e,o.merge([{list:this}],t||[])),this.$rendered&&this.$rendered.triggerHandler(e,t)},_addDomList:function(){this.$rendered.attr({"data-autoplay":this.options.autoplay,"data-loop":this.options.loop}).addClass("media-playlist").data("playlist",this)},_addItemData:function(e,t){var a=this;e.$item=o(t).data("itemData",e),e==this._selectedItem&&e.$item.addClass("selected-item"),this.options.addItemEvents&&e.$item.on("click.playlist",function(t){return a.options.addItemEvents?(a.playItem(e,t),!1):void 0})},_addEvents:function(e){var t=e.options,a=function(a){t.autoplay&&e.playNext(a)};this.media.on("ended",a),this._remove=function(){e.media.off("ended",a),e.autoplay(!1),e.$rendered&&e.$rendered.remove(),e._fire("removelist")}},_remove:function(){this._fire("removelist")},render:function(e){this.$rendered?e(this.$rendered,this.player,this):this.deferred.done(function(){var t,a=this,i=[];if(!this.$rendered){switch(o.each(this.list,function(e,t){var s=o(o.parseHTML(a.options.renderer(t,a.options.itemTmpl))).filter(r)[0];a._addItemData(t,s),i.push(s)}),t=(i[0]&&i[0].nodeName||"").toLowerCase()){case"li":this.$rendered=o.parseHTML("<ul />");break;case"option":this.$rendered=o.parseHTML("<select />");break;default:this.$rendered=o.parseHTML("<div />")}this.$rendered=o(this.$rendered).html(i),this._addDomList()}e(this.$rendered,this.player,this)})},_loadItem:function(e){var t=this.media;t.attr("poster",e.poster||""),o("track",t).remove(),o.each(e.tracks||[],function(e,a){o("<track />").attr(a).appendTo(t)}),e.srces||(e.srces=e),t.jmeProp("srces",e.srces)},_getItem:function(e){return e&&(e.nodeName||e.jquery||"string"==typeof e)&&(e=o(e).data("itemData")),e},playItem:function(e,t){var a;this.selectedItem(e,t),e&&(a=this.media.play(),setTimeout(function(){a.play()},9))},selectedIndex:function(e,t){return arguments.length?void this.selectedItem(this.list[e],t):this._selectedIndex},selectedItem:function(e,t){var a,i;return arguments.length?(i=-1,e=this._getItem(e),e&&o.each(this.list,function(t){return e==this?(i=t,!1):void 0}),i>=0&&this._loadItem(this.list[i]),void(i!=this._selectedIndex&&(a=this._selectedItem||null,a&&a.$item&&a.$item.removeClass("selected-item"),this._selectedItem=this.list[i]||null,this._selectedIndex=i,this._selectedItem&&this._selectedItem.$item&&this._selectedItem.$item.addClass("selected-item"),a!==this._selectedItem&&this._fire("itemchange",[{oldItem:a,from:t||null}])))):this._selectedItem},playNext:function(){var e=this.getNext();e&&this.playItem(e)},playPrev:function(){var e=this.getPrev();e&&this.playItem(e)},getNext:function(){var e=this._selectedIndex+1;return this.list[e]||(this.options.loop?this.list[0]:null)},getPrev:function(){var e=this._selectedIndex-1;return this.list[e]||(this.options.loop?this.list[this.list.length-1]:null)}}),[{name:"autoplay",fn:"getAutoplayList"},{name:"showcontrols",fn:"getShowcontrolsList"},{name:"loop"}].forEach(function(e){t.prototype[e.name]=function(t){var a;return arguments.length?(t=!!t,t&&e.fn&&(a=this.playlists[e.fn](),a&&a!=this&&a[e.name](!1)),void(this.options[e.name]!=t&&(this.options[e.name]=t,this.$rendered&&this.$rendered.attr("data-"+e.name,t),this._fire(e.name+"change")))):this.options[e.name]}}),l.defineProp("playlists",{writable:!1,get:function(t){var a=o.jme.data(t);return t!=a.player[0]?null:(a.playlists||(a.playlists=new e(a)),a.playlists)}}),l.defineMethod("addPlaylist",function(e,t){var a=o.jme.prop(this,"playlists");return a&&a.add?a.add(e,t):null}),[{name:"playlist-prev",text:"previous",get:"getPrev",play:"playPrev"},{name:"playlist-next",text:"next",get:"getNext",play:"playNext"}].forEach(function(e){o.jme.registerPlugin(e.name,{structure:c,text:e.text,_create:function(t,a,i){function s(){var a=n[e.get]();t.prop(a?{disabled:!1,title:a.title}:{disabled:!0,title:""})}function r(){var e=o.getShowcontrolsList();e!=n&&(n&&n.off("itemchange",s),n=e,n&&(n.on("itemchange",s),s()))}var n,o=i.jmeProp("playlists");t.on("click",function(){n&&n[e.play]()}),o.on({"addlist removelist showcontrolschange":r}),r()}})}),function(){var e={};o.jme.tmpl=function(t,a){return e[t]||(e[t]=new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").replace(/'(?=[^%]*%>)/g,"	").split("'").join("\\'").split("	").join("'").replace(/<%=(.+?)%>/g,"',$1,'").split("<%").join("');").split("%>").join("p.push('")+"');}return p.join('');")),a?e[t](a):e[t]}}(),o.jme.Playlist=t,n.isReady("playlist",!0)});