define(["jquery","underscore","Backbone","text!views/transfer/viewBeneficiary.tpl","collections/manageBeneficiaries/getBeneficiariesCollection"],function(e,n,t,i,a){var o=new EncryptedLocalStorage("secret"),c=t.View.extend({el:"#container",events:{"click #WithinBank_AddBene":"loadAddbeneUI","click #WithinBank_OneTimePay":"loadonetime","click #WithinBank_ToBeneficiary":"loadtobeneficiary","click #WithinBank_SelectBeneficiary":"loadselectbene"},initialize:function(){},update:function(){var n=this,t=function(t){hideSpinner(),e("html").removeClass().addClass("app"),n.LoadTemplete()},i=function(e){n.errorresponse()};showSpinner(),n.collection=new a,n.collection.fetch({data:e.param({access_token:o.get("access_token"),trSubTypeId:"BRAC"}),dataType:"json",type:"POST",cache:!1,success:function(e){"0000"==ackStatus?t(e):i(e)},error:i})},errorresponse:function(){hideSpinner(),openErrorPopup()},LoadTemplete:function(){this.$el.html(n.template(i))},loadAddbeneUI:function(e){e.stopImmediatePropagation(),o.set("isTransfer","true"),t.history.navigate("#/withinbankaddbene")},loadonetime:function(e){e.stopImmediatePropagation(),t.history.navigate("#/onetimepay")},loadtobeneficiary:function(e){e.stopImmediatePropagation(),t.history.navigate("#/viewbeneficiary")},loadselectbene:function(){var n=e("input[name='bene']:checked").val();o.set("selectid1",n);var i=e("input[name='bene']:checked").attr("data");o.set("selectedBeneInstId",i),t.history.navigate("#/selectbeneficiary")},disposeView:function(e){return t.View.prototype.close=function(){this.unbind(),this.undelegateEvents()},void 0!==this.currentView&&this.currentView.close(),this.currentView=e,this.currentView.delegateEvents(),this.currentView}});return c});