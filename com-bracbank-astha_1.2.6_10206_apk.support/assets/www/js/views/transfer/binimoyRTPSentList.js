define(["jquery","underscore","Backbone","collections/transfer/getRTPSentListCollections","text!views/transfer/binimoyRTPSentList.tpl"],function(e,t,n,i,r){var o=new EncryptedLocalStorage("secret"),a=n.View.extend({el:"#container",events:{"click #rtpReceiveList":"gotoRTPReceiveList","keyup #rtpSentlist_SearchBox":"filterRTPSentListSearchBox","click #gotoCreateNewRTP":"gotoCreateNewRTPRequest"},initialize:function(){},update:function(){showSpinner();var t=this,n=function(e){hideSpinner(),t.loadRTPSentListTemplate()},r=function(e){hideSpinner(),t.errorresponse()};showSpinner(),t.collection=new i,t.collection.fetch({data:e.param({access_token:o.get("access_token"),page_no:"0",from_date:"",to_date:""}),dataType:"json",type:"POST",cache:!1,success:function(e){"0000"==ackStatus?n(e):r(e)},error:r})},loadRTPSentListTemplate:function(){this.$el.html(t.template(r)),e("html").removeClass().addClass("app");var n=e("#gotoCreateNewRTPDiv").find("span").attr("id");enableScroll(n)},gotoRTPReceiveList:function(e){e.stopImmediatePropagation(),n.history.navigate("#/binimoyrtpreceivelist")},gotoCreateNewRTPRequest:function(e){e.stopImmediatePropagation(),n.history.navigate("#/binimoyrtpcreatesendreq")},filterRTPSentListSearchBox:function(t){t.stopImmediatePropagation();jQuery.expr[":"].contains=function(e,t,n){return jQuery(e).text().toUpperCase().indexOf(n[3].toUpperCase())>=0};var n=t.target.value;n.length>0?(e(".search_clear").is(":visible")||(e(".search_clear").show(),e(".search_clear").on("click",function(){e("#rtpSentlist_SearchBox").val(""),e(".rtpSentList").show(),e("#rtpSentlist_SearchBox").focus(),e(".search_clear").hide(),e(".nodata").hide()})),e(".rtpSentList").hide(),e('.rtpSentList:contains("'+n+'")').length>0?(e(".nodata").hide(),e('.rtpSentList:contains("'+n+'")').show()):e(".nodata").show()):(e(".search_clear").hide(),e(".nodata").hide(),e(".rtpSentList").show())},errorresponse:function(){hideSpinner(),openErrorPopup()},disposeView:function(e){return n.View.prototype.close=function(){this.unbind(),this.undelegateEvents()},void 0!==this.currentView&&this.currentView.close(),this.currentView=e,this.currentView.delegateEvents(),this.currentView}});return a});