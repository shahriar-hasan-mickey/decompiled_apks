define(["jquery","underscore","Backbone","text!views/login/forgotmpinSuccess.tpl","collections/logout/logoutCollections","models/validation/forgotMpinValidationModel"],function(e,t,n,i,o,r){var s=new EncryptedLocalStorage("secret"),c=n.View.extend({el:"#container",events:{"click #gotologin":"gotoLogin"},initialize:function(){this.on("error",function(e,t){alert(t)})},update:function(){var e=this;e.mpinsuccessmsg(),s.set("currentPage","transferConfirm")},mpinsuccessmsg:function(){return hideSpinner(),e(this.el).html(t.template(i)).i18n(),e(this.el).trigger("create"),this},gotoLogin:function(){showSpinner();var t=this,n=function(e){t.msgsuccesscompile()},i=function(e){t.errorresponse()};t.collection=new o([],{});var r=(new Date).getTime();t.collection.fetch({data:e.param({usersession:s.get("access_token"),access_token:s.get("access_token"),requestid:r}),dataType:"json",type:"POST",cache:!1,success:function(e){"0000"==ackStatus?n(e):i(e)},error:i})},msgsuccesscompile:function(){return hideSpinner(),n.history.fragment=null,n.history.navigate("#/login",{trigger:!0,replace:!0}),this},errorresponse:function(){hideSpinner(),openErrorPopup()},disposeView:function(e){return n.View.prototype.close=function(){this.unbind(),this.undelegateEvents()},void 0!==this.currentView&&this.currentView.close(),this.currentView=e,this.currentView.delegateEvents(),this.currentView}});return c});