define(["jquery","underscore","Backbone","collections/wealth/cardDetailStatementCollections","text!views/wealth/carddetailstatement.tpl","views/common/exception"],function(e,t,n,i,o,c){var a=new EncryptedLocalStorage("secret"),r=n.View.extend({el:"#detailgrid",update:function(t,n,o){var c=this,r=function(e){c.detailstatementcompile()},s=function(e){c.errorresponse()};c.collection=new i([],{id:t}),timestamp=(new Date).getTime();var l=getDeviceId(),m=t+""+l,u=CryptoJS.MD5(m);m=u+"";var d=a.get("frmamtcc"),p=a.get("toamtcc");d=""!=d?d:"",p=""!=p?p:"",c.collection.fetch({data:e.param({appchecksum:m,accountNumber:t,fromDate:n,toDate:o,numRecordsRequested:10,sortBy:"debitAmount",lastNTransactionFilter:10,requestid:timestamp}),dataType:"json",type:"POST",cache:!1,timeout:parseInt(a.get("calltimeout")),success:function(e){"00000"==ackStatus?r(e):s(e)},error:s})},detailstatementcompile:function(){return this.$el.html(t.template(o,{collection:this.collection.models})).i18n(),this.$el.trigger("create"),hideSpinner(),this.undelegateEvents(),this},errorresponse:function(){hideSpinner(),openErrorPopup()}});return r});