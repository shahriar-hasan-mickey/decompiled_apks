define(["jquery","underscore","Backbone","text!views/more/changePushNotify.tpl","text!views/more/changePushNotifySuccess.tpl","collections/more/pushNotifyUpdationCollection"],function(e,t,n,i,c,o){var s=new EncryptedLocalStorage("secret"),r=n.View.extend({el:"#container",e1:"#menuwrapper",e2:"#mobcontent",events:{"click #submit":"submit","click #cancel":"cancel","click #dis":"dis","click #en":"en"},initialize:function(){},render:function(){hideSpinner(),s.set("currentPage",""),this.$("#mobcontent").html(t.template(i)).i18n()},dis:function(){e("#dis").addClass("active"),e("#en").removeClass("active");var t=e("#dis").val();s.set("value",t)},en:function(){e("#dis").removeClass("active"),e("#en").addClass("active");var t=e("#en").val();s.set("value",t)},listcompile:function(e){hideSpinner(),s.set("pushNotifyFlag",e),this.$("#mobcontent").html(t.template(c,{flag:e})).i18n()},errorresponse:function(){hideSpinner(),openErrorPopup()},submit:function(){var t=e("input[name=option]:checked").val(),t=s.get("value");if(null==t){var n=s.get("pushNotifyFlag");t=n}var i=this,c=function(e){i.listcompile(t)},r=function(e){i.errorresponse()};i.collection=new o([],{}),timestamp=(new Date).getTime();var a=(s.get("custno"),s.get("proximityPushFlag"));showSpinner(),i.collection.fetch({data:e.param({pushnotify:t,proximitypush:a,requestid:timestamp}),dataType:"json",type:"POST",timeout:parseInt(s.get("calltimeout")),cache:!1,success:function(e){"0000"==ackStatus?c(e):r(e)},error:r})},cancel:function(){n.history.navigate("#/preference")},disposeView:function(e){return n.View.prototype.close=function(){this.unbind(),this.undelegateEvents()},void 0!==this.currentView&&this.currentView.close(),this.currentView=e,this.currentView.delegateEvents(),this.currentView}});return r});