define(["jquery","underscore","Backbone","routers/morerouter","collections/more/sweepdeleteCollection","text!views/more/sweepsdelete.tpl","text!views/more/sweepsdeletesuccess.tpl"],function(e,t,n,r,s,o,i){var c=new EncryptedLocalStorage("secret"),a=n.View.extend({el:"#container",e1:"#menuwrapper",e2:"#mobcontent",events:{"click #deletesweep":"sweepDelete"},render:function(e){hideSpinner(),c.set("deleteSweepInformations","");var n=c.get("standingOrderInformations");n=n[e],c.set("deleteSweepInformations",n),this.$("#mobcontent").html(t.template(o,n)).i18n()},sweepDelete:function(){var t=this;showSpinner();var n=function(e){t.sweepdeletesuccess()},r=function(e){t.errorresponse()};t.collection=new s;var o=c.get("deleteSweepInformations"),i=o.amount,a=i.replace(/,/g,"").trim();t.collection.fetch({data:e.param({access_token:c.get("access_token"),sweepOrderNo:o.orderNo,acctNumber:o.fromAccount,amount:a,firstPaymentDate:o.firstPaymentDate,remarks:o.remarks,sweepPaymentType:o.transferType,senderNarrative:o.narration,transactionType:"Posting"}),dataType:"json",type:"POST",cache:!1,success:function(e){"0000"==ackStatus?n(e):r(e)},error:r})},sweepdeletesuccess:function(){hideSpinner(),this.$("#mobcontent").html(t.template(i)).i18n()},errorresponse:function(){hideSpinner(),openErrorPopup()},disposeView:function(e){return n.View.prototype.close=function(){this.unbind(),this.undelegateEvents()},void 0!==this.currentView&&this.currentView.close(),this.currentView=e,this.currentView.delegateEvents(),this.currentView}});return a});