define(["jquery","underscore","Backbone","routers/morerouter","text!views/more/otpUpdates.tpl"],function(e,t,n,i,r){var s=new EncryptedLocalStorage("secret"),c=n.View.extend({el:"#container",e1:"#menuwrapper",e2:"#mobcontent",events:{"click #submit":"submit","click #cancel":"cancel","click #dis":"dis","click #en":"en"},initialize:function(){},render:function(){hideSpinner(),s.set("currentPage",""),this.otpUpdatesTemplate()},otpUpdatesTemplate:function(){hideSpinner(),this.$("#mobcontent").html(t.template(r)).i18n()},enable:function(){hideSpinner(),n.history.navigate("#/otpUpdateSuccess/Y")},disable:function(){hideSpinner(),n.history.navigate("#/otpUpdateSuccess/N")},dis:function(){e("#dis").addClass("active"),e("#en").removeClass("active");var t=e("#dis").val();s.set("value",t)},en:function(){e("#dis").removeClass("active"),e("#en").addClass("active");var t=e("#en").val();s.set("value",t)},errorresponse:function(){hideSpinner(),openErrorPopup()},submit:function(){showSpinner();var e=s.get("value");window.localStorage.setItem("mpin_login_otp",e),"Y"==e?this.enable():this.disable()},cancel:function(){n.history.navigate("#/preference")},disposeView:function(e){return n.View.prototype.close=function(){this.unbind(),this.undelegateEvents()},void 0!==this.currentView&&this.currentView.close(),this.currentView=e,this.currentView.delegateEvents(),this.currentView}});return c});