define(["jquery","underscore","Backbone","routers/morerouter","text!views/more/sweepsaddconfirm.tpl","collections/more/sweepValidateCollections","text!views/more/sweepsaddsuccess.tpl"],function(e,t,r,n,c,i,s){var a=new EncryptedLocalStorage("secret"),o=r.View.extend({el:"#container",e1:"#menuwrapper",e2:"#mobcontent",events:{"click #submitsuccessadd":"submitSuccessadd"},render:function(){hideSpinner(),this.$("#mobcontent").html(t.template(c)).i18n()},submitSuccessadd:function(){var t=a.get("sweepConfirm");acnum=t[0],paymenttype=t[1],sweeptype=t[2],paymentdate=t[4],payamt=t[5],upperlmt=t[6],acremarks=t[7],craccremarks=t[8],lowerlmt=t[9],lastpaymentdate=t[10];var r=a.get("ldate"),n=a.get("fdate"),c=a.get("swpId"),s=a.get("nmeidx"),o=a.get("frequency"),d=a.get("acnumidx");if("4"==s)var u=(creditac=t[3],a.get("debitaccId"));else if("3"==s)var m=creditac=t[3],p=a.get("creditaccId");var l=this,w=function(e){l.samplelist()},f=function(e){l.errorresponse()};l.collection=new i([],{});(new Date).getTime();showSpinner(),l.collection.fetch({data:e.param({access_token:a.get("access_token"),debitAcctNumber:acnum,creditAcctNumber:m,upperLimit:t[6],lowerLimit:t[9],sweepPaymentType:c,senderNarrative:t[8],amount:t[5],debitAcctId:u,creditAcctId:p,acctId:d,firstPaymentDate:n,lastPaymentDate:r,frequency:o,remarks:t[7],validtype:"Posting"}),dataType:"json",type:"POST",timeout:parseInt(a.get("calltimeout")),cache:!1,success:function(e){var t=(a.get("errordesc"),a.get("errorcode"));"0000"==ackStatus?w(e):null!=t&&"MTC-RT-0003"!=t?w(e):f(e)},error:f})},samplelist:function(){hideSpinner(),this.$("#mobcontent").html(t.template(s)).i18n()},errorresponse:function(){hideSpinner(),openErrorPopup()},disposeView:function(e){return r.View.prototype.close=function(){this.unbind(),this.undelegateEvents()},void 0!==this.currentView&&this.currentView.close(),this.currentView=e,this.currentView.delegateEvents(),this.currentView}});return o});