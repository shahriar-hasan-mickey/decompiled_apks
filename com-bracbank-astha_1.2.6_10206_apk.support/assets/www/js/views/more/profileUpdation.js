define(["jquery","underscore","Backbone","routers/morerouter","text!views/more/profileUpdation.tpl","models/validation/profileUpdationValidationModel","collections/more/profileUpdationCollection","collections/more/nationalDetailsCollection"],function(e,n,t,i,o,r,a,c){var l=new EncryptedLocalStorage("secret"),s=t.View.extend({el:"#container",e1:"#menuwrapper",e2:"#mobcontent",events:{"click #submit":"submit","click #cancel":"cancel","click #termandcondition":"termandcondition","click #termandcondition1":"termandcondition1"},initialize:function(){},render:function(){l.set("currentPage","");var e=this;showSpinner();var n=function(n){e.nationality()},t=function(n){e.errorresponse()};e.collection=new a([],{}),e.collection.fetch({dataType:"json",type:"POST",cache:!1,timeout:parseInt(l.get("calltimeout")),success:function(e){"0000"==ackStatus?n(e):t(e)},error:t})},nationality:function(){l.set("currentPage","");var e=this;showSpinner();var n=function(n){e.profileUpdateCompile()},t=function(n){e.errorresponse()};e.collection=new c([],{}),e.collection.fetch({dataType:"json",type:"POST",cache:!1,timeout:parseInt(l.get("calltimeout")),success:function(e){"0000"==ackStatus?n(e):t(e)},error:t})},profileUpdateCompile:function(){hideSpinner(),this.$("#mobcontent").html(n.template(o)).i18n()},termandcondition:function(){l.get("lang_id")},termandcondition1:function(){l.get("lang_id")},errorresponse:function(){hideSpinner(),openErrorPopup()},submit:function(){e("#commonErrorPass").hide(),this.model=new r({url:"json/"}),t.Validation.bind(this);var n=this.$("form").serializeObject();if(this.model.set(n,{validate:!0})){this.model.clear(),t.Validation.unbind(this);var i=e("#hiddenfirstName").val(),o=e("#hiddenmobile").val(),a=e("#poboxnumber").val(),c=e("#postalnumber").val(),s=e("#town").val(),d=e("#phonenumber").val(),u=e("#telephonenumber").val(),p=e("#email").val(),m=e("#buildingnumber").val(),h=e("#street").val(),f=e("#district").val(),v=e("#unitnumber").val(),b=e("#city").val(),w=e("#postalcode").val(),g=e("#additionalnumber").val(),y=e("#hiddenmobilemask").val();l.set("mobilemask",y),showSpinner(),this.success(i,o,a,c,s,d,u,p,m,h,f,v,b,w,g)}else this.$(".alert-error").fadeIn()},cancel:function(){var e=l.get("fromAddAccOpening");e?t.history.navigate("#/addaccopeningrequest"):t.history.navigate("#/preference")},success:function(e,n,i,o,r,a,c,s,d,u,p,m,h,f,v){hideSpinner();var b=new Array;b[0]=e,b[1]=n,b[2]=i,b[3]=o,b[4]=r,b[5]=a,b[6]=c,b[7]=s,b[8]=d,b[9]=u,b[10]=p,b[11]=m,b[12]=h,b[13]=f,b[14]=v,l.set("profileupdateverifylist",b),t.history.navigate("#/profileupdateverify")},disposeView:function(e){return t.View.prototype.close=function(){this.unbind(),this.undelegateEvents()},void 0!==this.currentView&&this.currentView.close(),this.currentView=e,this.currentView.delegateEvents(),this.currentView}});return s});