define(["jquery","underscore","Backbone","text!views/creditcard/creditCardLimitConfirm.tpl","text!views/creditcard/creditCardLimitOtpResult.tpl","collections/creditcard/creditCardLimitCollections","collections/creditcard/creditCardLimitOtpCollections","models/validation/creditCardLimitValidationModel"],function(e,i,t,n,r,a,c,m){var l=new EncryptedLocalStorage("secret"),s=t.View.extend({el:"#container",events:{"click #submitOTP":"submitOTP"},initialize:function(){this.on("error",function(e,i){alert(i)})},update:function(){e("#disclaimer").hide(),showSpinner(),this.blockccotp()},blockccotp:function(){var e=l.get("selectlim"),t=(l.get("inclimit"),l.get("limit")),r=l.get("newlimit"),a=l.get("ccode");hideSpinner(),this.$("#mobcontent").html(i.template(n,{frmcc:e,limit:t,newlimit:r,ccode:a})).i18n()},submitOTP:function(){l.set("newlimnam",""),l.set("frmnam",""),l.set("inclimnam",""),l.set("curlimnam",""),l.set("resonnam","");var i=e("#frmcc1").text();""==i&&(i="0000");var n=e("#frmnam").val();""==n&&(n="Name");var r=e("#inclimnam").val();""==r&&(r="Increase Limit Type");var a=e("#curlimnam").val();""==a&&(a="Current Limit Name");var c=e("#newlimnam").val();""==c&&(c="New Limit Name");var m=e("#resonnam").val();""==m&&(m="Reason");var s=e("#increaselimit").val();""==s&&(s="0.0");var o=e("#limits").val();""==o&&(o="0.0");var d=e("#newLimit").val();""==d&&(d="0.0");var v=e("#reasons").val();""==v&&(v="0.0");var u=e("#code").text();""==u&&(u="0.0"),l.set("newlimnam",c),l.set("frmnam",n),l.set("inclimnam",r),l.set("curlimnam",a),l.set("resonnam",m),t.history.navigate("#/creditCardLimitOtp")},errorresponse:function(){hideSpinner(),t.history.navigate("#/exception")},disposeView:function(e){return t.View.prototype.close=function(){this.unbind(),this.undelegateEvents()},void 0!==this.currentView&&this.currentView.close(),this.currentView=e,this.currentView.delegateEvents(),this.currentView}});return s});