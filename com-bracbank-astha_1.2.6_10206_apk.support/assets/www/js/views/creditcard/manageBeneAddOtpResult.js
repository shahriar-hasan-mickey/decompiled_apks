define(["jquery","underscore","Backbone","collections/creditcard/manageBeneAddOtpResultCollections","text!views/creditcard/manageBeneAddOtpResult.tpl"],function(e,t,n,r,i){var a=new EncryptedLocalStorage("secret"),s=n.View.extend({el:"#mobcontent",events:{},initialize:function(){this.on("error",function(e,t){alert(t)})},update:function(){var t=(a.get("custno"),this),n=a.get("creditCardmaskAcctNo"),i=a.get("creditCardNameActual"),s=function(e){t.resultPageSuccess()},c=function(e){t.errorresponse()};t.collection=new r([],{}),timestamp=(new Date).getTime();var o=i,d="",u="",l="",m="",b="",p="",g="",y="",h="",N="",f="",v="",A="",k="",w="",S="",C="4",V="INACTIVE",B=n,E=n,T="",I="",P="",x="",R="",M="",O="",j="",q="",d=a.get("shortName"),o=a.get("creditCardNameActual"),z=a.get("creditCardNoMask"),D="",L="",U="",Y=a.get("usermobile"),_="02",F="02",G="",H=a.get("lang_id");"en-US"==H?G="EN":"en-AR"==H&&(G="AR"),showSpinner(),t.collection.fetch({data:e.param({ivrflag:"Y",lastName:u,middleName:l,description:m,buildingNumber:b,streetAddress1:p,streetAddress2:g,streetAddress3:y,streetAddress4:h,primaryPhoneNumber:N,secondaryPhoneNumber:f,primaryMobileNumber:v,secondaryMobileNumber:A,cityId:k,primaryEmailAddress:w,secondaryEmailAddress:S,beneTypeCode:C,beneStatus:V,benacctno:B,beneficiaryIbanNumber:E,benbankAddr1:T,benBankAddr2:I,beneficiaryBankAddress3:P,benNationality:x,benBankCountry:R,benBankbic:M,beneficiaryAccountCurrency:O,bankCountryCode:j,benBankName:q,firstName:d,shortName:o,actvcode:D,actvcodecreated:L,actvcodeexpiry:U,mobilenumber1:Y,creditCardNumber:z,service:_,serviceType:F,language:G,requestid:timestamp}),dataType:"json",timeout:parseInt(a.get("calltimeout")),type:"POST",cache:!1,success:function(e){"0000"==ackStatus&&"0"==ivrcallinitiationstatus?s(e):"0000"==ackStatus&&"1"==ivrcallinitiationstatus?s(e):"0000"==ackStatus&&""==ivrcallinitiationstatus?s(e):"0000"==ackStatus?s(e):c(e)},error:c})},resultPageSuccess:function(){hideSpinner(),e(this.el).html(t.template(i)).i18n()},errorresponse:function(){hideSpinner(),n.history.navigate("#/exception")},disposeView:function(e){return n.View.prototype.close=function(){this.unbind(),this.undelegateEvents()},void 0!==this.currentView&&this.currentView.close(),this.currentView=e,this.currentView.delegateEvents(),this.currentView}});return s});