define(["jquery","underscore","Backbone","text!views/creditcard/manageBeneAddConfirm.tpl","text!views/creditcard/manageBeneAddOtpResult.tpl","collections/creditcard/manageBeneAddOtpCollections","collections/creditcard/manageBeneAddOtpResultCollections","models/validation/activateCreditCardValidationModel"],function(e,t,i,n,r,c,a,o){var s=new EncryptedLocalStorage("secret"),d=i.View.extend({el:"#mobcontent",events:{"click #submitOTP":"submitOTP"},initialize:function(){this.on("error",function(e,t){alert(t)})},update:function(){var e=this;showSpinner(),e.activateccotp()},activateccotp:function(){hideSpinner();var i=s.get("creditCardNoActual"),r=s.get("creditCardNameActual"),c=i.substring(0,6)+"XXXXXX"+i.substring(i.length-4);return s.set("creditCardmaskAcctNo",c),e(this.el).html(t.template(n,{name:r,cardno:c})).i18n(),e(this.el).trigger("create"),this},submitOTP:function(){i.history.navigate("#/manageAddBeneOTP")},errorresponse:function(){i.history.navigate("#/exception"),hideSpinner()},disposeView:function(e){return i.View.prototype.close=function(){this.unbind(),this.undelegateEvents()},void 0!==this.currentView&&this.currentView.close(),this.currentView=e,this.currentView.delegateEvents(),this.currentView}});return d});