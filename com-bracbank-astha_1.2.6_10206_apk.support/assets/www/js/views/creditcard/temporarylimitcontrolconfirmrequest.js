define(["jquery","underscore","Backbone","text!views/creditcard/temporarylimitcontrolconfirmrequest.tpl","text!views/creditcard/creditCardLimitOtpResult.tpl"],function(e,t,i,n,r){var a=new EncryptedLocalStorage("secret"),c=i.View.extend({el:"#container",events:{"click #submitOTP":"submitOTP"},initialize:function(){this.on("error",function(e,t){alert(t)})},update:function(){e("#disclaimer").hide(),showSpinner(),this.blockccotp()},blockccotp:function(){var e=a.get("selectlim"),i=(a.get("inclimit"),a.get("limit")),r=a.get("newlimit"),c=a.get("ccode");hideSpinner(),this.$("#mobcontent").html(t.template(n,{frmcc:e,limit:i,newlimit:r,ccode:c})).i18n()},submitOTP:function(){a.set("newlimnam",""),a.set("frmnam",""),a.set("inclimnam",""),a.set("curlimnam",""),a.set("resonnam","");var t=e("#frmcc1").text();""==t&&(t="0000");var n=e("#frmnam").val();""==n&&(n="Name");var r=e("#inclimnam").val();""==r&&(r="Increase Limit Type");var c=e("#curlimnam").val();""==c&&(c="Current Limit Name");var m=e("#newlimnam").val();""==m&&(m="New Limit Name");var s=e("#resonnam").val();""==s&&(s="Reason");var l=e("#increaselimit").val();""==l&&(l="0.0");var o=e("#limits").val();""==o&&(o="0.0");var u=e("#newLimit").val();""==u&&(u="0.0");var v=e("#reasons").val();""==v&&(v="0.0");var d=e("#code").text();""==d&&(d="0.0"),a.set("newlimnam",m),a.set("frmnam",n),a.set("inclimnam",r),a.set("curlimnam",c),a.set("resonnam",s),a.set("limit",o),a.set("newlimit",u),i.history.navigate("#/temporarylimitcontrolOTP")},errorresponse:function(){hideSpinner(),i.history.navigate("#/exception")},disposeView:function(e){return i.View.prototype.close=function(){this.unbind(),this.undelegateEvents()},void 0!==this.currentView&&this.currentView.close(),this.currentView=e,this.currentView.delegateEvents(),this.currentView}});return c});