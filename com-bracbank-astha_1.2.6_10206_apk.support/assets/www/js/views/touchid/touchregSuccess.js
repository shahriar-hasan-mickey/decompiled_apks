define(["jquery","underscore","Backbone","text!views/touchid/touchregSuccess.tpl","collections/common/otpGenerateCollections","collections/common/otpValidateCollections","collections/logout/logoutCollections","views/errors/exception"],function(e,t,c,n,o,r,i,s){var a=new EncryptedLocalStorage("secret"),u=c.View.extend({el:"#container",e1:"#preloginmobcontent",events:{"click #createsuccessclick":"creatempinsuccessverification"},update:function(){a.set("currentPage","transferConfirm"),this.creatempincompiler()},creatempincompiler:function(){a.set("touchIdReg","A"),a.set("touchIdRegServer","A"),a.set("touchAllowedForUser","E"),a.set("reAuthTouch",!1);var c=a.get("BiometricType");if("FID"==c){e.i18n.t("app.faceid.notifaceSuccess")}else{e.i18n.t("app.touchid.notiTouchSuccess")}return this.$el.html(t.template(n)),this},creatempinsuccessverification:function(t){t.preventDefault(),a.set("currentPage",""),showSpinner();var c=this,n=function(e){c.creatempinsuccessverify()},o=function(e){c.errorresponse()};c.collection=new i([],{});var r=(new Date).getTime();c.collection.fetch({data:e.param({usersession:a.get("access_token"),access_token:a.get("access_token"),requestid:r}),dataType:"json",type:"POST",cache:!1,success:function(e){"0000"==ackStatus?n(e):o(e)},error:o})},creatempinsuccessverify:function(){c.history.fragment=null,c.history.navigate("#/landing",{trigger:!0,replace:!0}),hideSpinner()},errorresponse:function(e){hideSpinner(),openErrorPopup()}});return u});