define(["jquery","underscore","Backbone","collections/tedallal/redeemCreditcardFeeCollections","models/validation/tedallal/tedallalValidationModel","text!views/tedallal/ccfeeredemptionconfirm.tpl"],function(e,t,n,r,a,o){var i=new EncryptedLocalStorage("secret"),c=n.View.extend({el:"#container",e1:"#menuwrapper",e2:"#mobcontent",events:{},render:function(){var t=this;showSpinner();var t=this,n=i.get("nameArray"),a=JSON.stringify(n),o=i.get("ccnum"),c=o.split("-"),l=c.join(""),s=new Array;s[0]=l,s[1]=i.get("totalCurrentPoints"),s[2]=i.get("creditcardtype");var d=JSON.stringify(s),m=i.get("frmact"),p=getDeviceId(),u=m+""+p,f=CryptoJS.MD5(u);u=f+"";var y=i.get("lmsreqid");t.collection=new r([],{});var g=function(e){t.showConfirmTemplate()},h=function(e){t.errorresponse()};t.collection.fetch({data:e.param({requestusername:y,name:a,value:d,accountNumber:m}),dataType:"json",type:"POST",timeout:parseInt(i.get("calltimeout")),cache:!1,success:function(e){"0000"==ackStatus?g(e):h(e)},error:h})},showConfirmTemplate:function(){hideSpinner(),this.$("#mobcontent").html(t.template(o)),i.set("creditcardtype",""),i.set("creditcardtype1","")},errorresponse:function(){hideSpinner(),n.history.navigate("#/exception")}});return c});