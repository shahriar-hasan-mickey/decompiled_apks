define(["jquery","underscore","Backbone","collections/accounts/casaDetailStatementPaginationCollections","text!views/accounts/accdetailstatementPagination.tpl","views/common/exception"],function(e,t,n,a,o,c){var s=new EncryptedLocalStorage("secret"),r=n.View.extend({el:"#pagingcontent",events:{"click #buttonclick":"clickpagination"},update:function(e){this.showOtherRecords(e)},showOtherRecords:function(t){s.set("currpage_number",t),showSpinner();var n=this,o=function(e){n.showdetailstmttemplate()},c=function(e){n.errorresponse()};n.collection=new a([],{pageNo:t});var r;r="true"==s.get("isFromStatementDwld")?s.get("selAccID"):s.get("accountId"),n.collection.fetch({data:e.param({access_token:s.get("access_token"),accountID:r,stmtheaderId:s.get("stmtHeaderId"),pagenumber:t,fromAmount:s.get("frmAmt"),toAmount:s.get("toamt")}),dataType:"json",type:"POST",cache:!1,success:function(e){"0000"==ackStatus?o(e):c(e)},error:c})},showdetailstmttemplate:function(){hideSpinner();var n=s.get("pageno"),a=parseInt(n)-1;return e("#pagelink"+a).addClass("active_page").siblings(".active_page").removeClass("active_page"),this.$el.html(t.template(o)),this},errorresponse:function(){hideSpinner(),openErrorPopup()}});return r});