define(["jquery","underscore","Backbone","text!views/accounts/termDeposit/applyDepositConfirm.tpl","views/errors/exception"],function(e,t,o,n,r){var i=new EncryptedLocalStorage("secret"),s=o.View.extend({el:"#container",events:{"click #DepositDownload":"PDFDownload"},initialize:function(){},render:function(){var o=this;e("html").removeClass().addClass("primarybg hasFooter fntzoom"),o.$el.html(t.template(n));var r=(parseFloat(i.get("transamount")),i.get("interestRate")),s=i.get("TenorSelectVal"),p=i.get("interestAmount"),c=i.get("depositprodType");e("#totprinamt").css({display:"none"}),e("#depositTenor").html(s),e("#depositType").html(i.get("productTypeValue")),e("#depositAcc").html(i.get("trmdepoAccountNumber")),e("#sourceAcc").html(i.get("DepositAccNumber")),e("#maturityAmt").html(i.get("maturityAmount")),e("#intRate").html(r),e("#instAmt").html(i.get("installmentAmount")),e("#intAmt").html(p),e("#refno").html(i.get("coreReferenceNumber")),e("#producttype").html(c),e("#openingDate").html(i.get("openDate")),"DPS_DEPOSIT"==i.get("selectProductType")?(e("#depositStatusMsg").html(e.i18n.t("app.product.termdeposits.dpssuccess")),e("#totprinamt").css({display:"inline-block"}),e("#princAmt").html(i.get("totalPrincipalAmount"))):(e("#depositStatusMsg").html(e.i18n.t("app.product.termdeposits.fdrsuccess")),e("#totprinamt").css({display:"none"}))},PDFDownload:function(e){e.stopImmediatePropagation();var t="",o=i.get("app.context.path");t=o+"payment/transfersdownload";var n="access_token="+i.get("access_token")+"&statementheaderid=&fromActName="+i.get("profileName")+"&transtype=Deposit&producttype="+i.get("selectDepositType")+"&depsubtype="+i.get("productTypeValue")+"&titleprefix="+i.get("titlePrefix")+"&accountid="+i.get("DepositAccID")+"&tdaccnum="+i.get("trmdepoAccountNumber")+"&renewaltype="+i.get("renewalopt"),r=encodeURI(n);fileDownLoadAndViewer(t,r,1,i.get("access_token"))},errorresponse:function(){hideSpinner(),openErrorPopup()},disposeView:function(e){return o.View.prototype.close=function(){this.unbind(),this.undelegateEvents()},void 0!==this.currentView&&this.currentView.close(),this.currentView=e,this.currentView.delegateEvents(),this.currentView}});return s});