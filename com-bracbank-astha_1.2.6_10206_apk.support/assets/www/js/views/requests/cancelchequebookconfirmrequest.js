define(["jquery","underscore","Backbone","collections/requests/cancelChequeBookRequestResultCollections","text!views/requests/cancelchequebookconfirmrequest.tpl"],function(e,t,n,c,o){var i=new EncryptedLocalStorage("secret"),r=n.View.extend({el:"#mobcontent",events:{"click #confirmCancelChequebook":"confirmCancelChequebook"},initialize:function(){},update:function(){showSpinner(),this.requestcompile()},requestcompile:function(){return hideSpinner(),this.$el.html(t.template(o)).i18n(),this},confirmCancelChequebook:function(){n.history.navigate("#/cancelchequebookrequestOtp")},confirmCancelChequebook11:function(){var t=this,o=i.get("acc"),r=i.get("ref"),s=i.get("colbranch"),a=i.get("leavesno"),u=i.get("cheqbookno"),l=o+r+a+u+s;l=null==l?"":l,checkSumEncrypt(l);var h=localStorage.getItem("FINALCHECKSUM");timestamp=(new Date).getTime();var p=function(e){n.history.navigate("#/cancelchequebookrequestresult")},m=function(e){t.errorresponse()};t.collection=new c([],{}),timestamp=(new Date).getTime(),showSpinner();var f="",g=i.get("lang_id");"en-US"==g?f="EN":"en-AR"==g&&(f="AR"),t.collection.fetch({data:e.param({appchecksum:h,access_token:i.get("access_token"),referenceNumber:r,accountNo:o,NumberOfLeaves:a,NumberOfChequeBooks:u,CollectionBranchName:s,language:f}),dataType:"json",type:"POST",cache:!1,timeout:parseInt(i.get("calltimeout")),success:function(e){"0000"==ackStatus?(hideSpinner(),p(e)):m(e)},error:m})},errorresponse:function(){hideSpinner(),n.history.navigate("#/exception")},disposeView:function(e){return n.View.prototype.close=function(){this.unbind(),this.undelegateEvents()},void 0!==this.currentView&&this.currentView.close(),this.currentView=e,this.currentView.delegateEvents(),this.currentView}});return r});