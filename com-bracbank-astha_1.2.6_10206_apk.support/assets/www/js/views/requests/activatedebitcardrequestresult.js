define(["jquery","underscore","Backbone","collections/requests/activateDebitCardRequestPostingCollections","text!views/requests/activatedebitcardrequestresult.tpl"],function(e,t,n,r,i){var o=new EncryptedLocalStorage("secret"),c=n.View.extend({el:"#mobcontent",events:{"click #postingrequest":"doanotherrequest"},initialize:function(){},render:function(){hideSpinner(),this.gotomanagedebitcardrequestposting()},gotomanagedebitcardrequestposting:function(t){var n=this,i=o.get("expiryform"),c=o.get("acctno"),s=Encrypt(c),a=function(e){n.postingcompile()},u=function(e){n.errorresponse()};n.collection=new r([],{});var p=(e("form").serialize(),getDeviceId()),d=s+""+p,l=CryptoJS.MD5(d);d=l+"",showSpinner(),n.collection.fetch({data:e.param({appchecksum:d,requestid:timestamp,dbcardMasked:s,debitCardNumber:s,expdate:i}),dataType:"json",type:"POST",cache:!1,timeout:parseInt(o.get("calltimeout")),success:function(e){"0000"==ackStatus?a(e):u(e)},error:u})},errorresponse:function(){hideSpinner(),n.history.navigate("#/exception")},postingcompile:function(){return hideSpinner(),o.set("currentPage","transferConfirm"),this.$el.html(t.template(i)).i18n(),this},doanotherrequest:function(t){t.preventDefault(),e("#servicerequestMnu").trigger("click")}});return c});