define(["jquery","underscore","Backbone","collections/requests/blockDebitCardRequestPostingCollections","text!views/requests/blockdebitcardrequestresult.tpl"],function(e,t,r,n,i){var o=new EncryptedLocalStorage("secret"),c=r.View.extend({el:"#mobcontent",events:{"click #postingrequest":"doanotherrequest"},initialize:function(){},render:function(){o.set("currentPage","transferConfirm"),hideSpinner(),this.gotomanagedebitcardrequestposting()},gotomanagedebitcardrequestposting:function(t){var r=this,i=o.get("blockCardNo"),c=Encrypt(i),s=o.get("blockExpDate"),a=function(e){r.postingcompile()},u=function(e){r.errorresponse()};r.collection=new n([],{});e("form").serialize();showSpinner();var p=getDeviceId(),l=i+""+p,d=CryptoJS.MD5(l);l=d+"",r.collection.fetch({data:e.param({appchecksum:l,dbcardMasked:c,requestid:timestamp,atmCardNumber:i,expiryDate:s,remarks:"rem"}),dataType:"json",type:"POST",cache:!1,timeout:parseInt(o.get("calltimeout")),success:function(e){"0000"==ackStatus?a(e):u(e)},error:u})},errorresponse:function(){hideSpinner(),r.history.navigate("#/exception")},postingcompile:function(){return hideSpinner(),o.set("currentPage","transferConfirm"),this.$el.html(t.template(i)).i18n(),this},doanotherrequest:function(t){t.preventDefault(),e("#servicerequestMnu").trigger("click")}});return c});