define(["jquery","underscore","Backbone","collections/creditcard/creditCardLimitOtpResultCollections","text!views/requests/applyreadycashconfirmrequest.tpl","text!views/requests/applyreadycashrequestresult.tpl","views/requests/applyreadycashrequestresult"],function(e,t,r,n,i,s,a){var c=new EncryptedLocalStorage("secret"),o=r.View.extend({el:"#mobcontent",events:{"click #applyreadycashrequestposting":"applyreadycashrequestposting"},initialize:function(){},render:function(){showSpinner(),this.requestcompile()},requestcompile:function(){return hideSpinner(),e(this.el).html(t.template(i,{fintype:fintype,ename:ename,mobno:mobno,dob:dob,city:city,employername:employername,length:length,sal:sal,amt:amt})).i18n(),this.$el.trigger("create"),this},applyreadycashrequestposting:function(){var t=c.get("custno"),r=new Array;r[0]=e("#fintype").val(),r[1]=e("#name").val(),r[2]=e("#mobno").val(),r[3]=e("#dob").val(),r[4]=e("#city").val(),r[5]=e("#employername").val(),r[6]=e("#lengthofservice").val(),r[7]=e("#grosssalary").val(),r[8]=e("#reqamt").val();var i=JSON.stringify(r),s=new Array;s[0]=c.get("rcfintype"),s[1]=c.get("rcename"),s[2]=c.get("rcmobno"),s[3]=c.get("rcdob"),s[4]=c.get("rccity"),s[5]=c.get("rcemployername"),s[6]=c.get("rclength"),s[7]=c.get("rcsal"),s[8]=c.get("rcamt");var a=JSON.stringify(s),o="NewRPLRequest",l="014",p=getDeviceId(),u=o+""+l+p,m=CryptoJS.MD5(u);u=m+"";var y=this;showSpinner();var h=function(e){y.postingcompile()},d=function(e){y.errorresponse()};y.collection=new n([],{id:t});e("form").serialize();y.collection.fetch({data:e.param({appchecksum:u,requestid:timestamp,servicerequestname:"NewRPLRequest",customernumber:t,servicerequesttype:"014",name:i,value:a}),dataType:"json",type:"POST",cache:!1,timeout:parseInt(c.get("calltimeout")),success:function(e){"0000"==ackStatus?h(e):d(e)},error:d})},postingcompile:function(){hideSpinner(),this.undelegateEvents(),r.history.navigate("#/applyreadycashrequestresult")},errorresponse:function(){hideSpinner(),r.history.navigate("#/exception")},disposeView:function(e){return r.View.prototype.close=function(){this.unbind(),this.undelegateEvents()},void 0!==this.currentView&&this.currentView.close(),this.currentView=e,this.currentView.delegateEvents(),this.currentView}});return o});