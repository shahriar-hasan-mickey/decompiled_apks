define(["jquery","underscore","Backbone","collections/sadad/editmanageBillsCollections","collections/sadad/manageBeneficiarydetailsCollections","text!views/sadad/editmanagebills.tpl","text!views/sadad/managebills.tpl","views/sadad/managebills","models/validation/sadad/editmanagebillValidationModel"],function(e,i,t,n,a,s,l,r,o){var c=new EncryptedLocalStorage("secret"),d=t.View.extend({el:"#container",e1:"#menuwrapper",e2:"#mobcontent",events:{"click #back":"back","click #verify":"verify"},initialize:function(){},update:function(){c.set("currentPage",""),c.set("refNumber",""),e("#contypeDiv").show();var i=this;i.beneeditcompile()},beneeditcompile:function(){var t=e("#shortName").val(),n=e("#Scrbeno").val(),a=e("#bencode").val(),l=e("#benstatus").val(),r=e("#connectiontype").val(),o=e("#categoryName").val(),d=e("#categoryId").val(),v=e("#serviceName").val(),m=e("#serviceId").val();c.set("scrbeno",n),c.set("shortName",t),c.set("connectiontype",r),c.set("categoryName",o),c.set("categoryId",d),c.set("serviceName",v),c.set("serviceId",m),c.set("benstatus",l),hideSpinner(),this.$("#mobcontent").html(i.template(s,{shortName:t,description:description,scrbeno:n,benecode:a,categoryName:o,connectiontype:r,serviceName:v}))},verify:function(i){var n=this;this.model=new o({url:"json/"}),this.$(".alert").hide(),t.Validation.bind(this);var a=this.$("form").serializeObject();if(this.model.set(a,{validate:!0})){this.model.clear(),t.Validation.unbind(this);var n=(e("#editnickname").val(),this);n.editbillOTPcompile()}else this.$(".alert-error").fadeIn(),i.preventDefault()},editbillOTPcompile:function(){e("#errBillcate").hide(),e("#errContype").hide(),e("#errBillcom").hide();var i=new Array;i[0]=e("#billcate").val(),i[1]=e("#billcompany").val(),i[2]=e("#custno").val(),i[3]=e("#nickname").val(),i[4]=e("#connectiontype").val();var n=0;return(i[0]==e.i18n.t("app.sadad.managebills.selcate")||""==i[0])&&(e("#errBillcate").show(),n+=1),(i[1]==e.i18n.t("app.sadad.managebills.selbillercom")||""==i[1])&&(e("#errBillcom").show(),n+=1),(i[4]==e.i18n.t("app.sadad.managebills.selcontype")||""==i[4])&&(e("#errContype").show(),n+=1),n>0?!1:(c.set("editBillList",i),void t.history.navigate("#/editmanageconfirm"))},back:function(){hideSpinner(),this.subview=this.disposeView(new r),this.subview.render(),this.undelegateEvents()},errorresponse:function(){hideSpinner(),t.history.navigate("#/exception")},disposeView:function(e){return t.View.prototype.close=function(){this.unbind(),this.undelegateEvents()},void 0!==this.currentView&&this.currentView.close(),this.currentView=e,this.currentView.delegateEvents(),this.currentView}});return d});