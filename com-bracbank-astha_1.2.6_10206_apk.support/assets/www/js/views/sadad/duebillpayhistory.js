define(["jquery","underscore","Backbone","collections/sadad/duebillPayCollections","text!views/sadad/duebillpayhistory.tpl"],function(e,i,n,t,r){var s=new EncryptedLocalStorage("secret"),a=n.View.extend({el:"#container",e1:"#menuwrapper",e2:"#mobcontent",events:{"click #pay":"pay"},initialize:function(){},update:function(){var n=s.get("billerHistnickname"),t=s.get("histscrbeno"),a=s.get("billerHistname"),l=e("#duebillhistflag").val();if("HISTFLAG"==l)var n=e("#histnickname").val(),t=e("#histscrbeno").val(),a=e("#histname").val();hideSpinner(),this.$("#mobcontent").html(i.template(r,{billerHistnickname:n,histscrbeno:t,billerHistname:a})).i18n()},billpay:function(e,n){hideSpinner(),this.$("#mobcontent").html(i.template(r,{nickname:e,name:n})).i18n()},errorresponse:function(){hideSpinner(),n.history.navigate("#/exception")},disposeView:function(e){return n.View.prototype.close=function(){this.unbind(),this.undelegateEvents()},void 0!==this.currentView&&this.currentView.close(),this.currentView=e,this.currentView.delegateEvents(),this.currentView}});return a});