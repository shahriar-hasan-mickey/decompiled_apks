define(["jquery","underscore","Backbone","collections/sadad/remindermanageBillsConfirmCollections","text!views/sadad/remindermanagebills.tpl","text!views/sadad/remindermanagebillsverify.tpl","text!views/sadad/deletemanagebillsubmit.tpl","views/sadad/managebills","models/validation/sadad/sadadValidationModel"],function(e,t,i,n,r,s,a,o,l){var c=i.View.extend({el:"#container",e1:"#menuwrapper",e2:"#mobcontent",events:{"click #back":"back","click #backverify":"backverify","click #verify":"verify","click #submitotp":"submitotp"},initialize:function(){this.on("error",function(e,t){alert(t)})},update:function(e){showSpinner();var t=this,i=function(i){t.reminderbill(e)},r=function(e){t.errorresponse()};t.collection=new n([],{}),timestamp=(new Date).getTime(),t.collection.fetch({dataType:"json",type:"POST",timeout:parseInt(els.get("calltimeout")),cache:!1,success:function(e){"0000"==ackStatus?i(e):r(e)},error:r})},verify:function(n){showSpinner();this.model=new l({url:"json/"}),this.$(".alert").hide(),i.Validation.bind(this);var r=this.$("form").serializeObject();if(this.model.set(r,{validate:!0})){this.model.clear(),i.Validation.unbind(this);var a=e("#billercompany option:selected").text(),o=e("#servicetype option:selected").text(),c=e("#payDate").val(),d=e("#remindDes").val(),m=e("#transAmt").val(),u=e("#customernumber").val();this.$("#mobcontent").html(t.template(s,{billcomp:a,servicetype:o,payDate:c,remindDes:d,transAmt:m,customernumber:u})).i18n()}else hideSpinner(),this.$(".alert-error").fadeIn(),n.preventDefault()},submitotp:function(){hideSpinner(),i.history.navigate("#/reminderbillconfirm")},reminderbill:function(e){return hideSpinner(),this.$("#mobcontent").html(t.template(r,{id:e})).i18n(),this},back:function(){hideSpinner(),this.subview=this.disposeView(new o),this.subview.render(),this.undelegateEvents()},backverify:function(){hideSpinner();var i=e("#customer").text();return this.$("#mobcontent").html(t.template(r,{id:i})).i18n(),this},errorresponse:function(){hideSpinner(),i.history.navigate("#/exception")},disposeView:function(e){return i.View.prototype.close=function(){this.unbind(),this.undelegateEvents()},void 0!==this.currentView&&this.currentView.close(),this.currentView=e,this.currentView.delegateEvents(),this.currentView}});return c});