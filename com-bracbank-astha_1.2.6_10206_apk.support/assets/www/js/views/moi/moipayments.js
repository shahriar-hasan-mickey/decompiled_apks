define(["jquery","underscore","Backbone","text!views/moi/moipayments.tpl","text!views/common/queuemode.tpl","collections/moi/moiPaymentsCollections","collections/moi/moiPaymentsTrafficCollections","models/validation/moi/moiValidationModel","views/moi/moipaymentsfee","collections/moi/moibillersubcategorylistCollections","collections/moi/moiComboSelectCollections","collections/moi/moiComboBodySelectCollections","collections/moi/moifeeInquiryCollections","collections/moi/moitraficinquiryCollections","routers/moirouter"],function(e,i,r,o,a,n,t,d,s,h,l,u,c,p,v){var m=new EncryptedLocalStorage("secret"),y=r.View.extend({el:"#container",e1:"#menuwrapper",e2:"#mobcontent",events:{"click #service":"submitBiller","change #serviceType":"SelectService","change #apptype":"SelectBillerType","change #licenceType":"LicenseDuration","change #newregType":"bodyTypeFilter","change #issueReason":"SelectIssueReason","change #passportDuration":"SelectPassportDuration","change #visaDuration":"SelectvisaDuration","click #getId":"getId","click #getnewIqamaId":"getnewIqamaId","click #getAlienId":"getAlienId","click #getIdIqama":"getIdIqama","click #getIdNat":"getIdNat","click #getIdSponsor":"getIdSponsor","click #getIdHouse":"getIdHouse","click #getIdCitizen":"getIdCitizen","click #getIdLicence":"getIdLicence","click #getIdCurrentOwner":"getIdCurrentOwner","click #getIdCivil":"getIdCivil"},initialize:function(){new v},render:function(r,o){m.set("currentPage","");var t=m.get("queueMode");if("P"==t){var d=this;showSpinner(),"en-US"==e.i18n.lng()?language="EN":"en-AR"==e.i18n.lng()&&(language="AR");var s=function(e){d.moipayments()},h=function(e){d.errorresponse()};d.collection=new n([],{}),d.collection.fetch({data:e.param({serviceid:r,utilitycompany:o,language:language,requestid:timestamp}),dataType:"json",type:"POST",cache:!1,success:function(e){"0000"==ackStatus?s(e):h(e)},error:h})}else m.set("queueModeModule","moiPayments"),this.$("#mobcontent").html(i.template(a)).i18n()},getIdCivil:function(){e("#violIDCivil").val(m.get("iqama_number"))},getIdCurrentOwner:function(){e("#currentownerId").val(m.get("iqama_number"))},getIdLicence:function(){e("#licenceId").val(m.get("iqama_number"))},getIdCitizen:function(){e("#citizenId").val(m.get("iqama_number"))},getIdHouse:function(){e("#houseHold").val(m.get("iqama_number"))},getIdSponsor:function(){e("#sponsorId").val(m.get("iqama_number"))},getIdNat:function(){e("#nationalId").val(m.get("iqama_number"))},getIdIqama:function(){e("#iqamaNumber").val(m.get("iqama_number"))},getId:function(){e("#iqamaid").val(m.get("iqama_number"))},getnewIqamaId:function(){e("#newiqamaid").val(m.get("iqama_number"))},getAlienId:function(){e("#alienId").val(m.get("iqama_number"))},notifyTraffic:function(r,o){m.set("currentPage","");var t=m.get("queueMode");if("P"==t){var d=this;showSpinner(),"en-US"==e.i18n.lng()?language="EN":"en-AR"==e.i18n.lng()&&(language="AR"),m.set("notifyBillerCode",""),m.set("moiserviceType","");var s=function(e){d.notifyTrafficLoadSubBiller()},h=function(e){d.errorresponse()};d.collection=new n([],{}),d.collection.fetch({data:e.param({serviceid:r,utilitycompany:o,language:language,requestid:timestamp}),dataType:"json",type:"POST",cache:!1,success:function(e){"0000"==ackStatus?(0!=i.size(billerServiceListDTO)&&i.each(billerServiceListDTO,function(e){"093"==e.strBillerServiceCode&&(m.set("notifyBillerCode",e.strBillerServiceCode),m.set("moiserviceType",e.strBillerServiceDesc))}),s(e)):h(e)},error:h})}else m.set("queueModeModule","moiPayments"),this.$("#mobcontent").html(i.template(a)).i18n()},notifyTrafficLoadSubBiller:function(){"en-US"==e.i18n.lng()?language="EN":"en-AR"==e.i18n.lng()&&(language="AR");var r=this;showSpinner();var o=m.get("notifyBillerCode");m.set("notifyBillerSubCode",""),m.set("moiappType","");var a=function(e){r.notifyTrafficSubmit()},n=function(e){r.errorresponse()};r.collection=new h([],{}),r.collection.fetch({data:e.param({moiserviceid:o,language:language,requestid:timestamp}),dataType:"json",timeout:parseInt(m.get("calltimeout")),type:"POST",cache:!1,success:function(e){"0000"==ackStatus?(0!=i.size(billerServiceListDTO)&&i.each(billerServiceListDTO,function(e){"040"==e.strBillerServiceCode&&(m.set("notifyBillerSubCode",e.strBillerServiceCode),m.set("moiappType",e.strBillerServiceDesc))}),a(e)):n(e)},error:n})},notifyTrafficSubmit:function(){showSpinner();var i=m.get("notifyBillerSubCode"),r=m.get("notifyBillerCode");m.set("selectedBillerid",r),m.set("selectedsubBillerId",i);var o=(m.get("customernumber"),m.get("moiserviceType")),a=m.get("moiappType"),n="",t="",d="",s="",h="",l="",u="",c="",v="",y="",b="",w=this,I="",D="",E="",g="",_="",f="",T="",q="",j="",z="",N="",C="",B="",S="",V="",R="",b="",x="",A=m.get("iqama_number"),O="",L="",P="",k="",M="",U="",H="",Y="",F=new Array;F[0]=D,F[1]=_,F[2]=z,F[3]=T,F[4]=O,F[5]=n,F[6]=v,F[7]=I,F[8]=L,F[9]=t,F[10]=d,F[11]=P,F[12]=k,F[13]=B,F[14]=E,F[15]=s,F[16]=q,F[17]=l,F[18]=u,F[19]=c,F[20]=M,F[21]=U,F[22]=A,F[23]=Y,F[24]=o,F[25]=a,F[26]=N,F[27]=c,F[28]=h,F[29]=y,F[30]=b,F[31]=H,""!=c&&"null"!=c&&(F[6]=""),m.set("dispmoiIdpayment",F);var Q=new Array;Q[0]=r,Q[1]=i,Q[2]=A,Q[3]=I,Q[4]=D,Q[5]=E,Q[6]=g,Q[7]=_,Q[8]=f,Q[9]=v,Q[10]=T,Q[11]=q,Q[12]=j,Q[13]=z,Q[14]=N,Q[15]=C,Q[16]=B,Q[17]=S,Q[18]=V,Q[19]=x,Q[20]=R,Q[21]=y,Q[22]=b,F[23]=H,m.set("moiPayment_Details",Q),m.set("moiId",A);var $=function(e){w.moipaymentsconfirm()},G=function(e){w.errorresponse()};w.collection=new p([],{});(new Date).getTime();"en-US"==e.i18n.lng()?language="EN":"en-AR"==e.i18n.lng()&&(language="AR"),w.collection.fetch({data:e.param({paymentmethod:"ACTDEB",billerid:r,servicecode:i,language:language,requestid:timestamp,iqamano:A,shbaccountnumber:" ",shbaccounttype:"1",beneficiaryname:"MOIFEEINQUIRY",citizid:I,txtviolationid:D,txtvcustomcardno:E,hidbodytype:g,sponsorid:_,hidjobcat:f,hidduration:v,depcnt:T,visacnt:q,hidvisatype:j,visanum:z,hidhirjiformat:N,hidlicensetype:x,vehicleno:C,txtownid:B,hidregtype:S,hidpasstype:V,beneficiaryidtype:"",customertype:"NAT"}),dataType:"json",type:"POST",cache:!1,success:function(i){if("0000"==ackStatus)$(i);else{var r=m.get("errordesc");e("#showError").text(r),e("#secError").show(),hideSpinner()}},error:G})},disableDIV:function(){e("#appType").hide(),e("#submitbuttons").hide(),e("#traffic :text").each(function(){e(this).val("")}),e("#traffic").hide(),e("#civilViolationID").hide(),e("#jobCategory").empty(),e("#iqamaTime").empty(),e("#visaDuration").empty(),e("#issueReason").empty(),e("#moiRefund :text").each(function(){e(this).val("")}),e("#moiRefund").hide(),e("#bodyType").empty(),e("#newregType").empty(),e("#motorvehicle :text").each(function(){e(this).val("")}),e("#motorvehicle").hide(),e("#civil :text").each(function(){e(this).val("")}),e("#civil").hide(),e("#deportioncontrol :text").each(function(){e(this).val("")}),e("#deportioncontrol").hide(),e("#deportionsentences :text").each(function(){e(this).val("")}),e("#deportionsentences").hide(),e("#passportType").empty(),e("#saudipassport :text").each(function(){e(this).val("")}),e("#saudipassport").hide(),e("#passportDuration").empty(),e("#saudipassportDuration :text").each(function(){e(this).val("")}),e("#saudipassportDuration").hide(),e("#issueReason").empty(),e("#saudiissueReason :text").each(function(){e(this).val("")}),e("#saudiissueReason").hide(),e("#issueReason").hide(),e("#visaDuration").empty(),e("#saudiVisaDuration :text").each(function(){e(this).val("")}),e("#saudiVisaDuration").hide(),e("#visaType").empty(),e("#labor :text").each(function(){e(this).val("")}),e("#labor").hide(),e("#licenseTime").empty(),e("#licenceType").empty(),e("#drivinglicence :text").each(function(){e(this).val("")}),e("#drivinglicence").hide(),e("#submitbuttons").hide(),e(".traffic,.moiRefund").hide(),e("#civilViolationID").hide(),e("#civil").hide(),e("#appType").hide(),e("#deportioncontrol").hide(),e("#iqamanumber").hide(),e("#cardnumber").hide(),e("#iqamaID").hide(),e("#newIqamaID").hide(),e("#alienID").hide(),e("#associateID").hide(),e("#service058").hide(),e("#service059").hide(),e("#birthDateId").hide(),e("#endDateId").hide(),e("#BeneType").hide(),e("#sponsorID").hide(),e("#deportionsentences").hide(),e("#drivinglicence").hide(),e("#labor").hide(),e("#dates").hide(),e("#motorvehicle").hide(),e("#nationalid").hide(),e("#saudipassport").hide(),e("#saudipassportDuration").hide(),e("#saudiissueReason").hide(),e("#saudiVisaDuration").hide(),e("#licence").hide(),e("#Error_visanumber").hide(),e("#Error_visaDuration").hide(),e("#Error_sponsorID").hide(),e("#Error_BorderNumber").hide(),e("#Error_dependentcount").hide(),e("#Error_household").hide(),e("#Error_jobCategory").hide(),e("#Error_iqamaTime").hide(),e("#Error_visaDuration").hide(),e("#Error_issueReason").hide(),e("#Error_citizenid").hide(),e("#Error_bodyType").hide(),e("#Error_newregType").hide(),e("#Error_sequenceno").hide(),e("#Error_newownerid").hide(),e("#Error_currentownerid").hide(),e("#Error_customcardno").hide(),e("#Error_hijridate").hide(),e("#Error_hijrimonth").hide(),e("#Error_deporteeid").hide(),e("#Error_passportType").hide(),e("#Error_passportDuration").hide(),e("#Error_visano").hide(),e("#Error_visaType").hide(),e("#Error_issueReason").hide(),e("#Error_licenceType").hide(),e("#Error_licenseTime").hide(),e("#Error_licenceId").hide(),e("#Error_iqamaIDlength").hide(),e("#Error_newiqamaIDlength").hide(),e("#Error_alienIDlength").hide(),e("#Error_associateIDlength").hide()},SelectService:function(){e("#secError").hide(),e("#showError").text(""),this.disableDIV();var r=e("#serviceType option:selected").val();e("#chk").val(r.split("~")[0]),e("#billerid").val(r.split("~")[1]);var o=(e(r.split("~"))[1],e("#billerid").val());if(""==o||"undefined"==o)return e("#appType").hide(),!1;var a=this;m.set("service",o),e("#apptype").val(o),"en-US"==e.i18n.lng()?language="EN":"en-AR"==e.i18n.lng()&&(language="AR"),showSpinner();var n=function(e){a.errorresponse()};a.collection=new h([],{}),a.collection.fetch({data:e.param({moiserviceid:o,language:language,requestid:timestamp}),dataType:"json",timeout:parseInt(m.get("calltimeout")),type:"POST",cache:!1,success:function(r){if("0000"==ackStatus){if(e("#apptype").empty(),0!=i.size(billerServiceListDTO)){var o=0;e("#apptype").append('<option id="aptime'+o+'"value="">'+e.i18n.t("app.moi.moipayments.selectservicetype")+"</option>"),i.each(billerServiceListDTO,function(i){e("#apptype").append('<option id="aptime'+o+'"value="'+i.strBillerServiceDesc+"~"+i.strBillerServiceCode+'">'+i.strBillerServiceDesc+"</option>"),o++})}e("#appType").show(),hideSpinner()}else n(r)},error:n})},SelectBillerType:function(){var r=e.i18n.lng();m.set("passportDurationValue",""),m.set("visaDurationValue",""),m.set("cardflagno",""),e("#cardNumber").val(""),m.set("issuereasonvalue",""),e("#birthdte").val(""),e("#birthmnt").val(""),e("#birthyer").val(""),e("#enddte").val(""),e("#endmnt").val(""),e("#endyer").val(""),e("#licenceId").val(""),e("#citizenId").val(""),e("#houseHold").val(""),e("#sponsorId").val(""),e("#nationalId").val(""),e("#iqamaNumber").val(""),e("#iqamaid").val(""),e("#newiqamaid").val(""),e("#alienId").val(""),e("#associateId").val(""),e("#currentownerId").val(""),e("#violIDCivil").val(""),e("#secError").hide(),e("#showError").text(""),e("#submitbuttons").hide(),e(".traffic,.moiRefund").hide(),e("#civilViolationID").hide(),e("#civil").hide(),e("#deportioncontrol").hide(),e("#iqamanumber").hide(),e("#cardnumber").hide(),e("#iqamaID").hide(),e("#newIqamaID").hide(),e("#alienID").hide(),e("#associateID").hide(),e("#service058").hide(),e("#service059").hide(),e("#birthDateId").hide(),e("#endDateId").hide(),e("#BeneType").hide(),e("#sponsorID").hide(),e("#deportionsentences").hide(),e("#drivinglicence").hide(),e("#labor").hide(),e("#dates").hide(),e("#motorvehicle").hide(),e("#nationalid").hide(),e("#saudipassport").hide(),e("#saudipassportDuration").hide(),e("#saudiissueReason").hide(),e("#saudiVisaDuration").hide(),e("#licence").hide(),e("#Error_visanumber").hide(),e("#Error_visaDuration").hide(),e("#Error_sponsorID").hide(),e("#Error_BorderNumber").hide(),e("#Error_dependentcount").hide(),e("#Error_household").hide(),e("#Error_jobCategory").hide(),e("#Error_iqamaTime").hide(),e("#Error_visaDuration").hide(),e("#Error_issueReason").hide(),e("#Error_citizenid").hide(),e("#Error_bodyType").hide(),e("#Error_newregType").hide(),e("#Error_sequenceno").hide(),e("#Error_newownerid").hide(),e("#Error_currentownerid").hide(),e("#Error_customcardno").hide(),e("#Error_hijridate").hide(),e("#Error_hijrimonth").hide(),e("#Error_deporteeid").hide(),e("#Error_passportType").hide(),e("#Error_passportDuration").hide(),e("#Error_visano").hide(),e("#Error_visaType").hide(),e("#Error_licenceType").hide(),e("#Error_licenseTime").hide(),e("#Error_licenceId").hide(),e("#Error_iqamaID").hide(),e("#Error_newiqamaID").hide(),e("#Error_alienID").hide(),e("#Error_associateID").hide(),e("#Error_nationalId").hide(),e("#Error_cardNumber").hide(),e("#Error_issueReason").hide(),e("#Error_iqamaNumber").hide(),e("#Error_cardNumber").hide(),e("#Error_sponsorId").hide(),e("#Error_BorderNumber").hide(),e("#Error_Traffic").hide(),e("#Error_Civil").hide(),e("#Error_iqamaIDlength").hide(),e("#Error_newiqamaIDlength").hide(),e("#Error_alienIDlength").hide(),e("#Error_associateIDlength").hide(),e("#Error_iqamaIDzeroval").hide(),e("#Error_newiqamaIDzeroval").hide(),e("#Error_alienIDzeroval").hide(),e("#Error_associateIDzeroval").hide(),e("#Error_householdzeroval").hide(),e("#Error_BorderNumberzero").hide(),e("#Error_sponsorIdzeroval").hide(),e("#Error_visanozero").hide(),e("#Error_citizenidzeroval").hide(),e("#Error_visanozero").hide(),e("#Error_visanumberzeroval").hide(),e("#Error_iqamaNumberzero").hide(),e("#Error_cardNumberzero").hide(),e("#Error_licenceIdzero").hide(),e("#Error_sequencenozero").hide(),e("#Error_currentowneridzero").hide(),e("#Error_newowneridzero").hide(),e("#Error_customcardnozero").hide(),e("#Error_nationalIdzero").hide(),e("#Error_nationalIdlength").hide(),e("#Error_cardNumberzero").hide(),e("#Error_cardNumberlength").hide(),e("#Error_Trafficzero").hide(),e("#Error_Trafficlength").hide(),e("#Error_Civilzero").hide(),e("#Error_Civillength").hide(),e("#Error_hijridatenull").hide(),e("#Error_hijrimonthnull").hide(),e("#Error_hijridatevalid").hide(),e("#Error_hijrimonthvalid").hide(),e("#Error_hijriyearnull").hide(),e("#Error_hijriyearvalid").hide(),e("#Error_birthhijridatenull").hide(),e("#Error_birthhijrimonthnull").hide(),e("#Error_birthhijridatevalid").hide(),e("#Error_birthhijrimonthvalid").hide(),e("#Error_birthhijriyearnull").hide(),e("#Error_birthhijriyearvalid").hide(),e("#Error_birthhijriCurrvalid").hide(),e("#Error_endhijridatenull").hide(),e("#Error_endhijrimonthnull").hide(),e("#Error_endhijridatevalid").hide(),e("#Error_endhijrimonthvalid").hide(),e("#Error_endhijriyearnull").hide(),e("#Error_endhijriyearvalid").hide(),e("#Error_endhijri10yrvalid").hide(),e("#Error_endhijriCurrvalid").hide();var o=this,a=(e("#chk").val(),e("#apptype option:selected").val().split("~")[1]);("014"==a||"058"==a||"059"==a||"012"==a||"015"==a||"013"==a||"005"==a||"004"==a||"001"==a||"016"==a||"002"==a||"003"==a||"008"==a||"009"==a||"011"==a||"010"==a||"007"==a||"006"==a||"052"==a||"057"==a||"GOVT"==a||"TRAN"==a||"055"==a||"056"==a)&&(e(".moiRefund").show(),"014"==a&&(e("#iqamanumber").hide(),e("#cardnumber").hide(),e("#visanumber").hide(),e("#household").hide(),e("#sponsorID").hide(),e("#jobcategory").hide(),e("#iqamatime").hide(),e("#saudiVisaDuration").hide(),e("#saudiissueReason").hide(),e("#bordernumber").hide(),e("#citizenid").hide(),e("#iqamaID").hide(),e("#alienID").hide(),e("#associateID").hide(),e("#service058").hide(),e("#service059").hide(),e("#newIqamaID").show(),e("#birthDateId").show(),e("#endDateId").hide(),e("#dependentcount").hide()),"058"==a&&(e("#iqamanumber").hide(),e("#cardnumber").hide(),e("#visanumber").hide(),e("#household").hide(),e("#sponsorID").hide(),e("#jobcategory").hide(),e("#iqamatime").hide(),e("#saudiVisaDuration").hide(),e("#saudiissueReason").hide(),e("#bordernumber").hide(),e("#citizenid").hide(),e("#iqamaID").hide(),e("#newIqamaID").hide(),e("#birthDateId").hide(),e("#dependentcount").hide(),e("#alienID").show(),e("#associateID").show(),e("#service058").show(),e("#service059").hide(),e("#endDateId").show()),"059"==a&&(e("#iqamanumber").hide(),e("#cardnumber").hide(),e("#visanumber").hide(),e("#household").hide(),e("#sponsorID").hide(),e("#jobcategory").hide(),e("#iqamatime").hide(),e("#saudiVisaDuration").hide(),e("#saudiissueReason").hide(),e("#bordernumber").hide(),e("#citizenid").hide(),e("#iqamaID").hide(),e("#newIqamaID").hide(),e("#birthDateId").hide(),e("#dependentcount").hide(),e("#alienID").show(),e("#associateID").hide(),e("#service058").hide(),e("#service059").show(),e("#endDateId").show()),"013"==a&&(e("#visanumber").hide(),e("#household").hide(),e("#sponsorID").hide(),e("#jobcategory").hide(),e("#iqamatime").hide(),e("#saudiVisaDuration").hide(),e("#saudiissueReason").hide(),e("#bordernumber").hide(),e("#citizenid").hide(),e("#iqamaID").hide(),e("#newIqamaID").hide(),e("#alienID").hide(),e("#associateID").hide(),e("#service058").hide(),e("#service059").hide(),e("#birthDateId").hide(),e("#endDateId").hide(),e("#nationalid").hide(),e("#household").show(),e("#dependentcount").show(),e("#BeneType").show()),"005"==a&&(e("#iqamanumber").hide(),e("#cardnumber").hide(),e("#visanumber").hide(),e("#household").hide(),e("#sponsorID").hide(),e("#jobcategory").hide(),e("#iqamatime").hide(),e("#dependentcount").hide(),e("#bordernumber").hide(),e("#citizenid").hide(),e("#saudiissueReason").hide(),e("#newIqamaID").hide(),e("#alienID").hide(),e("#associateID").hide(),e("#service058").hide(),e("#service059").hide(),e("#birthDateId").hide(),e("#endDateId").hide(),e("#iqamaID").show(),e("#BeneType").show(),e("#saudiVisaDuration").show()),("008"==a||"012"==a||"015"==a||"052"==a)&&(e("#iqamanumber").hide(),e("#cardnumber").hide(),e("#visanumber").hide(),e("#household").hide(),e("#sponsorID").hide(),e("#jobcategory").hide(),e("#iqamatime").hide(),e("#saudiVisaDuration").hide(),e("#saudiissueReason").hide(),e("#dependentcount").hide(),e("#bordernumber").hide(),e("#citizenid").hide(),e("#newIqamaID").hide(),e("#alienID").hide(),e("#associateID").hide(),e("#service058").hide(),e("#service059").hide(),e("#birthDateId").hide(),e("#endDateId").hide(),e("#iqamaID").show(),e("#BeneType").show()),"001"==a&&(e("#iqamaID").hide(),e("#newIqamaID").hide(),e("#alienID").hide(),e("#service058").hide(),e("#service059").hide(),e("#associateID").hide(),e("#birthDateId").hide(),e("#endDateId").hide(),e("#iqamanumber").hide(),e("#cardnumber").hide(),e("#visanumber").hide(),e("#household").hide(),e("#sponsorID").hide(),e("#jobcategory").hide(),e("#iqamatime").hide(),e("#saudiVisaDuration").hide(),e("#saudiissueReason").hide(),e("#dependentcount").hide(),e("#citizenid").hide(),e("#bordernumber").show(),e("#BeneType").show()),"016"==a&&(e("#iqamaID").hide(),e("#newIqamaID").hide(),e("#alienID").hide(),e("#associateID").hide(),e("#service058").hide(),e("#service059").hide(),e("#birthDateId").hide(),e("#endDateId").hide(),e("#iqamanumber").hide(),e("#cardnumber").hide(),e("#visanumber").hide(),e("#household").hide(),e("#sponsorID").hide(),e("#jobcategory").hide(),e("#dependentcount").hide(),e("#iqamatime").show(),e("#saudiVisaDuration").hide(),e("#saudiissueReason").hide(),e("#citizenid").show(),e("#bordernumber").show(),e("#BeneType").show()),"004"==a&&(e("#iqamanumber").hide(),e("#cardnumber").hide(),e("#visanumber").hide(),e("#household").hide(),e("#sponsorID").hide(),e("#jobcategory").hide(),e("#iqamatime").hide(),e("#dependentcount").hide(),e("#bordernumber").hide(),e("#citizenid").hide(),e("#saudiissueReason").hide(),e("#newIqamaID").hide(),e("#alienID").hide(),e("#associateID").hide(),e("#service058").hide(),e("#service059").hide(),e("#birthDateId").hide(),e("#endDateId").hide(),e("#iqamaID").show(),e("#BeneType").show(),e("#saudiVisaDuration").show()),("002"==a||"009"==a)&&(e("#iqamaID").hide(),e("#newIqamaID").hide(),e("#alienID").hide(),e("#associateID").hide(),e("#service058").hide(),e("#service059").hide(),e("#birthDateId").hide(),e("#endDateId").hide(),e("#iqamanumber").hide(),e("#cardnumber").hide(),e("#visanumber").hide(),e("#household").hide(),e("#citizenid").hide(),e("#dependentcount").hide(),e("#sponsorID").show(),e("#jobcategory").show(),e("#iqamatime").show(),e("#saudiVisaDuration").hide(),e("#saudiissueReason").hide(),"002"==a?e("#bordernumber").show():e("#iqamaID").show(),e("#BeneType").show()),"003"==a&&(e("#iqamanumber").hide(),e("#cardnumber").hide(),e("#visanumber").hide(),e("#household").hide(),e("#sponsorID").hide(),e("#jobcategory").hide(),e("#iqamatime").hide(),e("#saudiVisaDuration").hide(),e("#saudiissueReason").hide(),e("#dependentcount").hide(),e("#bordernumber").hide(),e("#citizenid").hide(),e("#newIqamaID").hide(),e("#alienID").hide(),e("#associateID").hide(),e("#service058").hide(),e("#service059").hide(),e("#birthDateId").hide(),e("#endDateId").hide(),e("#iqamatime").show(),e("#visaduration").hide(),e("#iqamaID").show(),e("#BeneType").show()),("011"==a||"010"==a||"007"==a)&&(e("#iqamanumber").hide(),e("#cardnumber").hide(),e("#visanumber").hide(),e("#household").hide(),e("#sponsorID").hide(),e("#jobcategory").hide(),e("#iqamatime").hide(),e("#saudiVisaDuration").hide(),e("#saudiissueReason").hide(),e("#dependentcount").hide(),e("#bordernumber").hide(),e("#citizenid").hide(),e("#newIqamaID").hide(),e("#alienID").hide(),e("#associateID").hide(),e("#service058").hide(),e("#service059").hide(),e("#birthDateId").hide(),e("#endDateId").hide(),e("#iqamaID").show(),e("#BeneType").show()),"006"==a&&(e("#iqamanumber").hide(),e("#cardnumber").hide(),e("#household").hide(),e("#sponsorID").hide(),e("#jobcategory").hide(),e("#iqamatime").hide(),e("#saudiVisaDuration").hide(),e("#saudiissueReason").hide(),e("#dependentcount").hide(),e("#bordernumber").hide(),e("#citizenid").hide(),e("#newIqamaID").hide(),e("#alienID").hide(),e("#associateID").hide(),e("#service058").hide(),e("#service059").hide(),e("#birthDateId").hide(),e("#endDateId").hide(),e("#visanumber").show(),e("#iqamaID").show(),e("#BeneType").show()),("GOVT"==a||"TRAN"==a)&&(e("#iqamanumber").hide(),e("#cardnumber").hide(),e("#household").hide(),e("#sponsorID").hide(),e("#jobcategory").hide(),e("#iqamatime").hide(),e("#saudiVisaDuration").hide(),e("#saudiissueReason").hide(),e("#dependentcount").hide(),e("#bordernumber").hide(),e("#citizenid").hide(),e("#newIqamaID").hide(),e("#alienID").hide(),e("#associateID").hide(),e("#service058").hide(),e("#service059").hide(),e("#birthDateId").hide(),e("#endDateId").hide(),e("#visanumber").hide(),e("#iqamaID").show(),e("#BeneType").hide()),("055"==a||"056"==a)&&(e("#iqamanumber").hide(),e("#cardnumber").hide(),e("#household").hide(),e("#sponsorID").hide(),e("#jobcategory").hide(),e("#iqamatime").hide(),e("#saudiVisaDuration").hide(),e("#saudiissueReason").hide(),e("#dependentcount").hide(),e("#bordernumber").hide(),e("#citizenid").hide(),e("#visanumber").hide(),e("#iqamaID").hide(),e("#newIqamaID").hide(),e("#alienID").hide(),e("#associateID").hide(),e("#service058").hide(),e("#service059").hide(),e("#birthDateId").hide(),e("#endDateId").hide(),e("#BeneType").hide(),e("#civilViolationID").show()),"057"==a&&(e("#iqamanumber").hide(),e("#cardnumber").hide(),e("#household").hide(),e("#sponsorID").hide(),e("#jobcategory").hide(),e("#iqamatime").hide(),e("#saudiVisaDuration").hide(),e("#dependentcount").hide(),e("#bordernumber").hide(),e("#citizenid").hide(),e("#newIqamaID").hide(),e("#alienID").hide(),e("#associateID").hide(),e("#service058").hide(),e("#service059").hide(),e("#birthDateId").hide(),e("#endDateId").hide(),e("#visanumber").show(),e("#iqamaID").show(),e("#BeneType").show(),e("#saudiVisaDuration").show()),e("#hidBillerType").val("001"),e("#submitbuttons").show()),("017"==a||"018"==a||"019"==a||"020"==a)&&(e("#nationalid").show(),e("#civil").show(),e("#dates").show(),e("#dte").val(""),e("#mnt").val(""),e("#yer").val(""),e("#nationalId").val(""),"017"==a&&e("#hijrilabel").text(e.i18n.t("app.moi.moipayments.dob")),"018"==a&&e("#hijrilabel").text(e.i18n.t("app.moi.moipayments.dod")),"020"==a&&e("#hijrilabel").text(e.i18n.t("app.moi.moipayments.dodv")),"019"==a&&e("#hijrilabel").text(e.i18n.t("app.moi.moipayments.dom")),e("#hidBillerType").val("002"),e("#civil").show(),e("#submitbuttons").show()),"021"==a&&(e("#nationalid").show(),e("#civil").hide(),e("#dates").hide(),e("#saudiissueReason").show(),e("#nationalId").val(""),e("#cardversionnumber").val(""),e("#hidBillerType").val("002"),e("#civil").hide(),e("#submitbuttons").show()),"053"==a&&(e("#nationalid").show(),e("#civil").hide(),e("#dates").hide(),e("#saudiissueReason").show(),e("#nationalId").val(""),e("#cardversionnumber").val(""),e("#hidBillerType").val("002"),e("#civil").hide(),e("#submitbuttons").show()),"054"==a&&(e("#nationalid").show(),e("#civil").hide(),e("#dates").hide(),e("#nationalId").val(""),e("#hidBillerType").val("002"),e("#civil").hide(),e("#submitbuttons").show()),("046"==a||"047"==a||"050"==a)&&(e("#deporteeId").val(""),e("#iqamanumber").val(""),e("#cardnumber").val(""),e("#iqamanumber").show(),e("#deporteeid").hide(),e("#hidBillerType").val("003"),e("#deportionsentences").show(),e("#submitbuttons").show()),("022"==a||"023"==a||"024"==a||"025"==a)&&(e("#hidBillerType").val("004"),e("#drivinglicence").show(),e("#submitbuttons").show()),("038"==a||"039"==a)&&(e("#hidBillerType").val("005"),e("#hidBillerType").val("004"),e("#labor").show(),e("#sponsorID").show(),"039"==a?e("#visatype").show():e("#visatype").hide(),e("#submitbuttons").show()),("032"==a||"031"==a||"030"==a||"029"==a||"028"==a||"043"==a||"042"==a||"026"==a||"027"==a||"044"==a||"045"==a||"049"==a)&&(("032"==a||"027"==a||"049"==a)&&(e("#bodytype").hide(),e("#newregtype").hide(),e("#customcardno").hide(),e("#sequenceno").show(),e("#newownerid").show(),e("#currentownerid").show(),e("#iqamaID").hide(),e("#newIqamaID").hide(),e("#alienID").hide(),e("#associateID").hide(),e("#service058").hide(),e("#service059").hide(),e("#birthDateId").hide(),e("#endDateId").hide()),("031"==a||"030"==a||"029"==a||"028"==a||"026"==a)&&(e("#bodytype").hide(),e("#newregtype").hide(),e("#customcardno").hide(),e("#sequenceno").show(),e("#newownerid").hide(),e("#currentownerid").show(),e("#iqamaID").hide(),e("#newIqamaID").hide(),e("#alienID").hide(),e("#associateID").hide(),e("#service058").hide(),e("#service059").hide(),e("#birthDateId").hide(),e("#endDateId").hide()),("043"==a||"042"==a)&&(e("#bodytype").show(),e("#newregtype").show(),e("#customcardno").show(),e("#sequenceno").hide(),e("#newownerid").hide(),e("#currentownerid").hide(),e("#newIqamaID").hide(),e("#alienID").hide(),e("#associateID").hide(),e("#service058").hide(),e("#service059").hide(),e("#birthDateId").hide(),e("#endDateId").hide(),e("#iqamaID").show()),("044"==a||"045"==a)&&(e("#bodytype").show(),e("#newregtype").show(),e("#customcardno").hide(),e("#sequenceno").show(),e("#newownerid").hide(),e("#currentownerid").hide(),e("#newIqamaID").hide(),e("#alienID").hide(),e("#associateID").hide(),e("#service058").hide(),e("#service059").hide(),e("#birthDateId").hide(),e("#endDateId").hide(),e("#iqamaID").show()),e("#hidBillerType").val("006"),e("#motorvehicle").show(),e("#submitbuttons").show()),"036"==a&&(e("#hidBillerType").val("007"),e("#saudipassport").show(),e("#nationalid").show(),e("#submitbuttons").show()),("035"==a||"037"==a)&&(e("#hidBillerType").val("007"),e("#saudipassport").show(),e("#saudipassportDuration").show(),e("#nationalid").show(),e("#submitbuttons").show()),("041"==a||"040"==a)&&("041"==a&&(e(".traffic").show(),e("#BeneType").show(),e("#iqamaID").show()),"040"==a&&(e(".traffic").hide(),e("#iqamaID").show()),e("#hidBillerType").val("008"),e("#submitbuttons").show()),"048"==a&&(e("#iqamaID").show(),e("#hidBillerType").val("127"),e("#submitbuttons").show()),showSpinner(),"en-US"==e.i18n.lng()?language="EN":"en-AR"==e.i18n.lng()&&(language="AR");var n=m.get("notifyBillerCode");m.set("notifyBillerSubCode",""),m.set("moiappType","");var t=function(e){o.errorresponse()};"0210"==a?o.collection=new h([],{}):o.collection=new l([],{}),o.collection.fetch({data:e.param({moiserviceid:n,language:language,requestid:timestamp}),dataType:"json",type:"POST",cache:!1,success:function(o){if("0000"==ackStatus){if(e("#iqamaTime").empty(),e("#visaDuration").empty(),e("#jobCategory").empty(),e("#bodyType").empty(),e("#newregType").empty(),e("#passportType").empty(),e("#passportDuration").empty(),e("#visaType").empty(),e("#issueReason").empty(),e("#licenceType").empty(),e("#licenseTime").empty(),0!=i.size(BeneficiaryType)){var n=0;e("#benetype").append('<option id="BeneficiaryTypeVal'+n+'"value="">'+e.i18n.t("app.moi.moipayments.selectbenetype")+"</option>"),i.each(BeneficiaryType,function(i){e("#benetype").append('<option id="BeneficiaryTypeVal'+n+'"value="'+i.paramCode+'">'+i.paramDesc+"</option>"),n++}),e("#benetype").show()}if(0!=i.size(JobCategory)){var n=0;e("#jobCategory").append('<option id="jobCategoryVal'+n+'"value="">'+e.i18n.t("app.moi.moipayments.selectcategory")+"</option>"),i.each(JobCategory,function(i){e("#jobCategory").append('<option id="jobCategoryVal'+n+'"value="'+i.paramCode+'">'+i.paramDesc+"</option>"),n++}),e("#jobCategory").show()}if(0!=i.size(IqamaTimeDuration)){var n=0;e("#iqamaTime").append('<option id="iqamaTimeVal'+n+'"value="">'+e.i18n.t("app.moi.moipayments.selectiqamaduration")+"</option>"),i.each(IqamaTimeDuration,function(i){e("#iqamaTime").append('<option id="iqamaTimeVal'+n+'"value="'+i.paramCode+'">'+i.paramDesc+"</option>"),n++}),e("#iqamaTime").show()}if(0!=i.size(moiVisaDurListDTO)){var n=0;e("#visaDuration").append('<option id="visaDurationVal'+n+'"value="">'+e.i18n.t("app.moi.moipayments.selectvisaduration")+"</option>"),i.each(moiVisaDurListDTO,function(i){var o="";o="en-US"==r?i.visaDurEng:i.visaDurArb,e("#visaDuration").append('<option id="visaDurationVal'+n+'"value="'+i.visaDurCode+'">'+o+"</option>"),n++}),e("#visaDuration").show()}if(0!=i.size(VehicleBodyType)){var n=0;e("#bodyType").append('<option id="bodyTypeVal'+n+'"value="">'+e.i18n.t("app.moi.moipayments.selectbodytype")+"</option>"),m.set("vehicleBodyType",VehicleBodyType)}if(0!=i.size(MotorVehicleRegistrationType)){var n=0;e("#newregType").append('<option id="newregVal'+n+'"value="">'+e.i18n.t("app.moi.moipayments.selectregtype")+"</option>"),i.each(MotorVehicleRegistrationType,function(i){e("#newregType").append('<option id="newregVal'+n+'"value="'+i.paramCode+'">'+i.paramDesc+"</option>"),n++}),e("#newregType").show()}if(0!=i.size(SaudiPassportType)){var n=0;e("#passportType").append('<option id="selectpassporttypeVal'+n+'"value="">'+e.i18n.t("app.moi.moipayments.selectpassporttype")+"</option>"),i.each(SaudiPassportType,function(i){"037"==a?"04"!=i.paramCode&&(e("#passportType").append('<option id="selectpassporttypeVal'+n+'"value="'+i.paramCode+'">'+i.paramDesc+"</option>"),n++):(e("#passportType").append('<option id="selectpassporttypeVal'+n+'"value="'+i.paramCode+'">'+i.paramDesc+"</option>"),n++)}),e("#passportType").show()}if(0!=i.size(moiPassDurListDTO)){var n=0;e("#passportDuration").append('<option id="selectpassportdurationtypeVal'+n+'"value="">'+e.i18n.t("app.moi.moipayments.selectpassportduration")+"</option>"),i.each(moiPassDurListDTO,function(i){var o="";o="en-US"==r?i.passDurEng:i.passDurArb,e("#passportDuration").append('<option id="selectpassportdurationtypeVal'+n+'"value="'+i.passDurCode+'">'+o+"</option>"),n++}),e("#passportDuration").show()}if(0!=i.size(moiIssuReasonListDTO)){var n=0;e("#issueReason").append('<option id="selectissueReasonVal'+n+'"value="">'+e.i18n.t("app.moi.moipayments.selectissuereason")+"</option>"),i.each(moiIssuReasonListDTO,function(i){var o=(i.cardVerNo,"");o="en-US"==r?i.issuReasEng:i.issuReasArb,e("#issueReason").append('<option id="selectissueReasonVal'+n+'"value="'+i.issuReasCode+'">'+o+"</option>"),
n++}),e("#issueReason").show()}if(0!=i.size(LaborImportationVisaType)){var n=0;e("#visaType").append('<option id="visaTypeVal'+n+'"value="">'+e.i18n.t("app.moi.moipayments.selectvisatype")+"</option>"),i.each(LaborImportationVisaType,function(i){e("#visaType").append('<option id="visaTypeVal'+n+'"value="'+i.paramCode+'">'+i.paramDesc+"</option>"),n++}),e("#visaType").show()}if(0!=i.size(DrivingLicenseType)){var n=0;e("#licenceType").append('<option id="licenceTypeVal'+n+'"value="">'+e.i18n.t("app.moi.moipayments.selectlicense")+"</option>"),i.each(DrivingLicenseType,function(i){e("#licenceType").append('<option id="licenceTypeVal'+n+'"value="'+i.paramCode+"~"+i.paramvalue+'">'+i.paramDesc+"</option>"),n++}),e("#licenceType").show(),e("#licence").show()}0!=i.size(DrivingLicenseDuration)&&(e("#licenseTime").append('<option id="licenseTimeVal'+n+'"value="">'+e.i18n.t("app.moi.moipayments.selectlicenseduration")+"</option>"),m.set("LicenseDuration",DrivingLicenseDuration)),hideSpinner()}else t(o)},error:t})},SelectPassportDuration:function(){var i=e("#passportDuration option:selected").val();m.set("passportDurationValue",i),m.set("visaDurationValue",""),m.set("cardflagno","")},SelectvisaDuration:function(){var i=e("#visaDuration option:selected").val();m.set("visaDurationValue",i),m.set("passportDurationValue",""),m.set("cardflagno","")},SelectIssueReason:function(){e("#cardNumber").val(""),m.set("visaDurationValue",""),m.set("passportDurationValue","");var r=e("#issueReason option:selected").val(),o=r;m.set("issuereasonvalue",o);var a=r.split("~"),n=m.get("moiIssuReasonListDTO"),t=0;i.each(n,function(i){if(a==n[t].issuReasCode){var r=n[t].cardVerNo;if("Y"==r){e("#cardnumber").show();var o="Y";m.set("cardflagno",o)}else{e("#cardnumber").hide();var o=" ";m.set("cardflagno","")}}t++});var d=(a[0],a[1],a[2],m.get("moiIssuReasonListDTO")),s=[];e.each(d,function(e){d[e];s.push(d[e]);d[e].cardVerNo});var h=s;e.each(h,function(e){var i=(h[e],[]);return i=h[e].cardVerNo,"Y"==i?!1:!1}),e("#issreasonidcardnum").val(r.split("~")[1]);var l=(e(r.split("~"))[1],e("#issreasonidcardnum").val());return"Y"==l?(e("#cardversionid").show(),!1):void e("#cardversionid").hide()},checkIfExists:function(e,i){for(var r=0,o=0;o<i.length;o++){var a=i[o];if(parseInt(a)==parseInt(e))return r=1;if(o==i.length-1)return r}},bodyTypeFilter:function(){var r=this,o=function(e){r.errorresponse()},a=e("#newregType option:selected").val();r.collection=new u([],{});var n=m.get("vehicleBodyType");showSpinner(),r.collection.fetch({data:e.param({paramCode:a}),dataType:"json",type:"POST",cache:!1,success:function(r){if("0000"==ackStatus){0!=i.size(vehicleRegTypesMappedBodies)&&m.set("vehicleBodyTypeMapping",vehicleRegTypesMappedBodies);m.get("vehicleBodyTypeMapping");if(e("#bodyType").empty(),e("#bodyType").append('<option id="bodyTypeVal"value="">'+e.i18n.t("app.moi.moipayments.selectbodytype")+"</option>"),a&&n.length){var t=0;i.each(vehicleRegTypesMappedBodies,function(i){e("#bodyType").append('<option id="bodyTypeVal'+t+'"value="'+i.paramCode+'">'+i.paramDesc+"</option>"),t++})}hideSpinner()}else o(r)},error:o})},LicenseDuration:function(){var r=m.get("LicenseDuration"),o=e("#licenceType option:selected").val(),a=o.split("~")[1];if(e("#licenseTime").empty(),e("#licenseTime").append('<option id="licenseTimeVal"value="">'+e.i18n.t("app.moi.moipayments.selectlicenseduration")+"</option>"),-1!=a.indexOf("/")){var n=a.split("/"),t=0;i.each(r,function(i){i.paramCode==n[t]&&(e("#licenseTime").append('<option id="licenseTimeVal'+t+'"value="'+i.paramCode+'">'+i.paramDesc+"</option>"),t++)})}else{var t=0;i.each(r,function(i){i.paramCode==a&&(e("#licenseTime").append('<option id="licenseTimeVal'+t+'"value="'+i.paramCode+'">'+i.paramDesc+"</option>"),t++)})}},submitBiller:function(i){var r="false",o=e("#visaNumber").val();m.set("visaNumber",o),e("#secError").hide(),e("#showError").text(""),e("#Error_visanumber").hide(),e("#Error_visaDuration").hide(),e("#Error_sponsorID").hide(),e("#Error_sponsorId").hide(),e("#Error_BorderNumber").hide(),e("#Error_dependentcount").hide(),e("#Error_household").hide(),e("#Error_jobCategory").hide(),e("#Error_iqamaTime").hide(),e("#Error_visaDuration").hide(),e("#Error_citizenid").hide(),e("#Error_iqamaID").hide(),e("#Error_newiqamaID").hide(),e("#Error_alienID").hide(),e("#Error_associateID").hide(),e("#Error_visaDuration").hide(),e("#Error_bodyType").hide(),e("#Error_newregType").hide(),e("#Error_sequenceno").hide(),e("#Error_newownerid").hide(),e("#Error_currentownerid").hide(),e("#Error_customcardno").hide(),e("#Error_sponsorId").hide(),e("#Error_hijridate").hide(),e("#Error_hijrimonth").hide(),e("#Error_deporteeid").hide(),e("#Error_passportType").hide(),e("#Error_passportDuration").hide(),e("#Error_visano").hide(),e("#Error_visaType").hide(),e("#Error_issueReason").hide(),e("#Error_licenceType").hide(),e("#Error_licenseTime").hide(),e("#Error_licenceId").hide(),e("#Error_BorderNumberlength").hide(),e("#Error_visanumberlength").hide(),e("#Error_dependentcountlength").hide(),e("#Error_householdlength").hide(),e("#Error_citizenidlength").hide(),e("#Error_sponsorIDlength").hide(),e("#Error_sequencenolength").hide(),e("#Error_currentowneridlength").hide(),e("#Error_newowneridlength").hide(),e("#Error_customcardnolength").hide(),e("#Error_deporteeidlength").hide(),e("#Error_visanolength").hide(),e("#Error_licenceIdlength").hide(),e("#Error_iqamaNumberlength").hide(),e("#Error_iqamaNumber").hide(),e("#Error_iqamaIDlength").hide(),e("#Error_newiqamaIDlength").hide(),e("#Error_alienIDlength").hide(),e("#Error_associateIDlength").hide(),e("#Error_nationalId").hide(),e("#Error_cardNumber").hide(),e("#Error_issueReason").hide(),e("#Error_nationalIdlength").hide(),e("#Error_cardNumberlength").hide(),e("#Error_sponsorIdlength").hide(),e("#Error_iqamaIDzeroval").hide(),e("#Error_newiqamaIDzeroval").hide(),e("#Error_alienIDzeroval").hide(),e("#Error_associateIDzeroval").hide(),e("#Error_dependentcountzeroval").hide(),e("#Error_householdzeroval").hide(),e("#Error_BorderNumberzero").hide(),e("#Error_sponsorIdzeroval").hide(),e("#Error_visanozero").hide(),e("#Error_citizenidzeroval").hide(),e("#Error_visanozero").hide(),e("#Error_visanumberzeroval").hide(),e("#Error_iqamaNumberzero").hide(),e("#Error_licenceIdzero").hide(),e("#Error_sequencenozero").hide(),e("#Error_currentowneridzero").hide(),e("#Error_newowneridzero").hide(),e("#Error_customcardnozero").hide(),e("#Error_nationalIdzero").hide(),e("#Error_cardNumberzero").hide(),e("#Error_Trafficzero").hide(),e("#Error_Trafficlength").hide(),e("#Error_Traffic").hide(),e("#Error_Civilzero").hide(),e("#Error_Civillength").hide(),e("#Error_Civil").hide(),e("#Error_hijridatenull").hide(),e("#Error_hijrimonthnull").hide(),e("#Error_hijridatevalid").hide(),e("#Error_hijrimonthvalid").hide(),e("#Error_hijriyearnull").hide(),e("#Error_hijriyearvalid").hide(),e("#Error_birthhijridatenull").hide(),e("#Error_birthhijrimonthnull").hide(),e("#Error_birthhijridatevalid").hide(),e("#Error_birthhijrimonthvalid").hide(),e("#Error_birthhijriyearnull").hide(),e("#Error_birthhijriyearvalid").hide(),e("#Error_birthhijriCurrvalid").hide(),e("#Error_endhijridatenull").hide(),e("#Error_endhijrimonthnull").hide(),e("#Error_endhijridatevalid").hide(),e("#Error_endhijrimonthvalid").hide(),e("#Error_endhijriyearnull").hide(),e("#Error_endhijriyearvalid").hide(),e("#Error_endhijri10yrvalid").hide(),e("#Error_endhijriCurrvalid").hide();var a=new Date,n=convertToHijri(a.getDate(),a.getMonth()+1,a.getFullYear()),t=e("#hidBillerType").val();if("001"==t){if(e("#visanumber").is(":visible")&&(""==e("#visaNumber").val()?(r="true",e("#Error_visanumber").show()):0==e("#visaNumber").val()?(r="true",e("#Error_visanumberzeroval").show()):10!=e("#visaNumber").val().length&&(r="true",e("#Error_visanumberlength").show())),e("#bordernumber").is(":visible")&&(""==e("#BorderNumber").val()?(r="true",e("#Error_BorderNumber").show()):0==e("#BorderNumber").val()?(r="true",e("#Error_BorderNumberzero").show()):10!=e("#BorderNumber").val().length&&(r="true",e("#Error_BorderNumberlength").show())),e("#dependentcount").is(":visible")&&(""==e("#dependentCount").val()?(r="true",e("#Error_dependentcount").show()):0==e("#dependentCount").val()&&(r="true",e("#Error_dependentcountzeroval").show())),e("#household").is(":visible")&&(""==e("#houseHold").val()?(r="true",e("#Error_household").show()):0==e("#houseHold").val()?(r="true",e("#Error_householdzeroval").show()):10!=e("#houseHold").val().length&&(r="true",e("#Error_householdlength").show())),e("#jobcategory").is(":visible")&&""==e("#jobCategory").val()&&(r="true",e("#Error_jobCategory").show()),e("#iqamatime").is(":visible")&&""==e("#iqamaTime").val()&&(r="true",e("#Error_iqamaTime").show()),e("#citizenid").is(":visible")&&(""==e("#citizenId").val()?(r="true",e("#Error_citizenid").show()):0==e("#citizenId").val()?(r="true",e("#Error_citizenidzeroval").show()):10!=e("#citizenId").val().length&&(r="true",e("#Error_citizenidlength").show())),e("#visaduration").is(":visible")&&""==e("#visaDuration").val()&&(r="true",e("#Error_visaDuration").show()),e("#birthDateId").is(":visible")){var d=e("#birthdte").val(),s=parseInt(d),h=e("#birthmnt").val(),l=parseInt(h);if(""==e("#birthdte").val())r="true",e("#Error_birthhijridatenull").show();else if(0==e("#birthdte").val())r="true",e("#Error_birthhijridatevalid").show();else if(s>30)r="true",e("#Error_birthhijridatevalid").show();else if(""==e("#birthmnt").val())r="true",e("#Error_birthhijrimonthnull").show();else if(0==e("#birthmnt").val())r="true",e("#Error_birthhijrimonthvalid").show();else if(l>12)r="true",e("#Error_birthhijrimonthvalid").show();else if(""==e("#birthyer").val())r="true",e("#Error_birthhijriyearnull").show();else if(0==e("#birthyer").val())r="true",e("#Error_birthhijriyearvalid").show();else{var u=new Date(e("#birthyer").val(),parseInt(e("#birthmnt").val())-1,e("#birthdte").val()),v=new Date(n),y=dateDiffInDays(u,v);0>=y&&(r="true",e("#Error_birthhijriCurrvalid").show())}}if(e("#endDateId").is(":visible")){var d=e("#enddte").val(),s=parseInt(d),h=e("#endmnt").val(),l=parseInt(h),b=e("#endyer").val(),w=b;if(void 0!=e("#enddte").val()&&""!=e("#enddte").val()||""==e("#endmnt").val()&&""==e("#endyer").val())if(void 0!=e("#endmnt").val()&&""!=e("#endmnt").val()||""==e("#enddte").val()&&""==e("#endyer").val())if(void 0!=e("#endyer").val()&&""!=e("#endyer").val()||""==e("#endmnt").val()&&""==e("#enddte").val()){if(1>s||s>30)r="true",e("#Error_endhijridatevalid").show();else if(1>l||l>12)r="true",e("#Error_endhijrimonthvalid").show();else if(""!=w&&w.length<4)r="true",e("#Error_endhijrimonthvalid").show();else if(void 0!=e("#enddte").val()&&""!=e("#enddte").val()&&void 0!=e("#endmnt").val()&&""!=e("#endmnt").val()&&void 0!=e("#endyer").val()&&""!=e("#endyer").val()){var I=new Date;I.setFullYear(I.getFullYear()+10);var D=I.getDate(),E=I.getMonth()+1,g=I.getFullYear();10>D&&(D="0"+D),10>E&&(E="0"+E);var _=convertToHijri(D,E,g),u=new Date(e("#endyer").val(),parseInt(e("#endmnt").val())-1,e("#enddte").val()),v=new Date(_),f=dateDiffInDays(u,v);if(0>f)r="true",e("#Error_endhijri10yrvalid").show();else{var T=new Date(n),y=dateDiffInDays(u,T);y>0&&(r="true",e("#Error_endhijriCurrvalid").show())}}}else r="true",e("#Error_endhijridatevalid").show();else r="true",e("#Error_endhijridatevalid").show();else r="true",e("#Error_endhijridatevalid").show()}}if("002"==t&&e("#dates").is(":visible")){var d=e("#dte").val(),s=parseInt(d),h=e("#mnt").val(),l=parseInt(h);""==e("#dte").val()?(r="true",e("#Error_hijridatenull").show()):0==e("#dte").val()?(r="true",e("#Error_hijridatevalid").show()):s>30?(r="true",e("#Error_hijridatevalid").show()):""==e("#mnt").val()?(r="true",e("#Error_hijrimonthnull").show()):0==e("#mnt").val()?(r="true",e("#Error_hijrimonthvalid").show()):l>12?(r="true",e("#Error_hijrimonthvalid").show()):""==e("#yer").val()?(r="true",e("#Error_hijriyearnull").show()):0==e("#yer").val()&&(r="true",e("#Error_hijriyearvalid").show())}if("003"==t&&e("#deporteeid").is(":visible")&&(""==e("#deporteeId").val()?(r="true",e("#Error_deporteeid").show()):10!=e("#deporteeId").val().length&&(r="true",e("#Error_deporteeidlength").show())),"004"==t&&(e("#licence").is(":visible")&&""==e("#licenceType").val()&&(r="true",e("#Error_licenceType").show()),e("#licensetime").is(":visible")&&""==e("#licenseTime").val()&&(r="true",e("#Error_licenseTime").show()),e("#licenceid").is(":visible")&&(""==e("#licenceId").val()?(r="true",e("#Error_licenceId").show()):0==e("#licenceId").val()?(r="true",e("#Error_licenceIdzero").show()):10!=e("#licenceId").val().length&&(r="true",e("#Error_licenceIdlength").show())),e("#visaduration").is(":visible")&&""==e("#visaDuration").val()&&(r="true",e("#Error_visaDuration").show())),"005"==t&&(e("#visano").is(":visible")&&(""==e("#visaNo").val()?(r="true",e("#Error_visano").show()):0==e("#visaNo").val()&&(r="true",e("#Error_visanozero").show())),e("#visatype").is(":visible")&&""==e("#visaType").val()&&(r="true",e("#Error_visaType").show()),e("#visaduration").is(":visible")&&""==e("#visaDuration").val()&&(r="true",e("#Error_visaDuration").show())),"006"==t&&(e("#bodytype").is(":visible")&&""==e("#bodyType").val()&&(r="true",e("#Error_bodyType").show()),e("#newregtype").is(":visible")&&""==e("#newregType").val()&&(r="true",e("#Error_newregType").show()),e("#sequenceno").is(":visible")&&(""==e("#sequenceNo").val()?(r="true",e("#Error_sequenceno").show()):0==e("#sequenceNo").val()?(r="true",e("#Error_sequencenozero").show()):(e("#sequenceNo").val().length<8||e("#sequenceNo").val().length>9)&&(r="true",e("#Error_sequencenolength").show())),e("#newownerid").is(":visible")&&(""==e("#newownerId").val()?(r="true",e("#Error_newownerid").show()):0==e("#newownerId").val()?(r="true",e("#Error_newowneridzero").show()):10!=e("#newownerId").val().length&&(r="true",e("#Error_newowneridlength").show())),e("#currentownerid").is(":visible")&&(""==e("#currentownerId").val()?(r="true",e("#Error_currentownerid").show()):0==e("#currentownerId").val()?(r="true",e("#Error_currentowneridzero").show()):10!=e("#currentownerId").val().length&&(r="true",e("#Error_currentowneridlength").show())),e("#customcardno").is(":visible")&&(""==e("#customcardNo").val()?(r="true",e("#Error_customcardno").show()):0==e("#customcardNo").val()?(r="true",e("#Error_customcardnozero").show()):10!=e("#customcardNo").val().length&&(r="true",e("#Error_customcardnolength").show()))),"007"==t&&e("#passporttype").is(":visible")&&""==e("#passportType").val()&&(r="true",e("#Error_passportType").show()),"007"==t&&e("#passportduration").is(":visible")&&""==e("#passportDuration").val()&&(r="true",e("#Error_passportDuration").show()),"057"==t&&(e("#bodytype").is(":visible")&&""==e("#bodyType").val()&&(r="true",e("#Error_bodyType").show()),e("#newregtype").is(":visible")&&""==e("#newregType").val()&&(r="true",e("#Error_newregType").show()),e("#sequenceno").is(":visible")&&(""==e("#sequenceNo").val()?(r="true",e("#Error_sequenceno").show()):0==e("#sequenceNo").val()?(r="true",e("#Error_sequencenozero").show()):(e("#sequenceNo").val().length<8||e("#sequenceNo").val().length>9)&&(r="true",e("#Error_sequencenolength").show())),e("#newownerid").is(":visible")&&(""==e("#newownerId").val()?(r="true",e("#Error_newownerid").show()):0==e("#newownerId").val()?(r="true",e("#Error_newowneridzero").show()):10!=e("#newownerId").val().length&&(r="true",e("#Error_newowneridlength").show())),e("#currentownerid").is(":visible")&&(""==e("#currentownerId").val()?(r="true",e("#Error_currentownerid").show()):0==e("#currentownerId").val()?(r="true",e("#Error_currentowneridzero").show()):10!=e("#currentownerId").val().length&&(r="true",e("#Error_currentowneridlength").show())),e("#customcardno").is(":visible")&&(""==e("#customcardNo").val()?(r="true",e("#Error_customcardno").show()):0==e("#customcardNo").val()?(r="true",e("#Error_customcardnozero").show()):10!=e("#customcardNo").val().length&&(r="true",e("#Error_customcardnolength").show())),e("#visaduration").is(":visible")&&""==e("#visaDuration").val()&&(r="true",e("#Error_visaDuration").show())),e("#iqamanumber").is(":visible")&&(""==e("#iqamaNumber").val()?(r="true",e("#Error_iqamaNumber").show()):0==e("#iqamaNumber").val()?(r="true",e("#Error_iqamaNumberzero").show()):10!=e("#iqamaNumber").val().length&&(r="true",e("#Error_iqamaNumberlength").show())),e("#sponsorID").is(":visible")&&(""==e("#sponsorId").val()?(r="true",e("#Error_sponsorId").show()):0==e("#sponsorId").val()?(r="true",e("#Error_sponsorIdzeroval").show()):10!=e("#sponsorId").val().length&&(r="true",e("#Error_sponsorIdlength").show())),e("#iqamaID").is(":visible")&&(""==e("#iqamaid").val()?(r="true",e("#Error_iqamaID").show()):0==e("#iqamaid").val()?(r="true",e("#Error_iqamaIDzeroval").show()):10!=e("#iqamaid").val().length&&(r="true",e("#Error_iqamaIDlength").show())),e("#newIqamaID").is(":visible")&&(""==e("#newiqamaid").val()?(r="true",e("#Error_newiqamaID").show()):0==e("#newiqamaid").val()?(r="true",e("#Error_newiqamaIDzeroval").show()):10!=e("#newiqamaid").val().length&&(r="true",e("#Error_newiqamaIDlength").show())),e("#alienID").is(":visible")&&(""==e("#alienId").val()?(r="true",e("#Error_alienID").show()):0==e("#alienId").val()?(r="true",e("#Error_alienIDzeroval").show()):10!=e("#alienId").val().length&&(r="true",e("#Error_alienIDlength").show())),e("#associateID").is(":visible")&&(""==e("#associateId").val()?(r="true",e("#Error_associateID").show()):0==e("#associateId").val()?(r="true",e("#Error_associateIDzeroval").show()):10!=e("#associateId").val().length&&(r="true",e("#Error_associateIDlength").show())),e("#nationalid").is(":visible")&&(""==e("#nationalId").val()?(r="true",e("#Error_nationalId").show()):0==e("#nationalId").val()?(r="true",e("#Error_nationalIdzero").show()):10!=e("#nationalId").val().length&&(r="true",e("#Error_nationalIdlength").show())),e("#cardnumber").is(":visible")&&""==e("#cardNumber").val()&&(r="true",e("#Error_cardNumber").show()),e("#violID").is(":visible")&&(""==e("#violID").val()?(r="true",e("#Error_Traffic").show()):0==e("#violID").val()?(r="true",e("#Error_Trafficzero").show()):10!=e("#violID").val().length&&(r="true",e("#Error_Trafficlength").show())),e("#violIDCivil").is(":visible")&&(""==e("#violIDCivil").val()?(r="true",e("#Error_Civil").show()):0==e("#violIDCivil").val()?(r="true",e("#Error_Civilzero").show()):10!=e("#violIDCivil").val().length&&(r="true",e("#Error_Civillength").show())),e("#issuereason").is(":visible")&&""==e("#issueReason").val()&&(r="true",e("#Error_issueReason").show()),"true"==r)return!1;var q=e("#billerid").val(),j=e("#apptype option:selected").val(),z=j.split("~");j=z[1],m.set("selectedBillerid",q),m.set("selectedsubBillerId",j);var N=(m.get("customernumber"),e("#serviceType option:selected").text()),C=e("#apptype option:selected").text(),B="",S="",V="",R="",x="",A="",O="",L="",P="",k="",M="";e("#jobcategory").is(":visible")&&""!=e("#jobCategory").val()&&(B=e("#jobCategory option:selected").text()),e("#iqamatime").is(":visible")&&""!=e("#iqamatime").val()&&(S=e("#iqamatime option:selected").text()),e("#bodyType").is(":visible")&&""!=e("#bodyType").val()&&(V=e("#bodyType option:selected").text()),e("#newregType").is(":visible")&&""!=e("#newregType").val()&&(R=e("#newregType option:selected").text()),e("#passportType").is(":visible")&&""!=e("#passportType").val()&&(x=e("#passportType option:selected").text()),e("#passportDuration").is(":visible")&&""!=e("#passportDuration").val()&&(A=e("#passportDuration option:selected").text()),e("#visaDuration").is(":visible")&&""!=e("#visaDuration").val()&&(O=e("#visaDuration option:selected").text()),e("#visaType").is(":visible")&&""!=e("#visaType").val()&&(L=e("#visaType option:selected").text()),e("#issueReason").is(":visible")&&""!=e("#issueReason").val()&&(P=e("#issueReason option:selected").text()),e("#licenceType").is(":visible")&&""!=e("#licenceType").val()&&(k=e("#licenceType option:selected").text());var U=e("#iqamaTime option:selected").val();e("#licenseTime").is(":visible")&&""!=e("#licenseTime").val()&&(M=e("#licenseTime option:selected").text(),U=e("#licenseTime option:selected").val()),m.set("moiserviceType",N),m.set("moiappType",C);var H="";"014"==j?(""!=e("#birthdte").val()||"undefined"!=e("#birthdte").val())&&(H=e("#birthdte").val()+"/"+e("#birthmnt").val()+"/"+e("#birthyer").val(),"//"==H&&(H="")):"058"==j||"059"==j?(""!=e("#enddte").val()||"undefined"!=e("#enddte").val())&&(H=e("#enddte").val()+"/"+e("#endmnt").val()+"/"+e("#endyer").val(),"//"==H&&(H="")):(""!=e("#dte").val()||"undefined"!=e("#dte").val())&&(H=e("#dte").val()+"/"+e("#mnt").val()+"/"+e("#yer").val(),"//"==H&&(H="")),showSpinner();var Y=this;if("040"==j){var F=e("#citizenId").val(),Q=e("#violID").val(),$=e("#customcardNo").val(),G=e("#bodyType").val(),J=e("#sponsorId").val(),K=e("#jobCategory").val(),W=e("#dependentCount").val(),X=e("#visaNo").val(),Z=e("#visaType").val(),o=e("#visaNumber").val(),H=H,ee=e("#sequenceNo").val(),ie=e("#newownerId").val(),re=e("#newregType").val(),oe=e("#passportType").val(),ae=e("#passportDuration").val(),ne=e("#issueReason").val(),te=e("#licenceType").val(),de=e("#iqamaid").val(),se=e("#householdNo").val(),he=e("#BorderNumber").val(),le=e("#sequenceNo").val(),ue=e("#currentownerId").val(),ce=(e("#deporteeId").val(),e("#licenceId").val()),pe=e("#iqamaNumber").val(),ve=e("#nationalId").val(),me=e("#cardversionnumber").val(),ye=new Array;ye[0]=Q,ye[1]=J,ye[2]=o,ye[3]=W,ye[4]=se,ye[5]=B,ye[6]=U,ye[7]=F,ye[8]=he,ye[9]=V,ye[10]=R,ye[11]=le,ye[12]=ue,ye[13]=ie,ye[14]=$,ye[15]=x,ye[16]=X,ye[17]=L,ye[18]=k,ye[19]=M,ye[20]=ce,ye[21]=pe,ye[22]=de,ye[23]=ve,ye[24]=N,ye[25]=C,ye[26]=H,ye[27]=M,ye[28]=A,ye[29]=O,ye[30]=P,ye[31]=me,""!=M&&"null"!=M&&(ye[6]=""),m.set("dispmoiIdpayment",ye);var be=new Array;be[0]=q,be[1]=j,be[2]=de,be[3]=F,be[4]=Q,be[5]=$,be[6]=G,be[7]=J,be[8]=K,be[9]=U,be[10]=W,be[11]=X,be[12]=Z,be[13]=o,be[14]=H,be[15]=ee,be[16]=ie,be[17]=re,be[18]=oe,be[19]=te,be[20]=ae,be[21]=Ee,be[22]=ne,m.set("moiPayment_Details",be),m.set("moiId",de),showSpinner();var we=function(e){Y.moipaymentsconfirm()},Ie=function(e){Y.errorresponse()};Y.collection=new p([],{});(new Date).getTime();"en-US"==e.i18n.lng()?language="EN":"en-AR"==e.i18n.lng()&&(language="AR"),Y.collection.fetch({data:e.param({paymentmethod:"ACTDEB",billerid:q,servicecode:j,language:language,requestid:timestamp,iqamano:de,shbaccountnumber:" ",shbaccounttype:"1",beneficiaryname:"MOIFEEINQUIRY",citizid:F,txtviolationid:Q,txtvcustomcardno:$,hidbodytype:G,sponsorid:J,hidjobcat:K,hidduration:U,depcnt:W,visacnt:X,hidvisatype:Z,visanum:o,hidhirjiformat:H,hidlicensetype:te,vehicleno:ee,txtownid:ie,hidregtype:re,hidpasstype:oe,beneficiaryidtype:"",customertype:"NAT"}),dataType:"json",type:"POST",cache:!1,success:function(i){if("0000"==ackStatus)we(i);else{var r=m.get("errordesc");e("#showError").text(r),e("#secError").show(),hideSpinner()}},error:Ie})}else{var we=function(e){Y.moipaymentsconfirm()},Ie=function(e){Y.errorresponse()},De=e("#nationalId").val(),me=e("#cardversionnumber").val();Y.collection=new c([],{});(new Date).getTime();if("en-US"==e.i18n.lng()?language="EN":"en-AR"==e.i18n.lng()&&(language="AR"),"058"==j||"058"==j)var F=e("#associateId").val();else var F=e("#citizenId").val();var Q=e("#violID").val(),$=e("#customcardNo").val(),G=e("#bodyType").val(),J=e("#sponsorId").val(),K=e("#jobCategory").val(),W=e("#dependentCount").val(),X=e("#visaNo").val(),Z=e("#visaType").val(),o=e("#visaNumber").val(),H=H,ee=e("#sequenceNo").val(),ie=e("#newownerId").val(),re=e("#newregType").val(),oe=e("#passportType").val(),ae=e("#passportDuration").val(),Ee=e("#visaDuration").val(),ne=e("#issueReason").val(),te=e("#licenceType").val();if("014"==j)var de=e("#newiqamaid").val();else if("058"==j||"059"==j)var de=e("#alienId").val();else var de=e("#iqamaid").val();var pe=e("#iqamaNumber").val(),ce=e("#licenceId").val(),ue=e("#currentownerId").val(),ge=e("#licenseTime").val(),_e=e("#houseHold").val(),fe=e("#BorderNumber").val(),se=e("#household").val(),he=e("#BorderNumber").val(),_e=(e("#deporteeId").val(),e("#houseHold").val());if("undefined"!=typeof te&&""!=te){var Te=te.split("~");te=Te[0]}"undefined"!=typeof J&&""!=J&&("undefined"==typeof De||""==De)&&(De=J),"undefined"!=typeof pe&&""!=pe&&("undefined"==typeof De||""==De)&&(De=pe),"undefined"!=typeof de&&""!=de&&("undefined"==typeof De||""==De)&&(De=de),"undefined"!=typeof ce&&""!=ce&&("undefined"==typeof De||""==De)&&(De=ce),"undefined"!=typeof ue&&""!=ue&&("undefined"==typeof De||""==De)&&(De=ue),"undefined"!=typeof _e&&""!=_e&&("undefined"==typeof De||""==De)&&(De=_e),"undefined"!=typeof fe&&""!=fe&&(("undefined"==typeof De||""==De)&&(De=fe),"undefined"!=typeof J&&""!=J&&(De=fe)),"undefined"!=typeof ge&&""!=ge&&("undefined"==typeof U||""==U)&&(ge=ge);var ye=new Array;ye[0]=Q,ye[1]=J,ye[2]=o,ye[3]=W,ye[4]=se,ye[5]=B,ye[6]=U,ye[7]=F,ye[8]=he,ye[9]=V,ye[10]=R,ye[11]=ee,ye[12]=ue,ye[13]=ie,ye[14]=$,ye[15]=x,ye[16]=X,ye[17]=L,ye[18]=k,ye[19]=M,ye[20]=ce,ye[21]=pe,ye[22]=de,ye[23]=De,ye[24]=N,ye[25]=C,ye[26]=H,ye[27]=A,ye[28]=O,ye[29]=P,ye[30]=Ne,""!=M&&"null"!=M&&(ye[6]=""),m.set("dispmoiIdpayment",ye),m.set("moiId",De);var be=new Array;be[0]=q,be[1]=j,be[2]=De,be[3]=F,be[4]=Q,be[5]=$,be[6]=G,be[7]=J,be[8]=K,be[9]=U,be[10]=W,be[11]=X,be[12]=Z,be[13]=o,be[14]=H,be[15]=ee,be[16]=ie,be[17]=re,be[18]=oe,be[19]=te,be[20]=ae,be[21]=ne;var qe=m.get("cardflagno"),je=m.get("passportDurationValue"),ze=m.get("issuereasonvalue"),Ne=e("#cardNumber").val(),Ne=e("#cardNumber").val();"1"==Ne.length&&(Ne="0"+Ne);var Ce=m.get("visaDurationValue");m.set("moiPayment_Details",be),showSpinner(),Y.collection.fetch({data:e.param({paymentmethod:"ACTDEB",billerid:q,servicecode:j,language:language,requestid:timestamp,iqamano:De,shbaccountnumber:" ",shbaccounttype:"1",beneficiaryname:"MOIFEEINQUIRY",citizid:F,txtviolationid:Q,txtvcustomcardno:$,hidbodytype:G,sponsorid:J,hidjobcat:K,hidduration:U,depcnt:W,visacnt:X,hidvisatype:Z,visanum:o,hidhirjiformat:H,hidlicensetype:te,vehicleno:ee,txtownid:ie,hidregtype:re,hidpasstype:oe,beneficiaryidtype:"",customertype:"NAT",hidvalidityduration:je,hidissuancereason:ze,hidcardversionnumber:Ne,hidvisaduration:Ce,hidverdictnumber:"",cardversionflag:qe}),dataType:"json",type:"POST",cache:!1,success:function(i){if("0000"==ackStatus)we(i);else{var r=m.get("errordesc");e("#showError").text(r),e("#secError").show(),hideSpinner()}},error:Ie})}},moipayments:function(){hideSpinner(),this.$("#mobcontent").html(i.template(o)).i18n()},moipaymentsconfirm:function(){m.get("isNotifyConfirm")||hideSpinner();var i=e("form").serializeArray();m.set("formarray",i),r.history.navigate("#/moipaymentsfee")},errorresponse:function(){hideSpinner(),r.history.navigate("#/exception")},disposeView:function(e){return r.View.prototype.close=function(){this.unbind(),this.undelegateEvents()},void 0!==this.currentView&&this.currentView.close(),this.currentView=e,this.currentView.delegateEvents(),this.currentView}});return y});