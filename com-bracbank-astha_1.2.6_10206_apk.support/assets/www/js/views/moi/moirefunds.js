define(["jquery","underscore","Backbone","text!views/moi/moirefunds.tpl","text!views/common/queuemode.tpl","collections/moi/moirefundsCollections","collections/moi/moiRefundsTrafficCollections","models/validation/moi/moiValidationModel","views/moi/moirefundsfees","collections/moi/moirefundsbillersubcategorylistCollections","collections/moi/moirefundsComboSelectCollections","collections/moi/moirefundsfeeInquiryCollections","collections/moi/moirefundtraficinquiryCollections"],function(e,i,r,o,n,a,d,t,l,h,s,p,c){var u=new EncryptedLocalStorage("secret"),m=r.View.extend({el:"#container",e1:"#menuwrapper",e2:"#mobcontent",events:{"click #refundservice":"submitBiller","change #serviceType":"SelectService","change #apptype":"SelectBillerType","change #licenceType":"LicenseDuration","click #getId":"getId","click #getnewIqamaId":"getnewIqamaId","click #getsponsorId":"getsponsorId","click #getcitizenId":"getcitizenId","click #getviolatorId":"getviolatorId","click #getRunAlienId":"getRunAlienId","click #getBorderNumber":"getBorderNumber","click #getlicenceId":"getlicenceId","click #getcurrentownerId":"getcurrentownerId","click #getAlienId":"getAlienId","click #getIdNat":"getIdNat"},initialize:function(){},render:function(r,o){u.set("currentPage","");var d=u.get("queueMode");if("P"==d){var t=this;showSpinner(),"en-US"==e.i18n.lng()?language="EN":"en-AR"==e.i18n.lng()&&(language="AR");var l=function(e){t.moipayments()},h=function(e){t.errorresponse()};t.collection=new a([],{}),t.collection.fetch({data:e.param({serviceid:r,utilitycompany:o,language:language,requestid:timestamp}),dataType:"json",type:"POST",cache:!1,success:function(e){"0000"==ackStatus?l(e):h(e)},error:h})}else u.set("queueModeModule","moiRefund"),this.$("#mobcontent").html(i.template(n)).i18n()},disableDIV:function(){e("#appType").hide(),e("#submitbuttons").hide(),e(".traffic input").each(function(){e(this).val("")}),e("#jobCategory").empty(),e("#iqamaTime").empty(),e(".moiRefund input").each(function(){e(this).val("")}),e("#bodyType").empty(),e("#newregType").empty(),e("#motorvehicle input").each(function(){e(this).val("")}),e("#motorvehicle").hide(),e("#civil input").each(function(){e(this).val("")}),e("#civil").hide(),e("#deportioncontrol input").each(function(){e(this).val("")}),e("#deportioncontrol").hide(),e("#deportionsentences input").each(function(){e(this).val("")}),e("#deportionsentences").hide(),e("#passportType").empty(),e("#saudipassport input").each(function(){e(this).val("")}),e("#saudipassport").hide(),e("#visaType").empty(),e("#labor input").each(function(){e(this).val("")}),e("#labor").hide(),e("#licenseTime").empty(),e("#licenceType").empty(),e("#drivinglicence input").each(function(){e(this).val("")}),e("#sponsorID input").each(function(){e(this).val("")}),e("#iqamanumber input").each(function(){e(this).val("")}),e("#alienID input").each(function(){e(this).val("")}),e("#newIqamaID input").each(function(){e(this).val("")}),e("#iqamaID input").each(function(){e(this).val("")}),e("#nationalid input").each(function(){e(this).val("")}),e("#citizenid input").each(function(){e(this).val("")}),e("#voilatorId input").each(function(){e(this).val("")}),e("#drivinglicence").hide(),e("#submitbuttons").hide(),e(".traffic,.moiRefund").hide(),e("#civil").hide(),e("#appType").hide(),e("#deportioncontrol").hide(),e("#iqamanumber").hide(),e("#iqamaID").hide(),e("#newIqamaID").hide(),e("#alienID").hide(),e("#BeneType").hide(),e("#sponsorID").hide(),e("#deportionsentences").hide(),e("#drivinglicence").hide(),e("#labor").hide(),e("#dates").hide(),e("#motorvehicle").hide(),e("#nationalid").hide(),e("#citizenid").hide(),e("#voilatorId").hide(),e("#saudipassport").hide(),e("#licence").hide(),e("#Error_visanumber").hide(),e("#Error_sponsorID").hide(),e("#Error_BorderNumber").hide(),e("#Error_dependentcount").hide(),e("#Error_household").hide(),e("#Error_jobCategory").hide(),e("#Error_iqamaTime").hide(),e("#Error_citizenid").hide(),e("#Error_bodyType").hide(),e("#Error_newregType").hide(),e("#Error_sequenceno").hide(),e("#Error_newownerid").hide(),e("#Error_currentownerid").hide(),e("#Error_customcardno").hide(),e("#Error_hijridate").hide(),e("#Error_hijrimonth").hide(),e("#Error_deporteeid").hide(),e("#Error_passportType").hide(),e("#Error_visano").hide(),e("#Error_visaType").hide(),e("#Error_licenceType").hide(),e("#Error_licenseTime").hide(),e("#Error_licenceId").hide(),e("#Error_iqamaID").hide(),e("#Error_newiqamaID").hide(),e("#Error_alienID").hide(),e("#Error_iqamaIDlength").hide(),e("#Error_newiqamaIDlength").hide(),e("#Error_alienIDlength").hide(),e("#Error_iqamaIDzeroval").hide(),e("#Error_newiqamaIDzeroval").hide(),e("#Error_alienIDzeroval").hide(),e("#Error_voilatorId").hide(),e("#Error_voilatorIdzero").hide(),e("#Error_voilatorIdlength").hide(),e("#Error_deportioncontrolId").hide(),e("#Error_deportioncontrolIdzero").hide(),e("#Error_deportioncontrolIdlength").hide()},SelectService:function(){this.disableDIV();var r=e("#serviceType option:selected").val();e("#chk").val(r.split("~")[0]),e("#billerid").val(r.split("~")[1]);var o=(e(r.split("~"))[1],e("#billerid").val());if(""==o||"undefined"==o)return e("#appType").hide(),!1;var n=this;u.set("service",o),e("#apptype").val(o),showSpinner();"en-US"==e.i18n.lng()?language="EN":"en-AR"==e.i18n.lng()&&(language="AR"),showSpinner();var a=function(e){n.errorresponse()};n.collection=new h([],{}),n.collection.fetch({data:e.param({moiserviceid:o,language:language,requestid:timestamp}),dataType:"json",timeout:parseInt(u.get("calltimeout")),type:"POST",cache:!1,success:function(r){if("0000"==ackStatus){if(e("#apptype").empty(),0!=i.size(billerServiceListDTO)){var o=0;e("#apptype").append('<option id="aptime'+o+'"value="">'+e.i18n.t("app.moi.moipayments.selectservicetype")+"</option>"),i.each(billerServiceListDTO,function(i){e("#apptype").append('<option id="aptime'+o+'"value="'+i.strBillerServiceDesc+"~"+i.strBillerServiceCode+'">'+i.strBillerServiceDesc+"</option>"),o++})}e("#appType").show(),hideSpinner()}else a(r)},error:a})},SelectBillerType:function(){e.i18n.lng();e("#submitbuttons").hide(),e(".traffic,.moiRefund").hide(),e("#civil").hide(),e("#deportioncontrol").hide(),e("#iqamanumber").hide(),e("#iqamaID").hide(),e("#newIqamaID").hide(),e("#alienID").hide(),e("#BeneType").hide(),e("#sponsorID").hide(),e("#deportionsentences").hide(),e("#drivinglicence").hide(),e("#labor").hide(),e("#dates").hide(),e("#motorvehicle").hide(),e("#nationalid").hide(),e("#citizenid").hide(),e("#voilatorId").hide(),e("#saudipassport").hide(),e("#licence").hide(),e("#Error_visanumber").hide(),e("#Error_sponsorID").hide(),e("#Error_BorderNumber").hide(),e("#Error_dependentcount").hide(),e("#Error_household").hide(),e("#Error_jobCategory").hide(),e("#Error_iqamaTime").hide(),e("#Error_citizenid").hide(),e("#Error_bodyType").hide(),e("#Error_newregType").hide(),e("#Error_sequenceno").hide(),e("#Error_newownerid").hide(),e("#Error_currentownerid").hide(),e("#Error_customcardno").hide(),e("#Error_hijridate").hide(),e("#Error_hijrimonth").hide(),e("#Error_deporteeid").hide(),e("#Error_passportType").hide(),e("#Error_visano").hide(),e("#Error_visaType").hide(),e("#Error_licenceType").hide(),e("#Error_licenseTime").hide(),e("#Error_licenceId").hide(),e("#Error_iqamaID").hide(),e("#Error_newiqamaID").hide(),e("#Error_alienID").hide(),e("#Error_nationalId").hide(),e("#Error_iqamaNumber").hide(),e("#Error_sponsorId").hide(),e("#Error_BorderNumber").hide(),e("#Error_Traffic").hide(),e("#Error_iqamaIDlength").hide(),e("#Error_newiqamaIDlength").hide(),e("#Error_alienIDlength").hide(),e("#Error_iqamaIDzeroval").hide(),e("#Error_newiqamaIDzeroval").hide(),e("#Error_alienIDzeroval").hide(),e("#Error_householdzeroval").hide(),e("#Error_BorderNumberzero").hide(),e("#Error_sponsorIdzeroval").hide(),e("#Error_visanozero").hide(),e("#Error_citizenidzeroval").hide(),e("#Error_visanozero").hide(),e("#Error_visanumberzeroval").hide(),e("#Error_iqamaNumberzero").hide(),e("#Error_licenceIdzero").hide(),e("#Error_sequencenozero").hide(),e("#Error_currentowneridzero").hide(),e("#Error_newowneridzero").hide(),e("#Error_customcardnozero").hide(),e("#Error_nationalIdzero").hide(),e("#Error_nationalIdlength").hide(),e("#Error_Trafficzero").hide(),e("#Error_Trafficlength").hide(),e("#Error_hijridatenull").hide(),e("#Error_hijrimonthnull").hide(),e("#Error_hijridatevalid").hide(),e("#Error_hijrimonthvalid").hide(),e("#Error_hijriyearnull").hide(),e("#Error_hijriyearvalid").hide(),e("#Error_voilatorId").hide(),e("#Error_voilatorIdzero").hide(),e("#Error_voilatorIdlength").hide(),e("#Error_deportioncontrolId").hide(),e("#Error_deportioncontrolIdzero").hide(),e("#Error_deportioncontrolIdlength").hide();var r=this,o=(e("#chk").val(),e("#apptype option:selected").val().split("~")[1]);("014"==o||"058"==o||"059"==o||"012"==o||"015"==o||"013"==o||"005"==o||"004"==o||"001"==o||"016"==o||"002"==o||"003"==o||"008"==o||"009"==o||"011"==o||"010"==o||"007"==o||"052"==o||"006"==o||"057"==o)&&(e(".moiRefund").show(),"014"==o&&(e("#iqamanumber").hide(),e("#visanumber").hide(),e("#household").hide(),e("#sponsorID").hide(),e("#jobcategory").hide(),e("#iqamatime").hide(),e("#bordernumber").hide(),e("#citizenid").hide(),e("#voilatorId").hide(),e("#iqamaID").hide(),e("#newIqamaID").show(),e("#alienID").hide(),e("#dependentcount").hide(),e("#BeneType").hide()),"058"==o&&(e("#visanumber").hide(),e("#household").hide(),e("#sponsorID").hide(),e("#jobcategory").hide(),e("#iqamatime").hide(),e("#bordernumber").hide(),e("#citizenid").hide(),e("#iqamaID").hide(),e("#newIqamaID").hide(),e("#alienID").show(),e("#nationalid").hide(),e("#citizenid").hide(),e("#voilatorId").hide(),e("#household").hide(),e("#dependentcount").hide(),e("#BeneType").hide()),"059"==o&&(e("#visanumber").hide(),e("#household").hide(),e("#sponsorID").hide(),e("#jobcategory").hide(),e("#iqamatime").hide(),e("#bordernumber").hide(),e("#citizenid").hide(),e("#iqamaID").hide(),e("#newIqamaID").show(),e("#alienID").hide(),e("#nationalid").hide(),e("#citizenid").hide(),e("#voilatorId").hide(),e("#household").hide(),e("#dependentcount").hide(),e("#BeneType").hide()),"013"==o&&(e("#visanumber").hide(),e("#household").hide(),e("#sponsorID").hide(),e("#jobcategory").hide(),e("#iqamatime").hide(),e("#bordernumber").hide(),e("#citizenid").hide(),e("#iqamaID").hide(),e("#newIqamaID").show(),e("#alienID").hide(),e("#nationalid").hide(),e("#citizenid").hide(),e("#voilatorId").hide(),e("#household").hide(),e("#dependentcount").hide(),e("#BeneType").show()),"005"==o&&(e("#iqamanumber").hide(),e("#visanumber").hide(),e("#household").hide(),e("#sponsorID").hide(),e("#jobcategory").hide(),e("#iqamatime").hide(),e("#dependentcount").hide(),e("#bordernumber").hide(),e("#citizenid").hide(),e("#voilatorId").hide(),e("#iqamaID").show(),e("#newIqamaID").hide(),e("#alienID").hide(),e("#BeneType").show()),("008"==o||"004"==o||"012"==o||"015"==o||"052"==o)&&(e("#iqamanumber").hide(),e("#visanumber").hide(),e("#household").hide(),e("#sponsorID").hide(),e("#jobcategory").hide(),e("#iqamatime").hide(),e("#dependentcount").hide(),e("#bordernumber").hide(),e("#citizenid").hide(),e("#voilatorId").hide(),e("#iqamaID").show(),e("#newIqamaID").hide(),e("#alienID").hide(),e("#BeneType").show()),"001"==o&&(e("#iqamaID").hide(),e("#newIqamaID").hide(),e("#alienID").hide(),e("#iqamanumber").hide(),e("#visanumber").hide(),e("#household").hide(),e("#sponsorID").hide(),e("#jobcategory").hide(),e("#iqamatime").hide(),e("#dependentcount").hide(),e("#citizenid").hide(),e("#voilatorId").hide(),e("#bordernumber").show(),e("#BeneType").show()),"016"==o&&(e("#iqamaID").hide(),e("#newIqamaID").hide(),e("#alienID").hide(),e("#iqamanumber").hide(),e("#visanumber").hide(),e("#household").hide(),e("#sponsorID").hide(),e("#jobcategory").hide(),e("#dependentcount").hide(),e("#iqamatime").hide(),e("#citizenid").hide(),e("#voilatorId").hide(),e("#bordernumber").show(),e("#BeneType").show()),("002"==o||"009"==o)&&(e("#iqamaID").hide(),e("#newIqamaID").hide(),e("#alienID").hide(),e("#iqamanumber").hide(),e("#visanumber").hide(),e("#household").hide(),e("#citizenid").hide(),e("#voilatorId").hide(),e("#dependentcount").hide(),e("#sponsorID").hide(),e("#jobcategory").hide(),e("#iqamatime").hide(),"002"==o?e("#bordernumber").show():(e("#bordernumber").hide(),e("#iqamaID").show()),e("#BeneType").show()),"003"==o&&(e("#iqamanumber").hide(),e("#visanumber").hide(),e("#household").hide(),e("#sponsorID").hide(),e("#jobcategory").hide(),e("#iqamatime").hide(),e("#dependentcount").hide(),e("#bordernumber").hide(),e("#citizenid").hide(),e("#voilatorId").hide(),e("#iqamaID").show(),e("#newIqamaID").hide(),e("#alienID").hide(),e("#BeneType").show()),("011"==o||"010"==o||"007"==o)&&(e("#iqamanumber").hide(),e("#visanumber").hide(),e("#household").hide(),e("#sponsorID").hide(),e("#jobcategory").hide(),e("#iqamatime").hide(),e("#dependentcount").hide(),e("#bordernumber").hide(),e("#citizenid").hide(),e("#voilatorId").hide(),e("#iqamaID").show(),e("#newIqamaID").hide(),e("#alienID").hide(),e("#BeneType").show()),"006"==o&&(e("#iqamanumber").hide(),e("#household").hide(),e("#sponsorID").hide(),e("#jobcategory").hide(),e("#iqamatime").hide(),e("#dependentcount").hide(),e("#bordernumber").hide(),e("#citizenid").hide(),e("#voilatorId").hide(),e("#visanumber").hide(),e("#iqamaID").show(),e("#newIqamaID").hide(),e("#alienID").hide(),e("#BeneType").show()),"057"==o&&(e("#iqamanumber").hide(),e("#household").hide(),e("#sponsorID").hide(),e("#jobcategory").hide(),e("#iqamatime").hide(),e("#dependentcount").hide(),e("#bordernumber").hide(),e("#citizenid").hide(),e("#voilatorId").hide(),e("#visanumber").hide(),e("#iqamaID").show(),e("#newIqamaID").hide(),e("#alienID").hide(),e("#BeneType").show()),e("#hidBillerType").val("001"),e("#submitbuttons").show()),("017"==o||"018"==o||"019"==o||"020"==o||"021"==o||"054"==o)&&(e("#nationalid").show(),e("#citizenid").hide(),e("#voilatorId").hide(),e("#civil").show(),e("#dates").hide(),e("#dte").val(""),e("#mnt").val(""),e("#yer").val(""),e("#nationalId").val(""),"017"==o&&e("#hijrilabel").text(e.i18n.t("app.moi.moipayments.dob")),"018"==o&&e("#hijrilabel").text(e.i18n.t("app.moi.moipayments.dod")),"020"==o&&e("#hijrilabel").text(e.i18n.t("app.moi.moipayments.dodv")),"021"==o&&e("#hijrilabel").text(e.i18n.t("app.moi.moipayments.dol")),"054"==o&&e("#hijrilabel").text(e.i18n.t("app.moi.moipayments.dol")),"019"==o&&e("#hijrilabel").text(e.i18n.t("app.moi.moipayments.dom")),e("#hidBillerType").val("002"),e("#civil").show(),e("#submitbuttons").show()),"021"==o&&(e("#nationalid").show(),e("#citizenid").hide(),e("#voilatorId").hide(),e("#civil").hide(),e("#dates").hide(),e("#nationalId").val(""),e("#hidBillerType").val("002"),e("#civil").hide(),e("#submitbuttons").show()),"053"==o&&(e("#nationalid").show(),e("#citizenid").hide(),e("#voilatorId").hide(),e("#civil").hide(),e("#dates").hide(),e("#nationalId").val(""),e("#hidBillerType").val("002"),e("#civil").hide(),e("#submitbuttons").show()),"054"==o&&(e("#nationalid").show(),e("#citizenid").hide(),e("#voilatorId").hide(),e("#civil").hide(),e("#dates").hide(),e("#nationalId").val(""),e("#hidBillerType").val("002"),e("#civil").hide(),e("#submitbuttons").show()),("046"==o||"047"==o||"050"==o)&&(e("#iqamanumber").show(),e("#deporteeid").hide(),e("#hidBillerType").val("003"),e("#deportionsentences").show(),e("#submitbuttons").show()),("022"==o||"023"==o||"024"==o||"025"==o)&&(e("#hidBillerType").val("004"),e("#drivinglicence").show(),e("#submitbuttons").show()),("038"==o||"039"==o)&&(e("#hidBillerType").val("005"),e("#labor").hide(),e("#sponsorID").show(),"039"==o?e("#visatype").hide():e("#visatype").hide(),e("#submitbuttons").show()),("032"==o||"031"==o||"030"==o||"029"==o||"028"==o||"043"==o||"042"==o||"026"==o||"027"==o||"044"==o||"045"==o||"049"==o)&&(("032"==o||"027"==o||"049"==o)&&(e("#bodytype").hide(),e("#newregtype").hide(),e("#customcardno").hide(),e("#sequenceno").show(),e("#newownerid").hide(),e("#currentownerid").hide(),e("#iqamaID").hide(),e("#newIqamaID").hide(),e("#alienID").hide()),("031"==o||"030"==o||"029"==o||"028"==o||"026"==o)&&(e("#bodytype").hide(),e("#newregtype").hide(),e("#customcardno").hide(),e("#sequenceno").show(),e("#newownerid").hide(),e("#currentownerid").hide(),e("#iqamaID").hide(),e("#newIqamaID").hide(),e("#alienID").hide()),("043"==o||"042"==o)&&(e("#bodytype").hide(),e("#newregtype").hide(),e("#customcardno").show(),e("#sequenceno").hide(),e("#newownerid").hide(),e("#currentownerid").hide(),e("#iqamaID").hide(),e("#newIqamaID").hide(),e("#alienID").hide()),("044"==o||"045"==o)&&(e("#bodytype").hide(),e("#newregtype").hide(),e("#customcardno").hide(),e("#sequenceno").show(),e("#newownerid").hide(),e("#currentownerid").hide(),e("#iqamaID").hide(),e("#newIqamaID").hide(),e("#alienID").hide()),e("#hidBillerType").val("006"),e("#motorvehicle").show(),e("#submitbuttons").show()),("035"==o||"036"==o||"037"==o)&&(e("#hidBillerType").val("007"),e("#saudipassport").hide(),e("#nationalid").hide(),e("#citizenid").show(),e("#voilatorId").hide(),e("#submitbuttons").show()),("041"==o||"040"==o)&&("041"==o&&(e(".traffic").show(),e("#BeneType").show(),e("#voilatorId").show(),e("#newIqamaID").hide(),e("#alienID").hide()),"040"==o&&(e(".traffic").hide(),e("#voilatorId").show(),e("#newIqamaID").hide(),e("#alienID").hide()),e("#hidBillerType").val("008"),e("#submitbuttons").show()),"048"==o&&(e("#newIqamaID").hide(),e("#alienID").hide(),e("#hidBillerType").val("127"),e("#deportioncontrol").show(),e("#submitbuttons").show()),showSpinner();var n=function(e){r.errorresponse()};r.collection=new s([],{}),r.collection.fetch({dataType:"json",type:"POST",cache:!1,success:function(r){if("0000"==ackStatus){if(e("#iqamaTime").empty(),e("#jobCategory").empty(),e("#bodyType").empty(),e("#newregType").empty(),e("#passportType").empty(),e("#visaType").empty(),e("#licenceType").empty(),e("#licenseTime").empty(),0!=i.size(BeneficiaryType)){var o=0;e("#benetype").append('<option id="BeneficiaryTypeVal'+o+'"value="">'+e.i18n.t("app.moi.moipayments.selectbenetype")+"</option>"),i.each(BeneficiaryType,function(i){e("#benetype").append('<option id="BeneficiaryTypeVal'+o+'"value="'+i.paramCode+'">'+i.paramDesc+"</option>"),o++}),e("#benetype").show()}if(0!=i.size(JobCategory)){var o=0;e("#jobCategory").append('<option id="jobCategoryVal'+o+'"value="">'+e.i18n.t("app.moi.moipayments.selectcategory")+"</option>"),i.each(JobCategory,function(i){e("#jobCategory").append('<option id="jobCategoryVal'+o+'"value="'+i.paramCode+'">'+i.paramDesc+"</option>"),o++}),e("#jobCategory").show()}if(0!=i.size(IqamaTimeDuration)){var o=0;e("#iqamaTime").append('<option id="iqamaTimeVal'+o+'"value="">'+e.i18n.t("app.moi.moipayments.selectiqamaduration")+"</option>"),i.each(IqamaTimeDuration,function(i){e("#iqamaTime").append('<option id="iqamaTimeVal'+o+'"value="'+i.paramCode+'">'+i.paramDesc+"</option>"),o++}),e("#iqamaTime").show()}if(0!=i.size(VehicleBodyType)){var o=0;e("#bodyType").append('<option id="bodyTypeVal'+o+'"value="">'+e.i18n.t("app.moi.moipayments.selectbodytype")+"</option>"),i.each(VehicleBodyType,function(i){e("#bodyType").append('<option id="bodyTypeVal'+o+'"value="'+i.paramCode+'">'+i.paramDesc+"</option>"),o++}),e("#bodyType").show()}if(0!=i.size(MotorVehicleRegistrationType)){var o=0;e("#newregType").append('<option id="newregVal'+o+'"value="">'+e.i18n.t("app.moi.moipayments.selectregtype")+"</option>"),i.each(MotorVehicleRegistrationType,function(i){e("#newregType").append('<option id="newregVal'+o+'"value="'+i.paramCode+'">'+i.paramDesc+"</option>"),o++}),e("#newregType").show()}if(0!=i.size(SaudiPassportType)){var o=0;e("#passportType").append('<option id="selectpassporttypeVal'+o+'"value="">'+e.i18n.t("app.moi.moipayments.selectpassporttype")+"</option>"),i.each(SaudiPassportType,function(i){e("#passportType").append('<option id="selectpassporttypeVal'+o+'"value="'+i.paramCode+'">'+i.paramDesc+"</option>"),o++}),e("#passportType").show()}if(0!=i.size(LaborImportationVisaType)){var o=0;e("#visaType").append('<option id="visaTypeVal'+o+'"value="">'+e.i18n.t("app.moi.moipayments.selectvisatype")+"</option>"),i.each(LaborImportationVisaType,function(i){e("#visaType").append('<option id="visaTypeVal'+o+'"value="'+i.paramCode+'">'+i.paramDesc+"</option>"),o++}),e("#visaType").show()}if(0!=i.size(DrivingLicenseType)){var o=0;e("#licenceType").append('<option id="licenceTypeVal'+o+'"value="">'+e.i18n.t("app.moi.moipayments.selectlicense")+"</option>"),i.each(DrivingLicenseType,function(i){e("#licenceType").append('<option id="licenceTypeVal'+o+'"value="'+i.paramCode+"~"+i.paramvalue+'">'+i.paramDesc+"</option>"),o++}),e("#licenceType").hide(),e("#licence").hide()}0!=i.size(DrivingLicenseDuration)&&(e("#licenseTime").append('<option id="licenseTimeVal'+o+'"value="">'+e.i18n.t("app.moi.moipayments.selectlicenseduration")+"</option>"),u.set("LicenseDuration",DrivingLicenseDuration)),hideSpinner()}else n(r)},error:n})},getIdNat:function(){e("#nationalId").val(u.get("iqama_number"))},getId:function(){e("#iqamaid").val(u.get("iqama_number"))},getnewIqamaId:function(){e("#newiqamaid").val(u.get("iqama_number"))},getsponsorId:function(){e("#sponsorId").val(u.get("iqama_number"))},getBorderNumber:function(){e("#BorderNumber").val(u.get("iqama_number"))},getlicenceId:function(){e("#licenceId").val(u.get("iqama_number"))},getcurrentownerId:function(){e("#currentownerId").val(u.get("iqama_number"))},getcitizenId:function(){e("#citizenId").val(u.get("iqama_number"))},getviolatorId:function(){e("#violator_id").val(u.get("iqama_number"))},getRunAlienId:function(){e("#runalienid").val(u.get("iqama_number"))},getAlienId:function(){e("#alienId").val(u.get("iqama_number"))},LicenseDuration:function(){var r=u.get("LicenseDuration"),o=e("#licenceType option:selected").val(),n=o.split("~")[1];if(e("#licenseTime").empty(),e("#licenseTime").append('<option id="licenseTimeVal"value="">'+e.i18n.t("app.moi.moipayments.selectlicenseduration")+"</option>"),-1!=n.indexOf("/")){var a=n.split("/"),d=0;i.each(r,function(i){i.paramCode==a[d]&&(e("#licenseTime").append('<option id="licenseTimeVal'+d+'"value="'+i.paramCode+'">'+i.paramDesc+"</option>"),d++)})}else{var d=0;i.each(r,function(i){i.paramCode==n&&(e("#licenseTime").append('<option id="licenseTimeVal'+d+'"value="'+i.paramCode+'">'+i.paramDesc+"</option>"),d++)})}},submitBiller:function(i){var r="false";e("#Error_visanumber").hide(),e("#Error_sponsorID").hide(),e("#Error_sponsorId").hide(),e("#Error_BorderNumber").hide(),e("#Error_dependentcount").hide(),e("#Error_household").hide(),e("#Error_jobCategory").hide(),e("#Error_iqamaTime").hide(),e("#Error_citizenid").hide(),e("#Error_iqamaID").hide(),e("#Error_newiqamaID").hide(),e("#Error_alienID").hide(),e("#Error_bodyType").hide(),e("#Error_newregType").hide(),e("#Error_sequenceno").hide(),e("#Error_newownerid").hide(),e("#Error_currentownerid").hide(),e("#Error_customcardno").hide(),e("#Error_sponsorId").hide(),e("#Error_hijridate").hide(),e("#Error_hijrimonth").hide(),e("#Error_deporteeid").hide(),e("#Error_passportType").hide(),e("#Error_visano").hide(),e("#Error_visaType").hide(),e("#Error_licenceType").hide(),e("#Error_licenseTime").hide(),e("#Error_licenceId").hide(),e("#Error_BorderNumberlength").hide(),e("#Error_visanumberlength").hide(),e("#Error_dependentcountlength").hide(),e("#Error_householdlength").hide(),e("#Error_citizenidlength").hide(),e("#Error_sponsorIDlength").hide(),e("#Error_sequencenolength").hide(),e("#Error_currentowneridlength").hide(),e("#Error_newowneridlength").hide(),e("#Error_customcardnolength").hide(),e("#Error_deporteeidlength").hide(),e("#Error_visanolength").hide(),e("#Error_licenceIdlength").hide(),e("#Error_iqamaNumberlength").hide(),e("#Error_iqamaNumber").hide(),e("#Error_iqamaIDlength").hide(),e("#Error_newiqamaIDlength").hide(),e("#Error_alienIDlength").hide(),e("#Error_nationalId").hide(),e("#Error_nationalIdlength").hide(),e("#Error_sponsorIdlength").hide(),e("#Error_iqamaIDzeroval").hide(),e("#Error_newiqamaIDzeroval").hide(),e("#Error_alienIDzeroval").hide(),e("#Error_dependentcountzeroval").hide(),e("#Error_householdzeroval").hide(),e("#Error_BorderNumberzero").hide(),e("#Error_sponsorIdzeroval").hide(),e("#Error_visanozero").hide(),e("#Error_citizenidzeroval").hide(),e("#Error_visanozero").hide(),e("#Error_visanumberzeroval").hide(),e("#Error_iqamaNumberzero").hide(),e("#Error_licenceIdzero").hide(),e("#Error_sequencenozero").hide(),e("#Error_currentowneridzero").hide(),e("#Error_newowneridzero").hide(),e("#Error_customcardnozero").hide(),e("#Error_nationalIdzero").hide(),e("#Error_Trafficzero").hide(),e("#Error_Trafficlength").hide(),e("#Error_Traffic").hide(),e("#Error_hijridatenull").hide(),e("#Error_hijrimonthnull").hide(),e("#Error_hijridatevalid").hide(),e("#Error_hijrimonthvalid").hide(),e("#Error_hijriyearnull").hide(),e("#Error_hijriyearvalid").hide(),e("#Error_voilatorId").hide(),e("#Error_voilatorIdzero").hide(),e("#Error_voilatorIdlength").hide(),e("#Error_deportioncontrolId").hide(),e("#Error_deportioncontrolIdzero").hide(),e("#Error_deportioncontrolIdlength").hide();var o=e("#hidBillerType").val();if("001"==o&&(e("#visanumber").is(":visible")&&(""==e("#visaNumber").val()?(r="true",e("#Error_visanumber").show()):0==e("#visaNumber").val()?(r="true",e("#Error_visanumberzeroval").show()):10!=e("#visaNumber").val().length&&(r="true",e("#Error_visanumberlength").show())),e("#bordernumber").is(":visible")&&(""==e("#BorderNumber").val()?(r="true",e("#Error_BorderNumber").show()):0==e("#BorderNumber").val()?(r="true",e("#Error_BorderNumberzero").show()):10!=e("#BorderNumber").val().length&&(r="true",e("#Error_BorderNumberlength").show())),e("#dependentcount").is(":visible")&&(""==e("#dependentCount").val()?(r="true",e("#Error_dependentcount").show()):0==e("#dependentCount").val()&&(r="true",e("#Error_dependentcountzeroval").show())),e("#household").is(":visible")&&(""==e("#houseHold").val()?(r="true",e("#Error_household").show()):0==e("#houseHold").val()?(r="true",e("#Error_householdzeroval").show()):10!=e("#houseHold").val().length&&(r="true",e("#Error_householdlength").show())),e("#jobcategory").is(":visible")&&""==e("#jobCategory").val()&&(r="true",e("#Error_jobCategory").show()),e("#iqamatime").is(":visible")&&""==e("#iqamaTime").val()&&(r="true",e("#Error_iqamaTime").show())),"002"==o&&e("#dates").is(":visible")){var n=e("#dte").val(),a=parseInt(n),d=e("#mnt").val(),t=parseInt(d);""==e("#dte").val()?(r="true",e("#Error_hijridatenull").show()):0==e("#dte").val()?(r="true",e("#Error_hijridatevalid").show()):a>30?(r="true",e("#Error_hijridatevalid").show()):""==e("#mnt").val()?(r="true",e("#Error_hijrimonthnull").show()):0==e("#mnt").val()?(r="true",e("#Error_hijrimonthvalid").show()):t>12?(r="true",e("#Error_hijrimonthvalid").show()):""==e("#yer").val()?(r="true",e("#Error_hijriyearnull").show()):0==e("#yer").val()&&(r="true",e("#Error_hijriyearvalid").show())}if("003"==o&&e("#deporteeid").is(":visible")&&(""==e("#deporteeId").val()?(r="true",e("#Error_deporteeid").show()):10!=e("#deporteeId").val().length&&(r="true",e("#Error_deporteeidlength").show())),"004"==o&&(e("#licence").is(":visible")&&""==e("#licenceType").val()&&(r="true",e("#Error_licenceType").show()),e("#licensetime").is(":visible")&&""==e("#licenseTime").val()&&(r="true",e("#Error_licenseTime").show()),e("#licenceid").is(":visible")&&(""==e("#licenceId").val()?(r="true",e("#Error_licenceId").show()):0==e("#licenceId").val()?(r="true",e("#Error_licenceIdzero").show()):10!=e("#licenceId").val().length&&(r="true",e("#Error_licenceIdlength").show()))),"005"==o&&(e("#visano").is(":visible")&&(""==e("#visaNo").val()?(r="true",e("#Error_visano").show()):0==e("#visaNo").val()&&(r="true",e("#Error_visanozero").show())),e("#visatype").is(":visible")&&""==e("#visaType").val()&&(r="true",e("#Error_visaType").show())),"006"==o&&(e("#bodytype").is(":visible")&&""==e("#bodyType").val()&&(r="true",e("#Error_bodyType").show()),e("#newregtype").is(":visible")&&""==e("#newregType").val()&&(r="true",e("#Error_newregType").show()),e("#sequenceno").is(":visible")&&(""==e("#sequenceNo").val()?(r="true",e("#Error_sequenceno").show()):0==e("#sequenceNo").val()?(r="true",e("#Error_sequencenozero").show()):(e("#sequenceNo").val().length<8||e("#sequenceNo").val().length>9)&&(r="true",e("#Error_sequencenolength").show())),e("#newownerid").is(":visible")&&(""==e("#newownerId").val()?(r="true",e("#Error_newownerid").show()):0==e("#newownerId").val()?(r="true",e("#Error_newowneridzero").show()):10!=e("#newownerId").val().length&&(r="true",e("#Error_newowneridlength").show())),e("#currentownerid").is(":visible")&&(""==e("#currentownerId").val()?(r="true",e("#Error_currentownerid").show()):0==e("#currentownerId").val()?(r="true",e("#Error_currentowneridzero").show()):10!=e("#currentownerId").val().length&&(r="true",e("#Error_currentowneridlength").show())),e("#customcardno").is(":visible")&&(""==e("#customcardNo").val()?(r="true",e("#Error_customcardno").show()):0==e("#customcardNo").val()?(r="true",e("#Error_customcardnozero").show()):10!=e("#customcardNo").val().length&&(r="true",e("#Error_customcardnolength").show()))),"007"==o&&e("#passporttype").is(":visible")&&""==e("#passportType").val()&&(r="true",e("#Error_passportType").show()),"127"==o&&e("#deportioncontrol").is(":visible")&&(""==e("#runalienid").val()?(r="true",e("#Error_deportioncontrolId").show()):0==e("#runalienid").val()?(r="true",e("#Error_deportioncontrolIdzero").show()):10!=e("#runalienid").val().length&&(r="true",e("#Error_deportioncontrolIdlength").show())),e("#iqamanumber").is(":visible")&&(""==e("#iqamaNumber").val()?(r="true",e("#Error_iqamaNumber").show()):0==e("#iqamaNumber").val()?(r="true",e("#Error_iqamaNumberzero").show()):10!=e("#iqamaNumber").val().length&&(r="true",e("#Error_iqamaNumberlength").show())),e("#sponsorID").is(":visible")&&(""==e("#sponsorId").val()?(r="true",e("#Error_sponsorId").show()):0==e("#sponsorId").val()?(r="true",e("#Error_sponsorIdzeroval").show()):10!=e("#sponsorId").val().length&&(r="true",e("#Error_sponsorIdlength").show())),e("#iqamaID").is(":visible")&&(""==e("#iqamaid").val()?(r="true",e("#Error_iqamaID").show()):0==e("#iqamaid").val()?(r="true",e("#Error_iqamaIDzeroval").show()):10!=e("#iqamaid").val().length&&(r="true",e("#Error_iqamaIDlength").show())),e("#newIqamaID").is(":visible")&&(""==e("#newiqamaid").val()?(r="true",e("#Error_newiqamaID").show()):0==e("#newiqamaid").val()?(r="true",e("#Error_newiqamaIDzeroval").show()):10!=e("#newiqamaid").val().length&&(r="true",e("#Error_newiqamaIDlength").show())),e("#alienID").is(":visible")&&(""==e("#alienId").val()?(r="true",e("#Error_alienID").show()):0==e("#alienId").val()?(r="true",e("#Error_alienIDzeroval").show()):10!=e("#alienId").val().length&&(r="true",e("#Error_alienIDlength").show())),e("#nationalid").is(":visible")&&(""==e("#nationalId").val()?(r="true",e("#Error_nationalId").show()):0==e("#nationalId").val()?(r="true",e("#Error_nationalIdzero").show()):10!=e("#nationalId").val().length&&(r="true",e("#Error_nationalIdlength").show())),e("#citizenid").is(":visible")&&(""==e("#citizenId").val()?(r="true",e("#Error_citizenid").show()):0==e("#citizenId").val()?(r="true",e("#Error_citizenidzeroval").show()):10!=e("#citizenId").val().length&&(r="true",e("#Error_citizenidlength").show())),e("#voilatorId").is(":visible")&&(""==e("#violator_id").val()?(r="true",e("#Error_voilatorId").show()):0==e("#violator_id").val()?(r="true",e("#Error_voilatorIdzero").show()):10!=e("#violator_id").val().length&&(r="true",e("#Error_voilatorIdlength").show())),e("#violID").is(":visible")&&(""==e("#violID").val()?(r="true",e("#Error_Traffic").show()):0==e("#violID").val()?(r="true",e("#Error_Trafficzero").show()):10!=e("#violID").val().length&&(r="true",e("#Error_Trafficlength").show())),"true"==r)return!1;var l=e("#billerid").val(),h=e("#apptype option:selected").val(),s=h.split("~");h=s[1],u.set("selectedBillerid",l),
u.set("selectedsubBillerId",h);var p=(u.get("customernumber"),e("#serviceType option:selected").text()),c=e("#apptype option:selected").text(),m="",v="",I="",y="",w="",_="",b="",E="";e("#jobcategory").is(":visible")&&""!=e("#jobCategory").val()&&(m=e("#jobCategory option:selected").text()),e("#iqamatime").is(":visible")&&""!=e("#iqamatime").val()&&(v=e("#iqamatime option:selected").text()),e("#bodyType").is(":visible")&&""!=e("#bodyType").val()&&(I=e("#bodyType option:selected").text()),e("#newregType").is(":visible")&&""!=e("#newregType").val()&&(y=e("#newregType option:selected").text()),e("#passportType").is(":visible")&&""!=e("#passportType").val()&&(w=e("#passportType option:selected").text()),e("#visaType").is(":visible")&&""!=e("#visaType").val()&&(_=e("#visaType option:selected").text()),e("#licenceType").is(":visible")&&""!=e("#licenceType").val()&&(b=e("#licenceType option:selected").text()),e("#licenseTime").is(":visible")&&""!=e("#licenseTime").val()&&(E=e("#licenseTime option:selected").text()),u.set("moiserviceType",p),u.set("moiappType",c);var g="";(""!=e("#dte").val()||"undefined"!=e("#dte").val())&&(g=e("#dte").val()+"/"+e("#mnt").val()+"/"+e("#yer").val(),"//"==g&&(g=""));var f=this;if(f.moipaymentsconfirm(),"093"==l){var T=e("#citizenId").val(),q=e("#violator_id").val(),D=e("#violID").val(),z=e("#customcardNo").val(),j=e("#bodyType").val(),B=e("#sponsorId").val(),N=e("#jobCategory").val(),C=e("#iqamaTime option:selected").val(),V=e("#dependentCount").val(),S=e("#visaNo").val(),x=e("#visaType").val(),k=e("#visaNumber").val(),g=g,A=e("#sequenceNo").val(),R=e("#newownerId").val(),L=e("#newregType").val(),P=e("#passportType").val(),H=e("#licenceType").val(),M=e("#iqamaid").val(),O=e("#householdNo").val(),U=e("#BorderNumber").val(),J=e("#sequenceNo").val(),$=e("#currentownerId").val(),F=(e("#deporteeId").val(),e("#licenceId").val()),G=e("#iqamaNumber").val(),K=e("#nationalId").val(),Q=e("#houseHold").val(),p=p,c=c;"undefined"!=typeof q&&""!=q&&("undefined"==typeof M||""==M)&&(M=q);var W=new Array;W[0]=D,W[1]=B,W[2]=k,W[3]=V,W[4]=O,W[5]=m,W[6]=C,W[7]=T,W[8]=U,W[9]=I,W[10]=y,W[11]=J,W[12]=$,W[13]=R,W[14]=z,W[15]=w,W[16]=S,W[17]=_,W[18]=b,W[19]=E,W[20]=F,W[21]=G,W[22]=M,W[23]=K,W[24]=p,W[25]=c,W[26]=g,u.set("dispmoiIdrefund",W);var X=new Array;X[0]=l,X[1]=h,X[2]=M,X[3]=T,X[4]=D,X[5]=z,X[6]=j,X[7]=B,X[8]=N,X[9]=C,X[10]=V,X[11]=S,X[12]=x,X[13]=k,X[14]=g,X[15]=A,X[16]=R,X[17]=L,X[18]=P,X[19]=H,u.set("moiId",M),this.undelegateEvents()}else{var Y=e("#nationalId").val();(new Date).getTime();"en-US"==e.i18n.lng()?language="EN":"en-AR"==e.i18n.lng()&&(language="AR");var Z=e("#runalienid").val(),T=e("#citizenId").val(),D=e("#violID").val(),z=e("#customcardNo").val(),j=e("#bodyType").val(),B=e("#sponsorId").val(),N=e("#jobCategory").val(),C=e("#iqamaTime option:selected").val(),V=e("#dependentCount").val(),S=e("#visaNo").val(),x=e("#visaType").val(),k=e("#visaNumber").val(),g=g,A=e("#sequenceNo").val(),R=e("#newownerId").val(),L=e("#newregType").val(),P=e("#passportType").val(),H=e("#licenceType").val();if("014"==h)var M=e("#newiqamaid").val();else if("013"==h)var M=e("#newiqamaid").val();else if("059"==h)var M=e("#newiqamaid").val();else if("058"==h)var M=e("#alienId").val();else var M=e("#iqamaid").val();var G=e("#iqamaNumber").val(),F=e("#licenceId").val(),$=e("#currentownerId").val(),K=e("#nationalId").val(),ee=e("#licenseTime").val(),Q=e("#houseHold").val(),ie=e("#BorderNumber").val(),O=e("#houseHold").val(),U=e("#BorderNumber").val(),J=e("#sequenceNo").val(),Q=(e("#deporteeId").val(),e("#houseHold").val());if("undefined"!=typeof H&&""!=H){var re=H.split("~");H=re[0]}"undefined"!=typeof B&&""!=B&&("undefined"==typeof Y||""==Y)&&(Y=B),"undefined"!=typeof Z&&""!=Z&&("undefined"==typeof Y||""==Y)&&(Y=Z),"undefined"!=typeof G&&""!=G&&("undefined"==typeof Y||""==Y)&&(Y=G),"undefined"!=typeof M&&""!=M&&("undefined"==typeof Y||""==Y)&&(Y=M),"undefined"!=typeof F&&""!=F&&("undefined"==typeof Y||""==Y)&&(Y=F),"undefined"!=typeof T&&""!=T&&("undefined"==typeof Y||""==Y)&&(Y=T),"undefined"!=typeof $&&""!=$&&("undefined"==typeof Y||""==Y)&&(Y=$),"undefined"!=typeof Q&&""!=Q&&("undefined"==typeof Y||""==Y)&&(Y=Q),"undefined"!=typeof ie&&""!=ie&&("undefined"==typeof Y||""==Y)&&(Y=ie),"undefined"!=typeof ee&&""!=ee&&("undefined"==typeof C||""==C)&&(C=ee);var W=new Array;W[0]=D,W[1]=B,W[2]=k,W[3]=V,W[4]=O,W[5]=m,W[6]=C,W[7]=T,W[8]=U,W[9]=I,W[10]=y,W[11]=J,W[12]=$,W[13]=R,W[14]=z,W[15]=w,W[16]=S,W[17]=_,W[18]=b,W[19]=E,W[20]=F,W[21]=G,W[22]=M,W[23]=K,W[24]=p,W[25]=c,W[26]=g,W[27]=Z,u.set("dispmoiIdrefund",W),u.set("moiId",Y);var X=new Array;X[0]=l,X[1]=h,X[2]=Y,X[3]=T,X[4]=D,X[5]=z,X[6]=j,X[7]=B,X[8]=N,X[9]=C,X[10]=V,X[11]=S,X[12]=x,X[13]=k,X[14]=g,X[15]=A,X[16]=R,X[17]=L,X[18]=P,X[19]=H,X[20]=ie,X[21]=M,u.set("moiPayment_Details",X),this.undelegateEvents()}},moipayments:function(){hideSpinner(),this.$("#mobcontent").html(i.template(o)).i18n()},moipaymentsconfirm:function(){hideSpinner();var i=e("form").serializeArray();u.set("formarray",i),r.history.navigate("#/moirefundsconfirm")},errorresponse:function(){hideSpinner(),r.history.navigate("#/exception")},disposeView:function(e){return r.View.prototype.close=function(){this.unbind(),this.undelegateEvents()},void 0!==this.currentView&&this.currentView.close(),this.currentView=e,this.currentView.delegateEvents(),this.currentView}});return m});