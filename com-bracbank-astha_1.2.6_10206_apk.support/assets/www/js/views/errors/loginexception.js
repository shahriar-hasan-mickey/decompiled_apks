define(["jquery","underscore","Backbone","text!views/login/login.tpl","text!views/errors/loginexception.tpl"],function(e,r,t,i,c){var s=new EncryptedLocalStorage("secret"),n=t.View.extend({el:"#container",events:{"click #logoutapp":"BacktoLogin","click #resetsecureaccess":"resetSecureAccess"},initialize:function(){e("div").removeClass("modal-backdrop fade in")},render:function(){var e=s.get("errordesc");return"SUCCESS"==e&&s.set("errordesc",""),e=s.get("errordesc"),this.$el.html(r.template(c,{errordesc:e})),this.$el.trigger("create"),this},resetSecureAccess:function(){t.history.navigate("#/login",{trigger:!0,replace:!0})},BacktoLogin:function(r){r.preventDefault();var i=s.get("errorCode");s.set("isSecureAccess","false"),e(this.el).undelegate("#userlogin","click"),t.history.fragment=null,"30012"==i?(s.set("activate_user","YES"),t.history.navigate("#/forgotpasswordnew",{trigger:!0,replace:!0})):(s.set("activate_user","NO"),t.history.navigate("#/login",{trigger:!0,replace:!0}))}});return n});