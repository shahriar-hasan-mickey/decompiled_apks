$(function(){language=$("html").attr("lang"),$().CardsStack()}),function(t){var e;t.fn.CardsStack=function(){function a(e){if(!u){var a=t(e.target);if(a.hasClass("button"))return e.preventDefault(),!1;var n=parseInt(a.attr("data-position")),i=50,l=0,c=e.detail.direction,v=f*o+"vh",p=o+1,m=0;if(0===n){if("slip:swipe"!=e.type)return e.preventDefault(),!1;l+=f,v="0vh",p=0,m=1}u=!0;var g="left"===c?-200:200,h=d.splice(n,1),C=i*o;a.css("left",g+"%"),o--,s(i,l,m),setTimeout(function(){o++,d=0===p?d.concat(h):h.concat(d),a.addClass("no-transition").css({left:g+"%",top:v,"z-index":p})},C+50),setTimeout(function(){a.removeClass("no-transition").css("left","50%"),r(),u=!1},C+100)}}function s(t,e,a){for(var s,n=o;n>=0;n--){var r=d[n],i=o-n+(a||0);r.css("z-index",i)}n=o,s=setInterval(function(){var t=d[n],a=o-n,r=a*f+(e||0);t.css({left:"50%",top:r+"vh",opacity:1}).attr("data-position",n),--n<0&&clearInterval(s)},t)}function n(){var t,e=0,a=500/c;t=setInterval(function(){var a=d[e];a.css({left:("en"==language?200:-200)+"%"}).attr("data-position",e),++e>o&&clearInterval(t)},a)}function r(){for(var t=0;o>=t;t++)d[t].attr("data-position",t)}if(e)return e;var i=t(".c-cards-stack").eq(0);if(0!==i.length){i.Hide=function(){n()};var l=i.find(".stack-container > li"),c=l.length,o=c-1,d=[],f=4.5,u=!1,v=200,p=v/c;c>3&&i.find(".stack-container").css("margin-bottom",4.5*(c-3)+1+"vh"),t("main").data("exit-timeout",250*c+500),l.each(function(e){var a=t(this),s=o-e;a.css({left:("en"===language?-100:100)+"%",top:s*f+"vh"}),d.push(a)});var m=document.querySelector(".stack-container");new Slip(m),m.addEventListener("slip:swipe",a),m.addEventListener("slip:beforereorder",function(t){t.preventDefault()}),s(p+150),e=i}},t(".c-cards-stack").delegate(".c-cards-stack-item","click",function(){var e=t(this);if("0"==e.attr("data-position")){els.set("isLeftMenu","false"),els.set("isFromStatementDwld","false"),els.set("isAccountDetail","false"),els.set("isCreditCardDetail","false"),els.set("statementType","all"),els.set("isLoanDetail","false"),els.set("prepaid_statement_type","all");var a=e.attr("amount"),s=e.attr("currency"),n=e.attr("productCode"),r=e.attr("cardHolderName"),i=e.attr("category"),l=e.attr("availBalance"),c=e.attr("outStandingAmount"),o=e.attr("cardName"),d=e.attr("tdId"),f=e.attr("branchCode");els.set("selectedID",d),els.set("selectedBranchCode",f),els.set("creditAvailableLimit",a),els.set("creditcardCurrency",s),els.set("productCode",n),els.set("cardHolderName",r),els.set("category",i),els.set("avlBalance",l),els.set("outStandingAmount",c),els.set("cardName",o);var u=e.attr("data-url");window.location.href=u}})}(jQuery);